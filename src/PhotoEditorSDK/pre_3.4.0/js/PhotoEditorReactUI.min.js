(function(n,t){typeof exports=="object"&&typeof module=="object"?module.exports=t(require("./PhotoEditorSDK")):typeof define=="function"&&define.amd?define([["./PhotoEditorSDK"]],t):typeof exports=="object"?exports.PhotoEditorReactUI=t(require("./PhotoEditorSDK")):n.PhotoEditorReactUI=t(n.PhotoEditorSDK)})(this,function(n){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.p="",t(t.s=252)}([function(n,t){"use strict";t.__esModule=!0;t.default=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var f=i(257),u=r(f),e=i(256),o=r(e),s=i(50),h=r(s);t.default=function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof t=="undefined"?"undefined":h.default(t)));n.prototype=o.default(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(u.default?u.default(n,t):n.__proto__=t)}},function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var r=i(50),u=f(r);t.default=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&((typeof t=="undefined"?"undefined":u.default(t))==="object"||typeof t=="function")?t:n}},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});t.ColorMatrix=t.now=t.Log=t.cancelAnimationFrame=t.requestAnimationFrame=t.SDK=t.EXIF=t.ReactDOM=t.UniformType=t.OptionType=t.RenderType=t.Base64=t.Color=t.SharedState=t.Constants=t.EventEmitter=t.SDKUtils=t.Vector2=t.ReactBEM=t.BaseComponent=t.Classnames=t.BEM=t.React=t.Utils=t.Promise=t.PhotoEditorSDK=undefined;var e=i(63),r=u(e),o=i(106),s=u(o),h=i(321),c=u(h),l=i(117),a=u(l),v=i(112),y=u(v),p=i(113),w=u(p),b=i(168),k=u(b),d=i(251),g=u(d),nt=i(240),tt=u(nt),it=i(250),rt=u(it),f=i(253),ut=i(114),ft=u(ut);var et=r.default.Base64,ot=r.default.Color,st=r.default.Math.ColorMatrix,ht=r.default.EventEmitter,ct=r.default.EXIF,lt=r.default.OptionType,at=r.default.Promise,vt=r.default.Utils,yt=r.default.RenderType,pt=r.default,wt=r.default.UniformType,bt=r.default.Math.Vector2,kt=typeof window!="undefined"&&window.performance?window.performance.now.bind(window.performance):i(316);t.PhotoEditorSDK=r.default;t.Promise=at;t.Utils=g.default;t.React=s.default;t.BEM=y.default;t.Classnames=a.default;t.BaseComponent=k.default;t.ReactBEM=w.default;t.Vector2=bt;t.SDKUtils=vt;t.EventEmitter=ht;t.Constants=tt.default;t.SharedState=rt.default;t.Color=ot;t.Base64=et;t.RenderType=yt;t.OptionType=lt;t.UniformType=wt;t.ReactDOM=c.default;t.EXIF=ct;t.SDK=pt;t.requestAnimationFrame=f.requestAnimationFrame;t.cancelAnimationFrame=f.cancelAnimationFrame;t.Log=ft.default;t.now=kt;t.ColorMatrix=st},function(n){function h(){f&&r&&(f=!1,r.length?i=r.concat(i):e=-1,i.length&&o())}function o(){var t,n;if(!f){for(t=setTimeout(h),f=!0,n=i.length;n;){for(r=i,i=[];++e<n;)r&&r[e].run();e=-1;n=i.length}r=null;f=!1;clearTimeout(t)}}function s(n,t){this.fun=n;this.array=t}function u(){}var t=n.exports={},i=[],f=!1,r,e=-1;t.nextTick=function(n){var r=new Array(arguments.length-1),t;if(arguments.length>1)for(t=1;t<arguments.length;t++)r[t-1]=arguments[t];i.push(new s(n,r));i.length!==1||f||setTimeout(o,0)};s.prototype.run=function(){this.fun.apply(null,this.array)};t.title="browser";t.browser=!0;t.env={};t.argv=[];t.version="";t.versions={};t.on=u;t.addListener=u;t.once=u;t.off=u;t.removeListener=u;t.removeAllListeners=u;t.emit=u;t.binding=function(){throw new Error("process.binding is not supported");};t.cwd=function(){return"/"};t.chdir=function(){throw new Error("process.chdir is not supported");};t.umask=function(){return 0}},function(n,t,i){"use strict";(function(t){function i(n,i,r,u,f,e,o,s){var h,c,l;if(t.env.NODE_ENV!=="production"&&i===undefined)throw new Error("invariant requires an error message argument");if(!n){i===undefined?h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."):(c=[r,u,f,e,o,s],l=0,h=new Error(i.replace(/%s/g,function(){return c[l++]})),h.name="Invariant Violation");h.framesToPop=1;throw h;}}n.exports=i}).call(t,i(4))},function(n,t,i){"use strict";(function(t){var u=i(12),r=u;t.env.NODE_ENV!=="production"&&(r=function(n,t){for(var e,u,r=arguments.length,f=Array(r>2?r-2:0),i=2;i<r;i++)f[i-2]=arguments[i];if(t===undefined)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(t.indexOf("Failed Composite propType: ")!==0&&!n){e=0;u="Warning: "+t.replace(/%s/g,function(){return f[e++]});typeof console!="undefined"&&console.error(u);try{throw new Error(u);}catch(o){}}});n.exports=r}).call(t,i(4))},function(n){"use strict";function r(n){if(n===null||n===undefined)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function u(){var i,t,n,u,r;try{if(!Object.assign||(i=new String("abc"),i[5]="de",Object.getOwnPropertyNames(i)[0]==="5"))return!1;for(t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;return(u=Object.getOwnPropertyNames(t).map(function(n){return t[n]}),u.join("")!=="0123456789")?!1:(r={},"abcdefghijklmnopqrst".split("").forEach(function(n){r[n]=n}),Object.keys(Object.assign({},r)).join("")!=="abcdefghijklmnopqrst")?!1:!0}catch(f){return!1}}var t=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;n.exports=u()?Object.assign:function(n){for(var o,f,u,s=r(n),e,h=1;h<arguments.length;h++){u=Object(arguments[h]);for(o in u)t.call(u,o)&&(s[o]=u[o]);if(Object.getOwnPropertySymbols)for(e=Object.getOwnPropertySymbols(u),f=0;f<e.length;f++)i.call(u,e[f])&&(s[e[f]]=u[e[f]])}return s}},function(n,t,i){"use strict";(function(t){function o(n){for(var t;t=n._renderedComponent;)n=t;return n}function s(n,t){var i=o(n);i._nativeNode=t;t[u]=i}function v(n){var t=n._nativeNode;t&&(delete t[u],n._nativeNode=null)}function f(n,i){var h,u,c,l,f;if(!(n._flags&e.hasCachedChildNodes)){h=n._renderedChildren;u=i.firstChild;n:for(c in h)if(h.hasOwnProperty(c)&&(l=h[c],f=o(l)._domID,f!=null)){for(;u!==null;u=u.nextSibling)if(u.nodeType===1&&u.getAttribute(a)===String(f)||u.nodeType===8&&u.nodeValue===" react-text: "+f+" "||u.nodeType===8&&u.nodeValue===" react-empty: "+f+" "){s(l,u);continue n}t.env.NODE_ENV!=="production"?r(!1,"Unable to find element with ID %s.",f):r(!1)}n._flags|=e.hasCachedChildNodes}}function h(n){var t,r,i;if(n[u])return n[u];for(t=[];!n[u];)if(t.push(n),n.parentNode)n=n.parentNode;else return null;for(;n&&(i=n[u]);n=t.pop())r=i,t.length&&f(i,n);return r}function y(n){var t=h(n);return t!=null&&t._nativeNode===n?t:null}function p(n){if((n._nativeNode!==undefined)?void 0:t.env.NODE_ENV!=="production"?r(!1,"getNodeFromInstance: Invalid argument."):r(!1),n._nativeNode)return n._nativeNode;for(var i=[];!n._nativeNode;)i.push(n),n._nativeParent?void 0:t.env.NODE_ENV!=="production"?r(!1,"React DOM tree root should always have a node reference."):r(!1),n=n._nativeParent;for(;i.length;n=i.pop())f(n,n._nativeNode);return n._nativeNode}var c=i(33),l=i(140),r=i(5),a=c.ID_ATTRIBUTE_NAME,e=l,u="__reactInternalInstance$"+Math.random().toString(36).slice(2),w={getClosestInstanceFromNode:h,getInstanceFromNode:y,getNodeFromInstance:p,precacheChildNodes:f,precacheNode:s,uncacheNode:v};n.exports=w}).call(t,i(4))},function(n){"use strict";var t=!!(typeof window!="undefined"&&window.document&&window.document.createElement),i={canUseDOM:t,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};n.exports=i},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3),a=i(167),v=u(a),y=i(216),p=u(y);f=function(n){function t(){var i;o.default(this,t);for(var u=arguments.length,f=Array(u),r=0;r<u;r++)f[r]=arguments[r];return i=h.default(this,n.call.apply(n,[this].concat(f))),i._hasBackButton=!0,i._hasDoneButton=!1,i._backButtonClicked=!1,i._bindAll("_onBackClick","_onDoneClick"),i}return l.default(t,n),t.prototype._onBackClick=function(){this._backButtonClicked=!0;this.props.onSwitchControls("back")},t.prototype._onDoneClick=function(){this.props.onSwitchControls("back")},t.prototype.renderControls=function(){return null},t.prototype.renderOverlayControls=function(){return null},t.prototype.renderWithBEM=function(){var n=this._hasBackButton?r.ReactBEM.createElement(v.default,{onClick:this._onBackClick}):null,t=this._hasDoneButton?r.ReactBEM.createElement(p.default,{onClick:this._onDoneClick}):null;return r.ReactBEM.createElement("div",{bem:"$b:controls"},this.renderOverlayControls(),r.ReactBEM.createElement("div",{bem:"e:table"},n,this.renderControls(),t))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}var u,f,r;Object.defineProperty(t,"__esModule",{value:!0});u=i(0);f=e(u);r=function(){function n(){f.default(this,n)}return n.prototype.getInitialSharedState=function(){return{}},n.prototype.isAvailable=function(){return!1},n}();r.controlsComponent=null;r.canvasControlsComponent=null;r.identifier=null;r.iconPath=null;r.languageKey=null;r.defaultOptions={};t.default=r},function(n){"use strict";function i(n){return function(){return n}}var t=function(){};t.thatReturns=i;t.thatReturnsFalse=i(!1);t.thatReturnsTrue=i(!0);t.thatReturnsNull=i(null);t.thatReturnsThis=function(){return this};t.thatReturnsArgument=function(n){return n};n.exports=t},function(n,t,i){"use strict";var r=i(352);n.exports={debugTool:r}},function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var r=i(115),u=f(r);t.default=function(n,t,i){return t in n?u.default(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}},function(n,t,i){"use strict";(function(t){var c=i(7),e=i(28),u=i(6),l=i(95),f=typeof Symbol=="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103,o={key:!0,ref:!0,__self:!0,__source:!0},s,h,r=function(n,i,r,u,e,o,s){var h={$$typeof:f,type:n,key:i,ref:r,props:s,_owner:o};return t.env.NODE_ENV!=="production"&&(h._store={},l?(Object.defineProperty(h._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(h,"_self",{configurable:!1,enumerable:!1,writable:!1,value:u}),Object.defineProperty(h,"_source",{configurable:!1,enumerable:!1,writable:!1,value:e})):(h._store.validated=!1,h._self=u,h._source=e),Object.freeze&&(Object.freeze(h.props),Object.freeze(h))),h};r.createElement=function(n,i,c){var a,l={},p=null,w=null,d=null,g=null,v,b,y,k;if(i!=null){t.env.NODE_ENV!=="production"?(t.env.NODE_ENV!=="production"?u(i.__proto__==null||i.__proto__===Object.prototype,"React.createElement(...): Expected props argument to be a plain object. Properties defined in its prototype chain will be ignored."):void 0,w=!i.hasOwnProperty("ref")||Object.getOwnPropertyDescriptor(i,"ref").get?null:i.ref,p=!i.hasOwnProperty("key")||Object.getOwnPropertyDescriptor(i,"key").get?null:""+i.key):(w=i.ref===undefined?null:i.ref,p=i.key===undefined?null:""+i.key);d=i.__self===undefined?null:i.__self;g=i.__source===undefined?null:i.__source;for(a in i)i.hasOwnProperty(a)&&!o.hasOwnProperty(a)&&(l[a]=i[a])}if(v=arguments.length-2,v===1)l.children=c;else if(v>1){for(b=Array(v),y=0;y<v;y++)b[y]=arguments[y+2];l.children=b}if(n&&n.defaultProps){k=n.defaultProps;for(a in k)l[a]===undefined&&(l[a]=k[a])}return t.env.NODE_ENV!=="production"&&(typeof l.$$typeof=="undefined"||l.$$typeof!==f)&&(l.hasOwnProperty("key")||Object.defineProperty(l,"key",{get:function(){return s||(s=!0,t.env.NODE_ENV!=="production"?u(!1,"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",typeof n=="function"&&"displayName"in n?n.displayName:"Element"):void 0),undefined},configurable:!0}),l.hasOwnProperty("ref")||Object.defineProperty(l,"ref",{get:function(){return h||(h=!0,t.env.NODE_ENV!=="production"?u(!1,"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",typeof n=="function"&&"displayName"in n?n.displayName:"Element"):void 0),undefined},configurable:!0})),r(n,p,w,d,g,e.current,l)};r.createFactory=function(n){var t=r.createElement.bind(null,n);return t.type=n,t};r.cloneAndReplaceKey=function(n,t){return r(n.type,t,n.ref,n._self,n._source,n._owner,n.props)};r.cloneElement=function(n,i,f){var s,a=c({},n.props),p=n.key,w=n.ref,k=n._self,d=n._source,b=n._owner,v,h,y,l;if(i!=null){t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?u(i.__proto__==null||i.__proto__===Object.prototype,"React.cloneElement(...): Expected props argument to be a plain object. Properties defined in its prototype chain will be ignored."):void 0);i.ref!==undefined&&(w=i.ref,b=e.current);i.key!==undefined&&(p=""+i.key);n.type&&n.type.defaultProps&&(v=n.type.defaultProps);for(s in i)i.hasOwnProperty(s)&&!o.hasOwnProperty(s)&&(a[s]=i[s]===undefined&&v!==undefined?v[s]:i[s])}if(h=arguments.length-2,h===1)a.children=f;else if(h>1){for(y=Array(h),l=0;l<h;l++)y[l]=arguments[l+2];a.children=y}return r(n.type,p,w,k,d,b,a)};r.isValidElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===f};n.exports=r}).call(t,i(4))},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f,e;Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),s=u(o),h=i(2),c=u(h),l=i(1),a=u(l),r=i(3),v=i(18),y=u(v);f=25;e=function(n){function t(){s.default(this,t);var i=c.default(this,n.call(this));return i._isDragging=!1,i._bindAll("_onButtonDragStart","_onButtonDrag","_onButtonDragStop","_onBarDragStart","_onBarDrag","_onBarDragStop","_onListScroll"),i.state={buttonWidth:0,buttonLeft:0,buttonVisible:!1},i}return a.default(t,n),t.prototype.componentDidMount=function(){this.update()},t.prototype._onListScroll=function(){if(!this._isDragging){var n=this._list.scrollWidth-this._list.offsetWidth,t=this._list.scrollLeft,i=this._node.offsetWidth-this.state.buttonWidth,r=t/n;this.setState({buttonLeft:i*r})}},t.prototype._onButtonDragStart=function(){this._isDragging=!0;this._initialButtonPosition=this.state.buttonLeft||0},t.prototype._onButtonDrag=function(n){var t=this._initialButtonPosition+n.x;this._setButtonLeft(t)},t.prototype._onButtonDragStop=function(){this._isDragging=!1},t.prototype._onBarDragStart=function(n){var t=r.Utils.getEventPosition(n);this._initialPosition=t.clone();var i=this._node.getBoundingClientRect(),u=new r.Vector2(i.left,i.top),f=t.clone().subtract(u);this._setButtonLeft(f.x-this.state.buttonWidth/2);document.addEventListener("mousemove",this._onBarDrag);document.addEventListener("touchmove",this._onBarDrag);document.addEventListener("mouseup",this._onBarDragStop);document.addEventListener("touchend",this._onBarDragStop)},t.prototype._onBarDrag=function(n){var i=r.Utils.getEventPosition(n),t=this._node.getBoundingClientRect(),u=new r.Vector2(t.left,t.top),f=i.clone().subtract(u);this._setButtonLeft(f.x-this.state.buttonWidth/2)},t.prototype._onBarDragStop=function(){document.removeEventListener("mousemove",this._onBarDrag);document.removeEventListener("touchmove",this._onBarDrag);document.removeEventListener("mouseup",this._onBarDragStop);document.removeEventListener("touchend",this._onBarDragStop)},t.prototype._setButtonLeft=function(n){var t=this._node.offsetWidth-this.state.buttonWidth,u=this._list.scrollWidth-this._list.offsetWidth,i,r;n=Math.max(0,n);n=Math.min(n,t);this.setState({buttonLeft:n});i=n/t;r=u*i;this._list.scrollLeft=r},t.prototype._updateButtonWidth=function(n){var i=0,r=!1,t=this._list.offsetWidth,u=this._list.scrollWidth;i=t/u*t;r=u>t;this.setState({buttonWidth:i,buttonVisible:r},n)},t.prototype.update=function(){var n=this,t=this.refs,i=t.root,r=t.list;this._node=i;this._list=r;this._list.style.height="auto";this._listDefaultHeight=this._list.clientHeight;this._updateButtonWidth(function(){var t=n._listDefaultHeight;n.state.buttonVisible&&(t+=f);n._list.style.height=t+"px"});this._list.addEventListener("scroll",this._onListScroll)},t.prototype.renderWithBEM=function(){var n={left:this.state.buttonLeft,width:this.state.buttonWidth},t={display:this.state.buttonVisible?"block":"none"},i=r.React.cloneElement(this.props.children,{ref:"list"});return r.ReactBEM.createElement("div",null,i,r.ReactBEM.createElement("div",{bem:"$b:scrollbar",ref:"root",style:t,onMouseDown:this._onBarDragStart,onTouchStart:this._onBarDragStart},r.ReactBEM.createElement(y.default,{onStart:this._onButtonDragStart,onDrag:this._onButtonDrag},r.ReactBEM.createElement("div",{bem:"e:bar",style:n,onMouseDown:this._onButtonDown}))))},t}(r.BaseComponent);t.default=e},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var u,h;Object.defineProperty(t,"__esModule",{value:!0});var c=i(116),l=r(c),a=i(0),f=r(a),v=i(2),e=r(v),y=i(1),o=r(y),s=i(3);u=function(n){function t(i,r,u){var s=arguments.length<=3||arguments[3]===undefined?!1:arguments[3],o;return f.default(this,t),o=e.default(this,n.call(this)),o.type=i,o.title=r,o.text=u,o.overlay=s,o}return o.default(t,n),t.prototype.close=function(){this.emit("close")},t}(s.EventEmitter);h=function(n){function t(){f.default(this,t);var i=e.default(this,n.call(this));return i._modals=[],i}return o.default(t,n),t.prototype.displayLoading=function(n){var t=new u("loading",null,n);return this.addModal(t),t},t.prototype.displayWarning=function(n,t){var i=new u("warning",n,t);return this.addModal(i),i},t.prototype.displayError=function(n,t){var r=arguments.length<=2||arguments[2]===undefined?!1:arguments[2],i=new u("error",n,t,r);return this.addModal(i),i},t.prototype.addModal=function(n){var t=this;this._modals.push(n);n.on("close",function(){t.removeModal(n)});this.emit("update")},t.prototype.removeModal=function(n){var t=this._modals.indexOf(n);this._modals.splice(t,1);this.emit("update")},t.prototype.getModals=function(){return this._modals},l.default(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}(s.EventEmitter);t.default=h},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3);f=function(n){function t(){var r;o.default(this,t);for(var u=arguments.length,f=Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=h.default(this,n.call.apply(n,[this].concat(f))),r._bindAll("_onDragStart","_onDragMove","_onDragEnd"),r}return l.default(t,n),t.prototype._onDragStart=function(n){if(!this.props.disabled){n.preventDefault();n.stopPropagation();this._initialMousePosition=r.Utils.getEventPosition(n);document.addEventListener("mousemove",this._onDragMove);document.addEventListener("touchmove",this._onDragMove);document.addEventListener("mouseup",this._onDragEnd);document.addEventListener("touchend",this._onDragEnd);var i=this.refs.element,t=i.getBoundingClientRect(),u=new r.Vector2(t.left,t.top),f=this._initialMousePosition.clone().subtract(u);this.props.onStart&&this.props.onStart(f,n)}},t.prototype._onDragMove=function(n){n.preventDefault();n.stopPropagation();var t=r.Utils.getEventPosition(n),i=t.clone().subtract(this._initialMousePosition);this.props.onDrag&&this.props.onDrag(i,n)},t.prototype._onDragEnd=function(n){n.preventDefault();n.stopPropagation();n.stopImmediatePropagation();document.removeEventListener("mousemove",this._onDragMove);document.removeEventListener("touchmove",this._onDragMove);document.removeEventListener("mouseup",this._onDragEnd);document.removeEventListener("touchend",this._onDragEnd);this.props.onStop&&this.props.onStop(n)},t.prototype.render=function(){if(!this.props.children||this.props.children instanceof Array)throw new Error("DraggableComponent expects exactly one child.");return r.React.cloneElement(this.props.children,{onMouseDown:this._onDragStart,onTouchStart:this._onDragStart,ref:"element"})},t}(r.BaseComponent);t.default=f},function(n,t,i){var r=i(81)("wks"),e=i(52),u=i(24).Symbol,f=typeof u=="function",o=n.exports=function(n){return r[n]||(r[n]=f&&u[n]||(f?u:e)("Symbol."+n))};o.store=r},function(n,t,i){"use strict";(function(t){function p(){(e.ReactReconcileTransaction&&f)?void 0:t.env.NODE_ENV!=="production"?r(!1,"ReactUpdates: must inject a reconcile transaction class and batching strategy"):r(!1)}function h(){this.reinitializeTransaction();this.dirtyComponentsLength=null;this.callbackQueue=o.getPooled();this.reconcileTransaction=e.ReactReconcileTransaction.getPooled(!0)}function ut(n,t,i,r,u,e){p();f.batchedUpdates(n,t,i,r,u,e)}function ft(n,t){return n._mountOrder-t._mountOrder}function et(n){var h=n.dirtyComponentsLength,f,i,e,o,l,s;for((h===u.length)?void 0:t.env.NODE_ENV!=="production"?r(!1,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",h,u.length):r(!1),u.sort(ft),c++,f=0;f<h;f++)if(i=u[f],e=i._pendingCallbacks,i._pendingCallbacks=null,g.logTopLevelRenders&&(l=i,i._currentElement.props===i._renderedComponent._currentElement&&(l=i._renderedComponent),o="React update: "+l.getName(),console.time(o)),nt.performUpdateIfNecessary(i,n.reconcileTransaction,c),o&&console.timeEnd(o),e)for(s=0;s<e.length;s++)n.callbackQueue.enqueue(e[s],i.getPublicInstance())}function w(n){if(p(),!f.isBatchingUpdates){f.batchedUpdates(w,n);return}u.push(n);n._updateBatchNumber==null&&(n._updateBatchNumber=c+1)}function ot(n,i){f.isBatchingUpdates?void 0:t.env.NODE_ENV!=="production"?r(!1,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."):r(!1);l.enqueue(n,i);s=!0}var k=i(7),o=i(134),d=i(27),g=i(144),v=i(13),nt=i(37),y=i(61),r=i(5),u=[],c=0,l=o.getPooled(),s=!1,f=null,tt={initialize:function(){this.dirtyComponentsLength=u.length},close:function(){this.dirtyComponentsLength!==u.length?(u.splice(0,this.dirtyComponentsLength),a()):u.length=0}},it={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},rt=[tt,it],a,b,e;k(h.prototype,y.Mixin,{getTransactionWrappers:function(){return rt},destructor:function(){this.dirtyComponentsLength=null;o.release(this.callbackQueue);this.callbackQueue=null;e.ReactReconcileTransaction.release(this.reconcileTransaction);this.reconcileTransaction=null},perform:function(n,t,i){return y.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,n,t,i)}});d.addPoolingTo(h);a=function(){var n,i;for(t.env.NODE_ENV!=="production"&&v.debugTool.onBeginFlush();u.length||s;)u.length&&(n=h.getPooled(),n.perform(et,null,n),h.release(n)),s&&(s=!1,i=l,l=o.getPooled(),i.notifyAll(),o.release(i));t.env.NODE_ENV!=="production"&&v.debugTool.onEndFlush()};b={injectReconcileTransaction:function(n){n?void 0:t.env.NODE_ENV!=="production"?r(!1,"ReactUpdates: must provide a reconcile transaction class"):r(!1);e.ReactReconcileTransaction=n},injectBatchingStrategy:function(n){n?void 0:t.env.NODE_ENV!=="production"?r(!1,"ReactUpdates: must provide a batching strategy"):r(!1);(typeof n.batchedUpdates=="function")?void 0:t.env.NODE_ENV!=="production"?r(!1,"ReactUpdates: must provide a batchedUpdates() function"):r(!1);(typeof n.isBatchingUpdates=="boolean")?void 0:t.env.NODE_ENV!=="production"?r(!1,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):r(!1);f=n}};e={ReactReconcileTransaction:null,batchedUpdates:ut,enqueueUpdate:w,flushBatchedUpdates:a,injection:b,asap:ot};n.exports=e}).call(t,i(4))},function(n){var t=n.exports={version:"2.4.0"};typeof __e=="number"&&(__e=t)},function(n,t,i){"use strict";var r=i(54),u=r({bubbled:null,captured:null}),f=r({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),e={topLevelTypes:f,PropagationPhases:u};n.exports=e},function(n,t,i){"use strict";(function(t){function u(n,i,u,f){var o,e,s,h;t.env.NODE_ENV!=="production"&&(delete this.nativeEvent,delete this.preventDefault,delete this.stopPropagation);this.dispatchConfig=n;this._targetInst=i;this.nativeEvent=u;o=this.constructor.Interface;for(e in o)o.hasOwnProperty(e)&&(t.env.NODE_ENV!=="production"&&delete this[e],s=o[e],s?this[e]=s(u):e==="target"?this.target=f:this[e]=u[e]);return h=u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1,this.isDefaultPrevented=h?r.thatReturnsTrue:r.thatReturnsFalse,this.isPropagationStopped=r.thatReturnsFalse,this}function e(n,i){function f(n){var t=r?"setting the method":"setting the property";return u(t,"This is effectively a no-op"),n}function e(){var n=r?"accessing the method":"accessing the property",t=r?"This is a no-op function":"This is set to null";return u(n,t),i}function u(i,r){t.env.NODE_ENV!=="production"?h(!1,"This synthetic event is reused for performance reasons. If you're seeing this, you're %s `%s` on a released/nullified synthetic event. %s. If you must keep the original synthetic event around, use event.persist(). See https://fb.me/react-event-pooling for more information.",i,n,r):void 0}var r=typeof i=="function";return{configurable:!0,set:f,get:e}}var o=i(7),f=i(27),r=i(12),h=i(6),c=!1,l=typeof Proxy=="function",s=["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"],a={type:null,target:null,currentTarget:r.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():n.returnValue=!1,this.isDefaultPrevented=r.thatReturnsTrue)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():n.cancelBubble=!0,this.isPropagationStopped=r.thatReturnsTrue)},persist:function(){this.isPersistent=r.thatReturnsTrue},isPersistent:r.thatReturnsFalse,destructor:function(){var f=this.constructor.Interface,n,r,u;for(n in f)t.env.NODE_ENV!=="production"?Object.defineProperty(this,n,e(n,f[n])):this[n]=null;for(r=0;r<s.length;r++)this[s[r]]=null;t.env.NODE_ENV!=="production"&&(u=i(12),Object.defineProperty(this,"nativeEvent",e("nativeEvent",null)),Object.defineProperty(this,"preventDefault",e("preventDefault",u)),Object.defineProperty(this,"stopPropagation",e("stopPropagation",u)))}});u.Interface=a;t.env.NODE_ENV!=="production"&&l&&(u=new Proxy(u,{construct:function(n,t){return this.apply(n,Object.create(n.prototype),t)},apply:function(n,i,r){return new Proxy(n.apply(i,r),{set:function(n,i,r){return i==="isPersistent"||n.constructor.Interface.hasOwnProperty(i)||s.indexOf(i)!==-1||(t.env.NODE_ENV!=="production"?h(c||n.isPersistent(),"This synthetic event is reused for performance reasons. If you're seeing this, you're adding a new property in the synthetic event object. The property is never released. See https://fb.me/react-event-pooling for more information."):void 0,c=!0),n[i]=r,!0}})}}));u.augmentClass=function(n,t){var i=this,u=function(){},r;u.prototype=i.prototype;r=new u;o(r,n.prototype);n.prototype=r;n.prototype.constructor=n;n.Interface=o({},i.Interface,t);n.augmentClass=i.augmentClass;f.addPoolingTo(n,f.fourArgumentPooler)};f.addPoolingTo(u,f.fourArgumentPooler);n.exports=u}).call(t,i(4))},function(n){var t=n.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=t)},function(n,t,i){var r=i(34),u=i(119),f=i(84),e=Object.defineProperty;t.f=i(29)?Object.defineProperty:function(n,t,i){if(r(n),t=f(t,!0),r(i),u)try{return e(n,t,i)}catch(o){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(n[t]=i.value),n}},function(n){"use strict";var t=function(n){for(var t in n)if(n.hasOwnProperty(t))return t;return null};n.exports=t},function(n,t,i){"use strict";(function(t){var r=i(5),u=function(n){var t=this,i;return t.instancePool.length?(i=t.instancePool.pop(),t.call(i,n),i):new t(n)},f=function(n,t){var i=this,r;return i.instancePool.length?(r=i.instancePool.pop(),i.call(r,n,t),r):new i(n,t)},e=function(n,t,i){var r=this,u;return r.instancePool.length?(u=r.instancePool.pop(),r.call(u,n,t,i),u):new r(n,t,i)},o=function(n,t,i,r){var u=this,f;return u.instancePool.length?(f=u.instancePool.pop(),u.call(f,n,t,i,r),f):new u(n,t,i,r)},s=function(n,t,i,r,u){var f=this,e;return f.instancePool.length?(e=f.instancePool.pop(),f.call(e,n,t,i,r,u),e):new f(n,t,i,r,u)},h=function(n){var i=this;(n instanceof i)?void 0:t.env.NODE_ENV!=="production"?r(!1,"Trying to release an instance into a pool of a different type."):r(!1);n.destructor();i.instancePool.length<i.poolSize&&i.instancePool.push(n)},c=10,l=u,a=function(n,t){var i=n;return i.instancePool=[],i.getPooled=t||l,i.poolSize||(i.poolSize=c),i.release=h,i},v={addPoolingTo:a,oneArgumentPooler:u,twoArgumentPooler:f,threeArgumentPooler:e,fourArgumentPooler:o,fiveArgumentPooler:s};n.exports=v}).call(t,i(4))},function(n){"use strict";n.exports={current:null}},function(n,t,i){n.exports=!i(42)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(n,t,i){var u=i(24),e=i(21),o=i(73),s=i(35),f="prototype",r=function(n,t,i){var b=n&r.F,v=n&r.G,k=n&r.S,w=n&r.P,d=n&r.B,g=n&r.W,l=v?e:e[t]||(e[t]={}),p=l[f],a=v?u:k?u[t]:(u[t]||{})[f],h,y,c;v&&(i=t);for(h in i)(y=!b&&a&&a[h]!==undefined,y&&h in l)||(c=y?a[h]:i[h],l[h]=v&&typeof a[h]!="function"?i[h]:d&&y?o(c,u):g&&a[h]==c?function(n){var t=function(t,i,r){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,i)}return new n(t,i,r)}return n.apply(this,arguments)};return t[f]=n[f],t}(c):w&&typeof c=="function"?o(Function.call,c):c,w&&((l.virtual||(l.virtual={}))[h]=c,n&r.R&&p&&!p[h]&&s(p,h,c)))};r.F=1;r.G=2;r.S=4;r.P=8;r.B=16;r.W=32;r.U=64;r.R=128;n.exports=r},function(n){var t={}.hasOwnProperty;n.exports=function(n,i){return t.call(n,i)}},function(n,t,i){var r=i(120),u=i(74);n.exports=function(n){return r(u(n))}},function(n,t,i){"use strict";(function(t){function f(n,t){return(n&t)===t}var u=i(5),e={MUST_USE_PROPERTY:1,HAS_SIDE_EFFECTS:2,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(n){var s=e,l=n.Properties||{},a=n.DOMAttributeNamespaces||{},v=n.DOMAttributeNames||{},y=n.DOMPropertyNames||{},p=n.DOMMutationMethods||{},i,c;n.isCustomAttribute&&r._isCustomAttributeFunctions.push(n.isCustomAttribute);for(i in l){!r.properties.hasOwnProperty(i)?void 0:t.env.NODE_ENV!=="production"?u(!1,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",i):u(!1);var w=i.toLowerCase(),h=l[i],o={attributeName:w,attributeNamespace:null,propertyName:i,mutationMethod:null,mustUseProperty:f(h,s.MUST_USE_PROPERTY),hasSideEffects:f(h,s.HAS_SIDE_EFFECTS),hasBooleanValue:f(h,s.HAS_BOOLEAN_VALUE),hasNumericValue:f(h,s.HAS_NUMERIC_VALUE),hasPositiveNumericValue:f(h,s.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:f(h,s.HAS_OVERLOADED_BOOLEAN_VALUE)};(o.mustUseProperty||!o.hasSideEffects)?void 0:t.env.NODE_ENV!=="production"?u(!1,"DOMProperty: Properties that have side effects must use property: %s",i):u(!1);(o.hasBooleanValue+o.hasNumericValue+o.hasOverloadedBooleanValue<=1)?void 0:t.env.NODE_ENV!=="production"?u(!1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",i):u(!1);t.env.NODE_ENV!=="production"&&(r.getPossibleStandardName[w]=i);v.hasOwnProperty(i)&&(c=v[i],o.attributeName=c,t.env.NODE_ENV!=="production"&&(r.getPossibleStandardName[c]=i));a.hasOwnProperty(i)&&(o.attributeNamespace=a[i]);y.hasOwnProperty(i)&&(o.propertyName=y[i]);p.hasOwnProperty(i)&&(o.mutationMethod=p[i]);r.properties[i]=o}}},o=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:o,ATTRIBUTE_NAME_CHAR:o+"\\-.0-9\\uB7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:t.env.NODE_ENV!=="production"?{}:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(n){for(var i,t=0;t<r._isCustomAttributeFunctions.length;t++)if(i=r._isCustomAttributeFunctions[t],i(n))return!0;return!1},injection:e};n.exports=r}).call(t,i(4))},function(n,t,i){var r=i(43);n.exports=function(n){if(!r(n))throw TypeError(n+" is not an object!");return n}},function(n,t,i){var r=i(25),u=i(46);n.exports=i(29)?function(n,t,i){return r.f(n,t,u(1,i))}:function(n,t,i){return n[t]=i,n}},function(n,t,i){"use strict";function f(n){var t,i,r;if(u)if(t=n.node,i=n.children,i.length)for(r=0;r<i.length;r++)o(t,i[r],null);else n.html!=null?t.innerHTML=n.html:n.text!=null&&e(t,n.text)}function a(n,t){n.parentNode.replaceChild(t.node,n);f(t)}function v(n,t){u?n.children.push(t):n.node.appendChild(t.node)}function y(n,t){u?n.html=t:n.node.innerHTML=t}function p(n,t){u?n.text=t:e(n.node,t)}function w(){return this.node.nodeName}function r(n){return{node:n,children:[],html:null,text:null,toString:w}}var s=i(135),h=i(96),e=i(161),c=1,l=11,u=typeof document!="undefined"&&typeof document.documentMode=="number"||typeof navigator!="undefined"&&typeof navigator.userAgent=="string"&&/\bEdge\/\d/.test(navigator.userAgent),o=h(function(n,t,i){t.node.nodeType===l||t.node.nodeType===c&&t.node.nodeName.toLowerCase()==="object"&&(t.node.namespaceURI==null||t.node.namespaceURI===s.html)?(f(t),n.insertBefore(t.node,i)):(n.insertBefore(t.node,i),f(t))});r.insertTreeBefore=o;r.replaceChildWithTree=a;r.queueChild=v;r.queueHTML=y;r.queueText=p;n.exports=r},function(n,t,i){"use strict";(function(t){function e(){u.attachRefs(this,this._currentElement)}var u=i(364),r=i(13),f=i(5),o={mountComponent:function(n,i,u,f,o){if(t.env.NODE_ENV!=="production"&&n._debugID!==0)r.debugTool.onBeginReconcilerTimer(n._debugID,"mountComponent");var s=n.mountComponent(i,u,f,o);if(n._currentElement&&n._currentElement.ref!=null&&i.getReactMountReady().enqueue(e,n),t.env.NODE_ENV!=="production"&&n._debugID!==0){r.debugTool.onEndReconcilerTimer(n._debugID,"mountComponent");r.debugTool.onMountComponent(n._debugID)}return s},getNativeNode:function(n){return n.getNativeNode()},unmountComponent:function(n,i){if(t.env.NODE_ENV!=="production"&&n._debugID!==0)r.debugTool.onBeginReconcilerTimer(n._debugID,"unmountComponent");if(u.detachRefs(n,n._currentElement),n.unmountComponent(i),t.env.NODE_ENV!=="production"&&n._debugID!==0){r.debugTool.onEndReconcilerTimer(n._debugID,"unmountComponent");r.debugTool.onUnmountComponent(n._debugID)}},receiveComponent:function(n,i,f,o){var s=n._currentElement,h;if(i!==s||o!==n._context){if(t.env.NODE_ENV!=="production"&&n._debugID!==0)r.debugTool.onBeginReconcilerTimer(n._debugID,"receiveComponent");if(h=u.shouldUpdateRefs(s,i),h&&u.detachRefs(n,s),n.receiveComponent(i,f,o),h&&n._currentElement&&n._currentElement.ref!=null&&f.getReactMountReady().enqueue(e,n),t.env.NODE_ENV!=="production"&&n._debugID!==0){r.debugTool.onEndReconcilerTimer(n._debugID,"receiveComponent");r.debugTool.onUpdateComponent(n._debugID)}}},performUpdateIfNecessary:function(n,i,u){if(n._updateBatchNumber!==u){(n._updateBatchNumber==null||n._updateBatchNumber===u+1)?void 0:t.env.NODE_ENV!=="production"?f(!1,"performUpdateIfNecessary: Unexpected batch number (current %s, pending %s)",u,n._updateBatchNumber):f(!1);return}if(t.env.NODE_ENV!=="production"&&n._debugID!==0)r.debugTool.onBeginReconcilerTimer(n._debugID,"performUpdateIfNecessary");if(n.performUpdateIfNecessary(i),t.env.NODE_ENV!=="production"&&n._debugID!==0){r.debugTool.onEndReconcilerTimer(n._debugID,"performUpdateIfNecessary");r.debugTool.onUpdateComponent(n._debugID)}}};n.exports=o}).call(t,i(4))},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3);f=function(n){function t(){var r;o.default(this,t);for(var u=arguments.length,f=Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=h.default(this,n.call.apply(n,[this].concat(f))),r._bindAll("_onCanvasZoomDone"),r}return l.default(t,n),t.prototype._performHitTest=function(n){var s=this.refs.container,u=s.getBoundingClientRect(),h=new r.Vector2(u.left,u.top),c=n.subtract(h),f=this.context.editor,e=f.getAvailableControls(),o,t,i;for(o in e)if(t=e[o],i=t.clickAtPosition&&t.clickAtPosition(c,f),i){if(i.selectedSprite===this.getSharedState("selectedSprite"))return!0;this.props.onSwitchControls(t,i);return!0}return!1},t.prototype._onCanvasZoomDone=function(){this.forceUpdate()},t.prototype._bindEvents=function(){n.prototype._bindEvents.call(this);this.context.mediator.on(r.Constants.EVENTS.ZOOM_DONE,this._onCanvasZoomDone)},t.prototype._unbindEvents=function(){n.prototype._unbindEvents.call(this);this.context.mediator.off(r.Constants.EVENTS.ZOOM_DONE,this._onCanvasZoomDone)},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3),a=i(217),v=u(a);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype._renderHeader=function(){return this.context.options.showHeader?r.ReactBEM.createElement(v.default,null):null},t.prototype._renderScreen=function(){return r.ReactBEM.createElement("div",null)},t.prototype.renderWithBEM=function(){var n="b:screen";return this.context.options.showHeader||(n+=" m:noHeader"),r.ReactBEM.createElement("div",{bem:n,className:this.props.visible?null:"is-hidden"},this._renderHeader(),this._renderScreen())},t}(r.BaseComponent);t.default=f;f.propTypes={editor:r.React.PropTypes.any}},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var e;Object.defineProperty(t,"__esModule",{value:!0});var o=i(41),s=u(o),h=i(0),c=u(h),l=i(2),a=u(l),v=i(1),y=u(v),r=i(3),p=i(18),f=u(p);e=function(n){function t(){var i;c.default(this,t);for(var u=arguments.length,f=Array(u),r=0;r<u;r++)f[r]=arguments[r];return i=a.default(this,n.call.apply(n,[this].concat(f))),i._bindAll("_onKnobDragStart","_onKnobDrag","_onBarDragStart","_onBarDrag","_onMiddleDotDragStart"),i.state={value:i.props.value||0,sliderPosition:0,foregroundLeft:0,foregroundWidth:0},i}return y.default(t,n),t.prototype.componentDidMount=function(){this._setValue(this.state.value,!1)},t.prototype.componentWillReceiveProps=function(n){n.value!==this.state.value&&this._setValue(n.value,!1)},t.prototype._onMiddleDotDragStart=function(){var n=this.props.minValue+(this.props.maxValue-this.props.minValue)/2;this._setValue(n)},t.prototype._onKnobDragStart=function(n){this._initialSliderPosition=this.state.sliderPosition;this._initialPosition=n},t.prototype._onKnobDrag=function(n){var f=this.refs.bar,i=f.offsetWidth,t=this._initialSliderPosition+n.x,r,u;t=Math.max(0,Math.min(t,i));r=t/i;u=this.props.minValue+(this.props.maxValue-this.props.minValue)*r;this._setValue(u)},t.prototype._onBarDragStart=function(n){this._initialPosition=n.clone();var t=this.refs.bar,i=t.offsetWidth,r=n.x/i,u=this.props.minValue+(this.props.maxValue-this.props.minValue)*r;this._setValue(u)},t.prototype._onBarDrag=function(n){var i=this._initialPosition.clone().add(n),r=this.refs.bar,u=r.offsetWidth,f=i.x/u,t=this.props.minValue+(this.props.maxValue-this.props.minValue)*f;t=Math.max(this.props.minValue,Math.min(this.props.maxValue,t));this._setValue(t)},t.prototype._getKnobStyle=function(){return{left:this.state.sliderPosition}},t.prototype._getForegroundStyle=function(){return{left:this.state.foregroundLeft,width:this.state.foregroundWidth}},t.prototype._displayMiddleDot=function(){return this.props.middleDot!==!1},t.prototype._setValue=function(n){var o=arguments.length<=1||arguments[1]===undefined?!0:arguments[1];n=Math.round(n);var u=this.props,f=u.minValue,s=u.maxValue,t=(n-f)/(s-f),h=this.refs.bar,i=h.offsetWidth,c=i*t,r=t*i,e=0;this._displayMiddleDot()&&(r=Math.abs(t-.5)*i,e=t<.5?i*.5-r:"50%");this.setState({value:n,sliderPosition:c,foregroundWidth:r,foregroundLeft:e});o&&this.props.onChange&&this.props.onChange(n)},t.prototype._buildValue=function(n){return n%1!=0&&(n=n.toFixed(2)),this.props.positiveValuePrefix&&n>=0&&(n=""+this.props.positiveValuePrefix+n),this.props.valueUnit&&(n+=this.props.valueUnit),n},t.prototype.renderWithBEM=function(){var n=null,t,i;return this._displayMiddleDot()&&(n=r.ReactBEM.createElement(f.default,{onStart:this._onMiddleDotDragStart},r.ReactBEM.createElement("div",{bem:"e:middleDot"}))),t={style:this._getForegroundStyle()},i="$b:slider"+(this.props.style?" m:"+this.props.style:""),r.ReactBEM.createElement("div",{bem:i},r.ReactBEM.createElement("div",{bem:"$e:bar",ref:"bar"},r.ReactBEM.createElement(f.default,{onStart:this._onBarDragStart,onDrag:this._onBarDrag},r.ReactBEM.createElement("div",null,r.ReactBEM.createElement("div",{bem:"$e:background"}),r.ReactBEM.createElement("div",s.default({bem:"$e:foreground"},t)),r.ReactBEM.createElement(f.default,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},r.ReactBEM.createElement("div",{bem:"e:knob b:knob m:slider",style:this._getKnobStyle()})))),n),r.ReactBEM.createElement("div",{bem:"$e:labels"},r.ReactBEM.createElement("div",{bem:"e:label m:lowerBoundary"},this._buildValue(this.props.minValue)),r.ReactBEM.createElement("div",{bem:"e:label m:value"},this.props.label," ",this._buildValue(this.state.value)),r.ReactBEM.createElement("div",{bem:"e:label m:upperBoundary"},this._buildValue(this.props.maxValue))))},t}(r.BaseComponent);t.default=e},function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var r=i(255),u=f(r);t.default=u.default||function(n){for(var i,r,t=1;t<arguments.length;t++){i=arguments[t];for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n}},function(n){n.exports=function(n){try{return!!n()}catch(t){return!0}}},function(n){n.exports=function(n){return typeof n=="object"?n!==null:typeof n=="function"}},function(n){n.exports={}},function(n,t,i){var r=i(124),u=i(75);n.exports=Object.keys||function(n){return r(n,u)}},function(n){n.exports=function(n,t){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:t}}},function(n,t,i){"use strict";(function(t){var u=i(56),c=i(89),l=i(93),o=i(155),s=i(156),e=i(5),r={},f=null,h=function(n,t){n&&(c.executeDispatchesInOrder(n,t),n.isPersistent()||n.constructor.release(n))},a=function(n){return h(n,!0)},v=function(n){return h(n,!1)},y={injection:{injectEventPluginOrder:u.injectEventPluginOrder,injectEventPluginsByName:u.injectEventPluginsByName},putListener:function(n,i,f){var s,o;(typeof f=="function")?void 0:t.env.NODE_ENV!=="production"?e(!1,"Expected %s listener to be a function, instead got type %s",i,typeof f):e(!1);s=r[i]||(r[i]={});s[n._rootNodeID]=f;o=u.registrationNameModules[i];o&&o.didPutListener&&o.didPutListener(n,i,f)},getListener:function(n,t){var i=r[t];return i&&i[n._rootNodeID]},deleteListener:function(n,t){var i=u.registrationNameModules[t],f;i&&i.willDeleteListener&&i.willDeleteListener(n,t);f=r[t];f&&delete f[n._rootNodeID]},deleteAllListeners:function(n){var t,i;for(t in r)r[t][n._rootNodeID]&&(i=u.registrationNameModules[t],i&&i.willDeleteListener&&i.willDeleteListener(n,t),delete r[t][n._rootNodeID])},extractEvents:function(n,t,i,r){for(var s,h,f,c=u.plugins,e=0;e<c.length;e++)s=c[e],s&&(h=s.extractEvents(n,t,i,r),h&&(f=o(f,h)));return f},enqueueEvents:function(n){n&&(f=o(f,n))},processEventQueue:function(n){var i=f;f=null;n?s(i,a):s(i,v);!f?void 0:t.env.NODE_ENV!=="production"?e(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):e(!1);l.rethrowCaughtError()},__purge:function(){r={}},__getListenerBank:function(){return r}};n.exports=y}).call(t,i(4))},function(n,t,i){"use strict";(function(t){function v(n,t,i){var r=t.dispatchConfig.phasedRegistrationNames[i];return o(n,r)}function s(n,i,r){t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?a(n,"Dispatching inst must not be null"):void 0);var o=i?e.bubbled:e.captured,f=v(n,r,o);f&&(r._dispatchListeners=u(r._dispatchListeners,f),r._dispatchInstances=u(r._dispatchInstances,n))}function y(n){n&&n.dispatchConfig.phasedRegistrationNames&&r.traverseTwoPhase(n._targetInst,s,n)}function p(n){if(n&&n.dispatchConfig.phasedRegistrationNames){var t=n._targetInst,i=t?r.getParentInstance(t):null;r.traverseTwoPhase(i,s,n)}}function h(n,t,i){if(i&&i.dispatchConfig.registrationName){var f=i.dispatchConfig.registrationName,r=o(n,f);r&&(i._dispatchListeners=u(i._dispatchListeners,r),i._dispatchInstances=u(i._dispatchInstances,n))}}function w(n){n&&n.dispatchConfig.registrationName&&h(n._targetInst,null,n)}function b(n){f(n,y)}function k(n){f(n,p)}function d(n,t,i,u){r.traverseEnterLeave(i,u,h,n,t)}function g(n){f(n,w)}var c=i(22),l=i(47),r=i(89),u=i(155),f=i(156),a=i(6),e=c.PropagationPhases,o=l.getListener,nt={accumulateTwoPhaseDispatches:b,accumulateTwoPhaseDispatchesSkipTarget:k,accumulateDirectDispatches:g,accumulateEnterLeaveDispatches:d};n.exports=nt}).call(t,i(4))},function(n,t,i){"use strict";function u(n,t,i,u){return r.call(this,n,t,i,u)}var r=i(23),f=i(99),e={view:function(n){var t,i;return n.view?n.view:(t=f(n),t!=null&&t.window===t)?t:(i=t.ownerDocument,i?i.defaultView||i.parentWindow:window)},detail:function(n){return n.detail||0}};r.augmentClass(u,e);n.exports=u},function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var o=i(259),f=e(o),s=i(258),r=e(s),u=typeof r.default=="function"&&typeof f.default=="symbol"?function(n){return typeof n}:function(n){return n&&typeof r.default=="function"&&n.constructor===r.default?"symbol":typeof n};t.default=typeof r.default=="function"&&u(f.default)==="symbol"?function(n){return typeof n=="undefined"?"undefined":u(n)}:function(n){return n&&typeof r.default=="function"&&n.constructor===r.default?"symbol":typeof n=="undefined"?"undefined":u(n)}},function(n,t){t.f={}.propertyIsEnumerable},function(n){var t=0,i=Math.random();n.exports=function(n){return"Symbol(".concat(n===undefined?"":n,")_",(++t+i).toString(36))}},function(n,t,i){"use strict";(function(t){var i={};t.env.NODE_ENV!=="production"&&Object.freeze(i);n.exports=i}).call(t,i(4))},function(n,t,i){"use strict";(function(t){var r=i(5),u=function(n){var u={},i;(n instanceof Object&&!Array.isArray(n))?void 0:t.env.NODE_ENV!=="production"?r(!1,"keyMirror(...): Argument must be an object."):r(!1);for(i in n)n.hasOwnProperty(i)&&(u[i]=i);return u};n.exports=u}).call(t,i(4))},function(n){"use strict";var t={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},i={getNativeProps:function(n,i){var u,r;if(!i.disabled)return i;u={};for(r in i)!t[r]&&i.hasOwnProperty(r)&&(u[r]=i[r]);return u}};n.exports=i},function(n,t,i){"use strict";(function(t){function o(){var n,i,o,c,s;if(e)for(n in f)if(i=f[n],o=e.indexOf(n),(o>-1)?void 0:t.env.NODE_ENV!=="production"?u(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",n):u(!1),!r.plugins[o]){i.extractEvents?void 0:t.env.NODE_ENV!=="production"?u(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",n):u(!1);r.plugins[o]=i;c=i.eventTypes;for(s in c)h(c[s],i,s)?void 0:t.env.NODE_ENV!=="production"?u(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",s,n):u(!1)}}function h(n,i,f){var e,o,h;if(!r.eventNameDispatchConfigs.hasOwnProperty(f)?void 0:t.env.NODE_ENV!=="production"?u(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",f):u(!1),r.eventNameDispatchConfigs[f]=n,e=n.phasedRegistrationNames,e){for(o in e)e.hasOwnProperty(o)&&(h=e[o],s(h,i,f));return!0}return n.registrationName?(s(n.registrationName,i,f),!0):!1}function s(n,i,f){if(!r.registrationNameModules[n]?void 0:t.env.NODE_ENV!=="production"?u(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",n):u(!1),r.registrationNameModules[n]=i,r.registrationNameDependencies[n]=i.eventTypes[f].dependencies,t.env.NODE_ENV!=="production"){var e=n.toLowerCase();r.possibleRegistrationNames[e]=n}}var u=i(5),e=null,f={},r={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:t.env.NODE_ENV!=="production"?{}:null,injectEventPluginOrder:function(n){!e?void 0:t.env.NODE_ENV!=="production"?u(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):u(!1);e=Array.prototype.slice.call(n);o()},injectEventPluginsByName:function(n){var e=!1,i,r;for(i in n)n.hasOwnProperty(i)&&(r=n[i],f.hasOwnProperty(i)&&f[i]===r||(!f[i]?void 0:t.env.NODE_ENV!=="production"?u(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",i):u(!1),f[i]=r,e=!0));e&&o()},getPluginModuleForEvent:function(n){var t=n.dispatchConfig,i,u;if(t.registrationName)return r.registrationNameModules[t.registrationName]||null;for(i in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(i)&&(u=r.registrationNameModules[t.phasedRegistrationNames[i]],u))return u;return null},_resetEventPlugins:function(){var o,n,s,i,h,u,c;e=null;for(o in f)f.hasOwnProperty(o)&&delete f[o];r.plugins.length=0;n=r.eventNameDispatchConfigs;for(s in n)n.hasOwnProperty(s)&&delete n[s];i=r.registrationNameModules;for(h in i)i.hasOwnProperty(h)&&delete i[h];if(t.env.NODE_ENV!=="production"){u=r.possibleRegistrationNames;for(c in u)u.hasOwnProperty(c)&&delete u[c]}}};n.exports=r}).call(t,i(4))},function(n,t,i){"use strict";function b(n){return Object.prototype.hasOwnProperty.call(n,e)||(n[e]=w++,s[n[e]]={}),s[n[e]]}var l=i(7),a=i(22),v=i(56),y=i(355),p=i(154),f=i(385),u=i(101),o,s={},h=!1,w=0,c={topAbort:"abort",topAnimationEnd:f("animationend")||"animationend",topAnimationIteration:f("animationiteration")||"animationiteration",topAnimationStart:f("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:f("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},e="_reactListenersID"+String(Math.random()).slice(2),r=l({},y,{ReactEventListener:null,injection:{injectReactEventListener:function(n){n.setHandleTopLevel(r.handleTopLevel);r.ReactEventListener=n}},setEnabled:function(n){r.ReactEventListener&&r.ReactEventListener.setEnabled(n)},isEnabled:function(){return!!(r.ReactEventListener&&r.ReactEventListener.isEnabled())},listenTo:function(n,t){for(var f,e=t,o=b(e),h=v.registrationNameDependencies[n],i=a.topLevelTypes,s=0;s<h.length;s++)f=h[s],o.hasOwnProperty(f)&&o[f]||(f===i.topWheel?u("wheel")?r.ReactEventListener.trapBubbledEvent(i.topWheel,"wheel",e):u("mousewheel")?r.ReactEventListener.trapBubbledEvent(i.topWheel,"mousewheel",e):r.ReactEventListener.trapBubbledEvent(i.topWheel,"DOMMouseScroll",e):f===i.topScroll?u("scroll",!0)?r.ReactEventListener.trapCapturedEvent(i.topScroll,"scroll",e):r.ReactEventListener.trapBubbledEvent(i.topScroll,"scroll",r.ReactEventListener.WINDOW_HANDLE):f===i.topFocus||f===i.topBlur?(u("focus",!0)?(r.ReactEventListener.trapCapturedEvent(i.topFocus,"focus",e),r.ReactEventListener.trapCapturedEvent(i.topBlur,"blur",e)):u("focusin")&&(r.ReactEventListener.trapBubbledEvent(i.topFocus,"focusin",e),r.ReactEventListener.trapBubbledEvent(i.topBlur,"focusout",e)),o[i.topBlur]=!0,o[i.topFocus]=!0):c.hasOwnProperty(f)&&r.ReactEventListener.trapBubbledEvent(f,c[f],e),o[f]=!0)},trapBubbledEvent:function(n,t,i){return r.ReactEventListener.trapBubbledEvent(n,t,i)},trapCapturedEvent:function(n,t,i){return r.ReactEventListener.trapCapturedEvent(n,t,i)},ensureScrollValueMonitoring:function(){if(o===undefined&&(o=document.createEvent&&"pageX"in document.createEvent("MouseEvent")),!o&&!h){var n=p.refreshScrollValues;r.ReactEventListener.monitorScrollValue(n);h=!0}}});n.exports=r},function(n,t,i){"use strict";(function(t){var i={};t.env.NODE_ENV!=="production"&&(i={prop:"prop",context:"context",childContext:"child context"});n.exports=i}).call(t,i(4))},function(n,t,i){"use strict";var r=i(54),u=r({prop:null,context:null,childContext:null});n.exports=u},function(n,t,i){"use strict";function f(n,t,i,u){return r.call(this,n,t,i,u)}var r=i(49),u=i(154),e=i(98),o={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:e,button:function(n){var t=n.button;return"which"in n?t:t===2?2:t===4?1:0},buttons:null,relatedTarget:function(n){return n.relatedTarget||(n.fromElement===n.srcElement?n.toElement:n.fromElement)},pageX:function(n){return"pageX"in n?n.pageX:n.clientX+u.currentScrollLeft},pageY:function(n){return"pageY"in n?n.pageY:n.clientY+u.currentScrollTop}};r.augmentClass(f,o);n.exports=f},function(n,t,i){"use strict";(function(t){var r=i(5),f={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers();this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[];this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(n,i,u,f,e,o,s,h){!this.isInTransaction()?void 0:t.env.NODE_ENV!=="production"?r(!1,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):r(!1);var c,l;try{this._isInTransaction=!0;c=!0;this.initializeAll(0);l=n.call(i,u,f,e,o,s,h);c=!1}finally{try{if(c)try{this.closeAll(0)}catch(a){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return l},initializeAll:function(n){for(var i,r=this.transactionWrappers,t=n;t<r.length;t++){i=r[t];try{this.wrapperInitData[t]=u.OBSERVED_ERROR;this.wrapperInitData[t]=i.initialize?i.initialize.call(this):null}finally{if(this.wrapperInitData[t]===u.OBSERVED_ERROR)try{this.initializeAll(t+1)}catch(f){}}}},closeAll:function(n){var f,i,e,o,s;for(this.isInTransaction()?void 0:t.env.NODE_ENV!=="production"?r(!1,"Transaction.closeAll(): Cannot close transaction when none are open."):r(!1),f=this.transactionWrappers,i=n;i<f.length;i++){e=f[i];o=this.wrapperInitData[i];try{s=!0;o!==u.OBSERVED_ERROR&&e.close&&e.close.call(this,o);s=!1}finally{if(s)try{this.closeAll(i+1)}catch(h){}}}this.wrapperInitData.length=0}},u={Mixin:f,OBSERVED_ERROR:{}};n.exports=u}).call(t,i(4))},function(n){"use strict";function r(n){return t[n]}function u(n){return(""+n).replace(i,r)}var t={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},i=/[&><"']/g;n.exports=u},function(t){t.exports=n},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(14),o=u(e),s=i(0),h=u(s),c=i(2),l=u(c),a=i(1),v=u(a),r=i(3),y=i(173),p=u(y);f=function(n){function t(){var i;h.default(this,t);for(var f=arguments.length,e=Array(f),u=0;u<f;u++)e[u]=arguments[u];return i=l.default(this,n.call.apply(n,[this].concat(e))),i._value=i.props.initialValue.clone(),i._bindAll("_onButtonClick","_onValueChange","_onColorPickerOpen","_onColorPickerClose"),i._events=o.default({},r.Constants.EVENTS.COLORPICKER_OPEN,i._onColorPickerOpen),i.state={overlayVisible:!1},i._transparentPatternCanvas=r.Utils.createTransparentPatternCanvas(),i}return v.default(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._renderColor()},t.prototype.componentDidUpdate=function(){this._renderColor()},t.prototype._onColorPickerOpen=function(n){n!==this&&this.setState({overlayVisible:!1})},t.prototype._onColorPickerClose=function(){this.setState({overlayVisible:!1})},t.prototype._onButtonClick=function(n){n.preventDefault();n.stopPropagation();this.state.overlayVisible||this._emitEvent(r.Constants.EVENTS.COLORPICKER_OPEN,this);this.setState({overlayVisible:!this.state.overlayVisible})},t.prototype._onValueChange=function(n){this._value=n;this._renderColor();this.forceUpdate();this.props.onChange&&this.props.onChange(n)},t.prototype._renderColor=function(){var n=this.refs.canvas,t=n.getContext("2d"),i;n.width=n.offsetWidth;n.height=n.offsetHeight;i=t.createPattern(this._transparentPatternCanvas,"repeat");t.fillStyle=i;t.fillRect(0,0,n.width,n.height);t.fillStyle=this._value.toRGBA();t.fillRect(0,0,n.width,n.height)},t.prototype.renderWithBEM=function(){var n=null,t;return this.state.overlayVisible&&(n=r.ReactBEM.createElement(p.default,{initialValue:this._value,onChange:this._onValueChange,onClose:this._onColorPickerClose})),t=this.state.overlayVisible?"is-active":null,r.ReactBEM.createElement("bem",{specifier:"$b:controls"},r.ReactBEM.createElement("div",{bem:"$b:colorPicker",className:t,onClick:this._onButtonClick},r.ReactBEM.createElement("canvas",{bem:"e:preview",ref:"canvas"}),r.ReactBEM.createElement("div",{bem:"e:label"},this.props.label||this._t("generic.color")),n))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3),a=i(40),v=u(a);f=function(n){function t(){var i;o.default(this,t);for(var u=arguments.length,f=Array(u),r=0;r<u;r++)f[r]=arguments[r];return i=h.default(this,n.call.apply(n,[this].concat(f))),i._bindAll("_onSliderValueChange"),i.state={value:i.props.value},i}return l.default(t,n),t.prototype.componentWillReceiveProps=function(n){n.value!==this.state.value&&(this.state.value=n.value)},t.prototype._onSliderValueChange=function(n){this.props.onChange&&this.props.onChange(n);this.setState({value:n})},t.prototype.renderWithBEM=function(){var n=r.SDKUtils.defaults(this.props,{style:"",middleDot:!1,minValue:1,maxValue:100,label:"Label",onChange:this._onSliderValueChange,value:this.state.value});return r.ReactBEM.createElement("div",{bem:"$b:controls e:overlay m:large m:dark"},r.ReactBEM.createElement(v.default,n))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var u;Object.defineProperty(t,"__esModule",{value:!0});var f=i(0),e=r(f),o=i(2),s=r(o),h=i(1),c=r(h),l=i(3);u=function(n){function t(){var r;e.default(this,t);for(var u=arguments.length,f=Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=s.default(this,n.call.apply(n,[this].concat(f))),r._bindAll("_onRemoveClick","_onItemDragStart","_onItemDragStop","_onItemDrag","_onSpriteUpdate"),r}return c.default(t,n),t.prototype._getAbsoluteSpritePosition=function(){var n=this.context.editor,t=n.getZoom();return this.props.sprite.getPosition().clone().multiply(t)},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this.props.sprite.on("update",this._onSpriteUpdate)},t.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this);this.props.sprite.off("update",this._onSpriteUpdate)},t.prototype.componentWillReceiveProps=function(n){this.props.sprite.off("update",this._onSpriteUpdate);n.sprite.on("update",this._onSpriteUpdate)},t.prototype._onSpriteUpdate=function(){this.forceUpdate()},t.prototype._onItemDragStart=function(){var n=this.props.sprite;this._initialPosition=n.getPosition();this.props.onDragStart&&this.props.onDragStart()},t.prototype._onItemDrag=function(n){var t=this.props.sprite,i=this.context.editor,r=i.getZoom(),u=this._initialPosition.clone().add(n.divide(r));t.setPosition(u)},t.prototype._onItemDragStop=function(){this.props.onDragStop&&this.props.onDragStop()},t.prototype._onRemoveClick=function(n){n.stopPropagation();var t=this.props,r=t.operation,u=t.sprite,i=t.onRemove;r.removeSprite(u);i&&i()},t}(l.BaseComponent);t.default=u},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(41),e=r(s),h=i(14),o=r(h),c=i(0),l=r(c),a=i(2),v=r(a),y=i(1),p=r(y),u=i(3),w=i(209),b=r(w),k=i(208),d=r(k),g=i(207),nt=r(g),tt=i(38),it=r(tt);var f=u.SDK.Operations.SpriteOperation,rt=f.Sticker,ut=f.Text,ft=f.Brush,et=function(n){function t(){var r,i;l.default(this,t);for(var e=arguments.length,s=Array(e),f=0;f<e;f++)s[f]=arguments[f];return i=v.default(this,n.call.apply(n,[this].concat(s))),i._bindAll("_onCanvasClick","_onSpriteDragStart","_onSpriteDragStop","_onOperationUpdated","_onOperationRemoved","_onSpriteFlip","_onSpriteTakeToFront","_onSpriteRemove"),i._canvasClickDisabled=!1,i._events=(r={},o.default(r,u.Constants.EVENTS.OPERATION_UPDATED,i._onOperationUpdated),o.default(r,u.Constants.EVENTS.OPERATION_REMOVED,i._onOperationRemoved),r),i}return p.default(t,n),t.prototype._onOperationRemoved=function(n){var t=this.getSharedState("selectedSprite"),i,r;n===this.getSharedState("operation")&&t&&(i=this.context.editor,r=i.getOrCreateOperation("sprite",{sprites:[t],enabled:!1}),this.setSharedState({operation:r,operationExistedBefore:!1,initialOptions:{}}))},t.prototype._onOperationUpdated=function(n){var t=this.getSharedState("selectedSprite"),i;n===this.getSharedState("operation")&&t&&(i=n.getSprites(),i.indexOf(t)===-1&&i.push(t),this.forceUpdate())},t.prototype._onItemBlur=function(){},t.prototype._onCanvasClick=function(n){if(!this._canvasClickDisabled){var t=this._performHitTest(u.Utils.getEventPosition(n));if(!t){this.getSharedState("selectedSprite")&&this._onItemBlur();this.props.onSwitchControls("home")}}},t.prototype._onSpriteFlip=function(n){var t=this.getSharedState("selectedSprite");switch(n){case"h":t.setFlipHorizontally(!t.getFlipHorizontally());break;case"v":t.setFlipVertically(!t.getFlipVertically())}},t.prototype._onSpriteTakeToFront=function(){var n=this.getSharedState("operation");n.takeSpriteToFront(this.getSharedState("selectedSprite"));this.forceSharedUpdate()},t.prototype._onSpriteRemove=function(){var n=this.getSharedState("operation"),t=this.getSharedState("selectedSprite");n.removeSprite(t);this.setSharedState({selectedSprite:null})},t.prototype._onSpriteDragStart=function(){this._canvasClickDisabled=!0},t.prototype._onSpriteDragStop=function(){var n=this;setTimeout(function(){n._canvasClickDisabled=!1},100)},t.prototype._getContainerStyle=function(){var n=this.context.editor.getSDK().getSprite().getBounds(),t=n.x,i=n.y,r=n.width,u=n.height;return{left:t,top:i,width:r,height:u}},t.prototype._getContainerProps=function(){return{}},t.prototype._getInnerContainerProps=function(){return{style:this._getContainerStyle(),onClick:this._onCanvasClick}},t.prototype._renderSpriteItems=function(){var n=this,t=this.getSharedState("operation"),i=t.getSprites(),r=this.getSharedState("selectedSprite");return i.map(function(i){var e=i===r,f=null;return i instanceof ut?f=b.default:i instanceof rt?f=d.default:i instanceof ft&&(f=nt.default),u.ReactBEM.createElement(f,{operation:t,sharedState:n.props.sharedState,sprite:i,selected:e,onDragStart:n._onSpriteDragStart,onDragStop:n._onSpriteDragStop,onRemove:n._onSpriteRemove.bind(n,i)})})},t.prototype._renderOverlayControls=function(){return null},t.prototype.renderWithBEM=function(){return u.ReactBEM.createElement("div",e.default({bem:"$b:canvasControls e:container m:full",ref:"container"},this._getContainerProps()),u.ReactBEM.createElement("div",e.default({bem:"b:canvasControls e:innerContainer",ref:"root"},this._getInnerContainerProps()),u.ReactBEM.createElement("div",{bem:"$b:spritesCanvasControls",ref:"container"},this._renderSpriteItems(),this._renderOverlayControls())))},t}(it.default);t.default=et},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3);f=function(n){function t(){var r;o.default(this,t);for(var u=arguments.length,f=Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=h.default(this,n.call.apply(n,[this].concat(f))),r._bindAll("_onClick"),r}return l.default(t,n),t.prototype._onClick=function(){this.props.onClick&&this.props.onClick()},t.prototype._renderContent=function(){return null},t.prototype.renderWithBEM=function(){var n="$e:row";return this.props.totalRows&&(n+=" m:row-"+this.props.totalRows),r.ReactBEM.createElement("bem",{specifier:"b:splashScreen"},r.ReactBEM.createElement("div",{bem:n},this._renderContent()))},t}(r.BaseComponent);t.default=f;f.propTypes={onClick:r.React.PropTypes.func}},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=r(e),s=i(2),h=r(s),c=i(1),l=r(c),u=i(3),a=i(244),v=r(a);f=function(n){function t(){var r;o.default(this,t);for(var u=arguments.length,f=Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=h.default(this,n.call.apply(n,[this].concat(f))),r._bindAll("_onNewFile"),r}return l.default(t,n),t.prototype.componentDidMount=function(){this._fileLoader=new v.default(this.refs.fileInput);this._fileLoader.on("file",this._onNewFile)},t.prototype.componentWillUnmount=function(){this._fileLoader.off("file",this._onNewFile);this._fileLoader.dispose();this._fileLoader=null},t.prototype._onNewFile=function(n){this.props.onNewFile&&this.props.onNewFile(n)},t.prototype.open=function(){this._fileLoader.open()},t.prototype.renderWithBEM=function(){return u.ReactBEM.createElement("input",{type:"file",bem:"b:hiddenFileInput",ref:"fileInput",onChange:this._onFileChange})},t}(u.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype.renderWithBEM=function(){var n="$e:button",t;return this.props.style&&(n+=" m:"+this.props.style),this.props.icon&&(n+=" m:withIcon"),t=null,this.props.icon&&(t=r.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath(this.props.icon,!0)})),r.ReactBEM.createElement("bem",{specifier:"$b:subHeader"},r.ReactBEM.createElement("div",{bem:n,onClick:this.props.onClick},t,r.ReactBEM.createElement("div",{bem:"e:label"},this.props.label||"Button")))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype.renderContent=function(){return this.props.children},t.prototype.renderWithBEM=function(){return r.ReactBEM.createElement("div",{bem:"$b:subHeader e:row"},r.ReactBEM.createElement("div",{bem:"e:cell"},this.renderContent()))},t}(r.BaseComponent);t.default=f},function(n){var t={}.toString;n.exports=function(n){return t.call(n).slice(8,-1)}},function(n,t,i){var r=i(268);n.exports=function(n,t,i){if(r(n),t===undefined)return n;switch(i){case 1:return function(i){return n.call(t,i)};case 2:return function(i,r){return n.call(t,i,r)};case 3:return function(i,r,u){return n.call(t,i,r,u)}}return function(){return n.apply(t,arguments)}}},function(n){n.exports=function(n){if(n==undefined)throw TypeError("Can't call method on  "+n);return n}},function(n){n.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(n){n.exports=!0},function(n,t,i){var o=i(34),s=i(284),e=i(75),h=i(80)("IE_PROTO"),u=function(){},f="prototype",r=function(){var t=i(118)("iframe"),u=e.length,n;for(t.style.display="none",i(274).appendChild(t),t.src="javascript:",n=t.contentWindow.document,n.open(),n.write("<script>document.F=Object<\/script>"),n.close(),r=n.F;u--;)delete r[f][e[u]];return r()};n.exports=Object.create||function(n,t){var i;return n!==null?(u[f]=o(n),i=new u,u[f]=null,i[h]=n):i=r(),t===undefined?i:s(i,t)}},function(n,t){t.f=Object.getOwnPropertySymbols},function(n,t,i){var u=i(25).f,f=i(31),r=i(19)("toStringTag");n.exports=function(n,t,i){n&&!f(n=i?n:n.prototype,r)&&u(n,r,{configurable:!0,value:t})}},function(n,t,i){var r=i(81)("keys"),u=i(52);n.exports=function(n){return r[n]||(r[n]=u(n))}},function(n,t,i){var r=i(24),u="__core-js_shared__",f=r[u]||(r[u]={});n.exports=function(n){return f[n]||(f[n]={})}},function(n){var t=Math.ceil,i=Math.floor;n.exports=function(n){return isNaN(n=+n)?0:(n>0?i:t)(n)}},function(n,t,i){var r=i(74);n.exports=function(n){return Object(r(n))}},function(n,t,i){var r=i(43);n.exports=function(n,t){if(!r(n))return n;var i,u;if(t&&typeof(i=n.toString)=="function"&&!r(u=i.call(n))||typeof(i=n.valueOf)=="function"&&!r(u=i.call(n))||!t&&typeof(i=n.toString)=="function"&&!r(u=i.call(n)))return u;throw TypeError("Can't convert object to primitive value");}},function(n,t,i){var u=i(24),r=i(21),f=i(76),e=i(86),o=i(25).f;n.exports=function(n){var t=r.Symbol||(r.Symbol=f?{}:u.Symbol||{});n.charAt(0)=="_"||n in t||o(t,n,{value:e.f(n)})}},function(n,t,i){t.f=i(19)},function(n,t,i){"use strict";(function(t){function c(n,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:n.firstChild}function w(n,t,i){v.insertTreeBefore(n,t,i)}function b(n,t,i){Array.isArray(t)?d(n,t[0],t[1],i):e(n,t,i)}function k(n,t){if(Array.isArray(t)){var i=t[1];t=t[0];o(n,t,i);n.removeChild(i)}n.removeChild(t)}function d(n,t,i,r){for(var u=t,f;;){if(f=u.nextSibling,e(n,u,r),u===i)break;u=f}}function o(n,t,i){for(;;){var r=t.nextSibling;if(r===i)break;else n.removeChild(r)}}function g(n,i,u){var c=n.parentNode,s=n.nextSibling;if(s===i?u&&e(c,document.createTextNode(u),s):u?(h(s,u),o(c,s,i)):o(c,n,i),t.env.NODE_ENV!=="production")r.debugTool.onNativeOperation(f.getInstanceFromNode(n)._debugID,"replace text",u)}var v=i(36),s=i(326),u=i(147),f=i(8),r=i(13),y=i(96),p=i(102),h=i(161),e=y(function(n,t,i){n.insertBefore(t,i)}),l=s.dangerouslyReplaceNodeWithMarkup,a;t.env.NODE_ENV!=="production"&&(l=function(n,t,i){if(s.dangerouslyReplaceNodeWithMarkup(n,t),i._debugID!==0)r.debugTool.onNativeOperation(i._debugID,"replace with",t.toString());else{var u=f.getInstanceFromNode(t.node);if(u._debugID!==0)r.debugTool.onNativeOperation(u._debugID,"mount",t.toString())}});a={dangerouslyReplaceNodeWithMarkup:l,replaceDelimitedText:g,processUpdates:function(n,i){var o,s,e;for(t.env.NODE_ENV!=="production"&&(o=f.getInstanceFromNode(n)._debugID),s=0;s<i.length;s++){e=i[s];switch(e.type){case u.INSERT_MARKUP:if(w(n,e.content,c(n,e.afterNode)),t.env.NODE_ENV!=="production")r.debugTool.onNativeOperation(o,"insert child",{toIndex:e.toIndex,content:e.content.toString()});break;case u.MOVE_EXISTING:if(b(n,e.fromNode,c(n,e.afterNode)),t.env.NODE_ENV!=="production")r.debugTool.onNativeOperation(o,"move child",{fromIndex:e.fromIndex,toIndex:e.toIndex});break;case u.SET_MARKUP:if(p(n,e.content),t.env.NODE_ENV!=="production")r.debugTool.onNativeOperation(o,"replace children",e.content.toString());break;case u.TEXT_CONTENT:if(h(n,e.content),t.env.NODE_ENV!=="production")r.debugTool.onNativeOperation(o,"replace text",e.content.toString());break;case u.REMOVE_NODE:if(k(n,e.fromNode),t.env.NODE_ENV!=="production")r.debugTool.onNativeOperation(o,"remove child",{fromIndex:e.fromIndex})}}}};n.exports=a}).call(t,i(4))},function(n,t,i){"use strict";(function(t){function c(n){return h.hasOwnProperty(n)?!0:s.hasOwnProperty(n)?!1:y.test(n)?(h[n]=!0,!0):(s[n]=!0,t.env.NODE_ENV!=="production"?v(!1,"Invalid attribute name: `%s`",n):void 0,!1)}function l(n,t){return t==null||n.hasBooleanValue&&!t||n.hasNumericValue&&isNaN(t)||n.hasPositiveNumericValue&&t<1||n.hasOverloadedBooleanValue&&t===!1}var r=i(33),f=i(8),e=i(345),o=i(13),u=i(387),v=i(6),y=new RegExp("^["+r.ATTRIBUTE_NAME_START_CHAR+"]["+r.ATTRIBUTE_NAME_CHAR+"]*$"),s={},h={},a={createMarkupForID:function(n){return r.ID_ATTRIBUTE_NAME+"="+u(n)},setAttributeForID:function(n,t){n.setAttribute(r.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return r.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(n){n.setAttribute(r.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(n,i){var f,o;if(t.env.NODE_ENV!=="production")e.debugTool.onCreateMarkupForProperty(n,i);return(f=r.properties.hasOwnProperty(n)?r.properties[n]:null,f)?l(f,i)?"":(o=f.attributeName,f.hasBooleanValue||f.hasOverloadedBooleanValue&&i===!0)?o+'=""':o+"="+u(i):r.isCustomAttribute(n)?i==null?"":n+"="+u(i):null},createMarkupForCustomAttribute:function(n,t){return!c(n)||t==null?"":n+"="+u(t)},setValueForProperty:function(n,i,u){var s=r.properties.hasOwnProperty(i)?r.properties[i]:null,c,v,h,y,p;if(s)if(c=s.mutationMethod,c)c(n,u);else{if(l(s,u)){this.deleteValueForProperty(n,i);return}s.mustUseProperty?(v=s.propertyName,s.hasSideEffects&&""+n[v]==""+u||(n[v]=u)):(h=s.attributeName,y=s.attributeNamespace,y?n.setAttributeNS(y,h,""+u):s.hasBooleanValue||s.hasOverloadedBooleanValue&&u===!0?n.setAttribute(h,""):n.setAttribute(h,""+u))}else if(r.isCustomAttribute(i)){a.setValueForAttribute(n,i,u);return}if(t.env.NODE_ENV!=="production"){e.debugTool.onSetValueForProperty(n,i,u);p={};p[i]=u;o.debugTool.onNativeOperation(f.getInstanceFromNode(n)._debugID,"update attribute",p)}},setValueForAttribute:function(n,i,r){if(c(i)&&(r==null?n.removeAttribute(i):n.setAttribute(i,""+r),t.env.NODE_ENV!=="production")){var u={};u[i]=r;o.debugTool.onNativeOperation(f.getInstanceFromNode(n)._debugID,"update attribute",u)}},deleteValueForProperty:function(n,i){var u=r.properties.hasOwnProperty(i)?r.properties[i]:null,h,s;if(u?(h=u.mutationMethod,h?h(n,undefined):u.mustUseProperty?(s=u.propertyName,u.hasBooleanValue?n[s]=!1:u.hasSideEffects&&""+n[s]==""||(n[s]="")):n.removeAttribute(u.attributeName)):r.isCustomAttribute(i)&&n.removeAttribute(i),t.env.NODE_ENV!=="production"){e.debugTool.onDeleteValueForProperty(n,i);o.debugTool.onNativeOperation(f.getInstanceFromNode(n)._debugID,"remove attribute",i)}}};n.exports=a}).call(t,i(4))},function(n,t,i){"use strict";(function(t){function y(n){return n===r.topMouseUp||n===r.topTouchEnd||n===r.topTouchCancel}function p(n){return n===r.topMouseMove||n===r.topTouchMove}function w(n){return n===r.topMouseDown||n===r.topTouchStart}function l(n,t,i,r){var u=n.type||"unknown-event";n.currentTarget=e.getNodeFromInstance(r);t?h.invokeGuardedCallbackWithCatch(u,i,n):h.invokeGuardedCallback(u,i,n);n.currentTarget=null}function b(n,i){var r=n._dispatchListeners,e=n._dispatchInstances,u;if(t.env.NODE_ENV!=="production"&&f(n),Array.isArray(r))for(u=0;u<r.length;u++){if(n.isPropagationStopped())break;l(n,i,r[u],e[u])}else r&&l(n,i,r,e);n._dispatchListeners=null;n._dispatchInstances=null}function k(n){var r=n._dispatchListeners,u=n._dispatchInstances,i;if(t.env.NODE_ENV!=="production"&&f(n),Array.isArray(r))for(i=0;i<r.length;i++){if(n.isPropagationStopped())break;if(r[i](n,u[i]))return u[i]}else if(r&&r(n,u))return u;return null}function d(n){var t=k(n);return n._dispatchInstances=null,n._dispatchListeners=null,t}function g(n){var i,r,u;return t.env.NODE_ENV!=="production"&&f(n),i=n._dispatchListeners,r=n._dispatchInstances,!Array.isArray(i)?void 0:t.env.NODE_ENV!=="production"?c(!1,"executeDirectDispatch(...): Invalid `event`."):c(!1),n.currentTarget=i?e.getNodeFromInstance(r):null,u=i?i(n):null,n.currentTarget=null,n._dispatchListeners=null,n._dispatchInstances=null,u}function nt(n){return!!n._dispatchListeners}var a=i(22),h=i(93),c=i(5),o=i(6),s,u,v={injectComponentTree:function(n){s=n;t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?o(n&&n.getNodeFromInstance&&n.getInstanceFromNode,"EventPluginUtils.injection.injectComponentTree(...): Injected module is missing getNodeFromInstance or getInstanceFromNode."):void 0)},injectTreeTraversal:function(n){u=n;t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?o(n&&n.isAncestor&&n.getLowestCommonAncestor,"EventPluginUtils.injection.injectTreeTraversal(...): Injected module is missing isAncestor or getLowestCommonAncestor."):void 0)}},r=a.topLevelTypes,f,e;t.env.NODE_ENV!=="production"&&(f=function(n){var i=n._dispatchListeners,r=n._dispatchInstances,u=Array.isArray(i),e=u?i.length:i?1:0,f=Array.isArray(r),s=f?r.length:r?1:0;t.env.NODE_ENV!=="production"?o(f===u&&s===e,"EventPluginUtils: Invalid `event`."):void 0});e={isEndish:y,isMoveish:p,isStartish:w,executeDirectDispatch:g,executeDispatchesInOrder:b,executeDispatchesInOrderStopAtTrue:d,hasDispatches:nt,getInstanceFromNode:function(n){return s.getInstanceFromNode(n)},getNodeFromInstance:function(n){return s.getNodeFromInstance(n)},isAncestor:function(n,t){return u.isAncestor(n,t)},getLowestCommonAncestor:function(n,t){return u.getLowestCommonAncestor(n,t)},getParentInstance:function(n){return u.getParentInstance(n)},traverseTwoPhase:function(n,t,i){return u.traverseTwoPhase(n,t,i)},traverseEnterLeave:function(n,t,i,r,f){return u.traverseEnterLeave(n,t,i,r,f)},injection:v};n.exports=e}).call(t,i(4))},function(n){"use strict";function t(n){var t={"=":"=0",":":"=2"},i=(""+n).replace(/[=:]/g,function(n){return t[n]});return"$"+i}function i(n){var t={"=0":"=","=2":":"},i=n[0]==="."&&n[1]==="$"?n.substring(2):n.substring(1);return(""+i).replace(/(=0|=2)/g,function(n){return t[n]})}var r={escape:t,unescape:i};n.exports=r},function(n,t,i){"use strict";(function(t){function f(n){(n.checkedLink==null||n.valueLink==null)?void 0:t.env.NODE_ENV!=="production"?r(!1,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):r(!1)}function e(n){f(n);(n.value==null&&n.onChange==null)?void 0:t.env.NODE_ENV!=="production"?r(!1,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):r(!1)}function o(n){f(n);(n.checked==null&&n.onChange==null)?void 0:t.env.NODE_ENV!=="production"?r(!1,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):r(!1)}function v(n){if(n){var t=n.getName();if(t)return" Check the render method of `"+t+"`."}return""}var h=i(151),c=i(59),r=i(5),l=i(6),a={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},u={value:function(n,t){return!n[t]||a[n.type]||n.onChange||n.readOnly||n.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(n,t){return!n[t]||n.onChange||n.readOnly||n.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:h.func},s={},y={checkPropTypes:function(n,i,r){var e,f,o;for(e in u)u.hasOwnProperty(e)&&(f=u[e](i,e,n,c.prop)),f instanceof Error&&!(f.message in s)&&(s[f.message]=!0,o=v(r),t.env.NODE_ENV!=="production"?l(!1,"Failed form propType: %s%s",f.message,o):void 0)},getValue:function(n){return n.valueLink?(e(n),n.valueLink.value):n.value},getChecked:function(n){return n.checkedLink?(o(n),n.checkedLink.value):n.checked},executeOnChange:function(n,t){return n.valueLink?(e(n),n.valueLink.requestChange(t.target.value)):n.checkedLink?(o(n),n.checkedLink.requestChange(t.target.checked)):n.onChange?n.onChange.call(undefined,t):void 0}};n.exports=y}).call(t,i(4))},function(n,t,i){"use strict";(function(t){var u=i(5),f=!1,r={unmountIDFromEnvironment:null,replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(n){!f?void 0:t.env.NODE_ENV!=="production"?u(!1,"ReactCompositeComponent: injectEnvironment() can only be called once."):u(!1);r.unmountIDFromEnvironment=n.unmountIDFromEnvironment;r.replaceNodeWithMarkup=n.replaceNodeWithMarkup;r.processChildrenUpdates=n.processChildrenUpdates;f=!0}}};n.exports=r}).call(t,i(4))},function(n,t,i){"use strict";(function(t){function u(n,t,r,u){try{return t(r,u)}catch(f){return i===null&&(i=f),undefined}}var i=null,f={invokeGuardedCallback:u,invokeGuardedCallbackWithCatch:u,rethrowCaughtError:function(){if(i){var n=i;i=null;throw n;}}},r;t.env.NODE_ENV!=="production"&&typeof window!="undefined"&&typeof dispatchEvent=="function"&&typeof document!="undefined"&&typeof document.createEvent=="function"&&(r=document.createElement("react"),f.invokeGuardedCallback=function(n,t,i,u){var o=t.bind(null,i,u),f="react-"+n,e;r.addEventListener(f,o,!1);e=document.createEvent("Event");e.initEvent(f,!1,!1);r.dispatchEvent(e);r.removeEventListener(f,o,!1)});n.exports=f}).call(t,i(4))},function(n){"use strict";var t={remove:function(n){n._reactInternalInstance=undefined},get:function(n){return n._reactInternalInstance},has:function(n){return n._reactInternalInstance!==undefined},set:function(n,t){n._reactInternalInstance=t}};n.exports=t},function(n,t,i){"use strict";(function(t){var i=!1;if(t.env.NODE_ENV!=="production")try{Object.defineProperty({},"x",{get:function(){}});i=!0}catch(r){}n.exports=i}).call(t,i(4))},function(n){"use strict";var t=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,i,r,u){MSApp.execUnsafeLocalFunction(function(){return n(t,i,r,u)})}:n};n.exports=t},function(n){"use strict";function t(n){var t,i=n.keyCode;return("charCode"in n?(t=n.charCode,t===0&&i===13&&(t=13)):t=i,t>=32||t===13)?t:0}n.exports=t},function(n){"use strict";function i(n){var u=this,i=u.nativeEvent,r;return i.getModifierState?i.getModifierState(n):(r=t[n],r?!!i[r]:!1)}function r(){return i}var t={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};n.exports=r},function(n){"use strict";function t(n){var t=n.target||n.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}n.exports=t},function(n){"use strict";function r(n){var r=n&&(t&&n[t]||n[i]);if(typeof r=="function")return r}var t=typeof Symbol=="function"&&Symbol.iterator,i="@@iterator";n.exports=r},function(n,t,i){"use strict";function f(n,t){var f,i,e;return!r.canUseDOM||t&&!("addEventListener"in document)?!1:(f="on"+n,i=f in document,i||(e=document.createElement("div"),e.setAttribute(f,"return;"),i=typeof e[f]=="function"),!i&&u&&n==="wheel"&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i)}var r=i(9),u;r.canUseDOM&&(u=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);
/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
n.exports=f},function(n,t,i){"use strict";var f=i(9),e=/^[ \r\n\t\f]/,o=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,s=i(96),u=s(function(n,t){n.innerHTML=t}),r;f.canUseDOM&&(r=document.createElement("div"),r.innerHTML=" ",r.innerHTML===""&&(u=function(n,t){if(n.parentNode&&n.parentNode.replaceChild(n,n),e.test(t)||t[0]==="<"&&o.test(t)){n.innerHTML=String.fromCharCode(65279)+t;var i=n.firstChild;i.data.length===1?n.removeChild(i):i.deleteData(0,1)}else n.innerHTML=t}),r=null);n.exports=u},function(n){"use strict";function t(n,t){var u=n===null||n===!1,f=t===null||t===!1,r,i;return u||f?u===f:(r=typeof n,i=typeof t,r==="string"||r==="number"?i==="string"||i==="number":i==="object"&&n.type===t.type&&n.key===t.key)}n.exports=t},function(n,t,i){"use strict";(function(t){function r(n,t){return n&&typeof n=="object"&&n.key!=null?o.escape(n.key):t.toString(36)}function u(n,i,y,p){var k=typeof n,w,b,d,tt,g,it,ft,rt,st,ut,nt,et,ot;if((k==="undefined"||k==="boolean")&&(n=null),n===null||k==="string"||k==="number"||l.isValidElement(n))return y(p,n,i===""?s+r(n,0):i),1;if(d=0,tt=i===""?s:i+h,Array.isArray(n))for(g=0;g<n.length;g++)w=n[g],b=tt+r(w,g),d+=u(w,b,y,p);else if(it=a(n),it)if(ft=it.call(n),it!==n.entries)for(st=0;!(rt=ft.next()).done;)w=rt.value,b=tt+r(w,st++),d+=u(w,b,y,p);else for(t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?v(c,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."):void 0,c=!0);!(rt=ft.next()).done;)ut=rt.value,ut&&(w=ut[1],b=tt+o.escape(ut[0])+h+r(w,0),d+=u(w,b,y,p));else k==="object"&&(nt="",t.env.NODE_ENV!=="production"&&(nt=" If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons.",n._isReactElement&&(nt=" It looks like you're using an element created by a different version of React. Make sure to use only one copy of React."),f.current&&(et=f.current.getName(),et&&(nt+=" Check the render method of `"+et+"`."))),ot=String(n),t.env.NODE_ENV!=="production"?e(!1,"Objects are not valid as a React child (found: %s).%s",ot==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":ot,nt):e(!1));return d}function y(n,t,i){return n==null?0:u(n,"",t,i)}var f=i(28),l=i(15),a=i(100),e=i(5),o=i(90),v=i(6),s=".",h=":",c=!1;n.exports=y}).call(t,i(4))},function(n,t,i){"use strict";(function(t){var l=i(7),a=i(12),f=i(6),r=a;if(t.env.NODE_ENV!=="production"){var v=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],e=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],y=e.concat(["button"]),p=["dd","dt","li","option","optgroup","p","rp","rt"],u={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},w=function(n,t,i){var r=l({},n||u),f={tag:t,instance:i};return e.indexOf(t)!==-1&&(r.aTagInScope=null,r.buttonTagInScope=null,r.nobrTagInScope=null),y.indexOf(t)!==-1&&(r.pTagInButtonScope=null),v.indexOf(t)!==-1&&t!=="address"&&t!=="div"&&t!=="p"&&(r.listItemTagAutoclosing=null,r.dlItemTagAutoclosing=null),r.current=f,t==="form"&&(r.formTag=f),t==="a"&&(r.aTagInScope=f),t==="button"&&(r.buttonTagInScope=f),t==="nobr"&&(r.nobrTagInScope=f),t==="p"&&(r.pTagInButtonScope=f),t==="li"&&(r.listItemTagAutoclosing=f),(t==="dd"||t==="dt")&&(r.dlItemTagAutoclosing=f),r},o=function(n,t){switch(t){case"select":return n==="option"||n==="optgroup"||n==="#text";case"optgroup":return n==="option"||n==="#text";case"option":return n==="#text";case"tr":return n==="th"||n==="td"||n==="style"||n==="script"||n==="template";case"tbody":case"thead":case"tfoot":return n==="tr"||n==="style"||n==="script"||n==="template";case"colgroup":return n==="col"||n==="template";case"table":return n==="caption"||n==="colgroup"||n==="tbody"||n==="tfoot"||n==="thead"||n==="style"||n==="script"||n==="template";case"head":return n==="base"||n==="basefont"||n==="bgsound"||n==="link"||n==="meta"||n==="title"||n==="noscript"||n==="noframes"||n==="style"||n==="script"||n==="template";case"html":return n==="head"||n==="body";case"#document":return n==="html"}switch(n){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t!=="h1"&&t!=="h2"&&t!=="h3"&&t!=="h4"&&t!=="h5"&&t!=="h6";case"rp":case"rt":return p.indexOf(t)===-1;case"body":case"caption":case"col":case"colgroup":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return t==null}return!0},s=function(n,t){switch(n){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null},h=function(n){if(!n)return[];var t=[];do t.push(n);while(n=n._currentElement._owner);return t.reverse(),t},c={};r=function(n,i,r){var p,nt;r=r||u;var w=r.current,ut=w&&w.tag,v=o(n,ut)?null:w,tt=v?null:s(n,r),b=v||tt;if(b){for(var l=b.tag,it=b.instance,ft=i&&i._currentElement._owner,et=it&&it._currentElement._owner,y=h(ft),k=h(et),ot=Math.min(y.length,k.length),a=-1,e=0;e<ot;e++)if(y[e]===k[e])a=e;else break;var d="(unknown)",st=y.slice(a+1).map(function(n){return n.getName()||d}),ht=k.slice(a+1).map(function(n){return n.getName()||d}),g=[].concat(a!==-1?y[a].getName()||d:[],ht,l,tt?["..."]:[],st,n).join(" > "),rt=!!v+"|"+n+"|"+l+"|"+g;if(c[rt])return;c[rt]=!0;p=n;n!=="#text"&&(p="<"+n+">");v?(nt="",l==="table"&&n==="tr"&&(nt+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),t.env.NODE_ENV!=="production"?f(!1,"validateDOMNesting(...): %s cannot appear as a child of <%s>. See %s.%s",p,l,g,nt):void 0):t.env.NODE_ENV!=="production"?f(!1,"validateDOMNesting(...): %s cannot appear as a descendant of <%s>. See %s.",p,l,g):void 0}};r.updatedAncestorInfo=w;r.isTagValidInContext=function(n,t){t=t||u;var i=t.current,r=i&&i.tag;return o(n,r)&&!s(n,t)}}n.exports=r}).call(t,i(4))},function(n,t,i){"use strict";n.exports=i(331)},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=r(e),s=i(63),h=r(s),c=i(389),u=r(c);var l=5e3,f=h.default.Promise,a=function(){function n(t){o.default(this,n);this._url=t;this._parsedUrl=u.default.parse(this._url,!0)}return n.prototype._isJSONPRequest=function(){var n=this._parsedUrl.query,t,i;for(t in n)if(i=n[t],i==="?")return!0;return!1},n.prototype.load=function(){return this._isJSONPRequest()?this._loadJSONP():this._loadJSON()},n.prototype._loadJSON=function(){var n=this;return new f(function(t,i){var r=new XMLHttpRequest;r.open("GET",n._url,!0);r.onreadystatechange=function(){if(r.readyState===4)if(r.status===200){var n=JSON.parse(r.responseText);t(n)}else i(new Error(r.statusText))};r.send(null)})},n.prototype._loadJSONP=function(){var n=this,t=!1,i=!1,r="pesdk"+Math.round(Math.random()*99999999999999);return new f(function(u,f){var e=n._createJSONPNode(r);window[r]=function(r){n._removeJSONPNode(e);t||(i=!0,u(r))};window.setTimeout(function(){i||(n._removeJSONPNode(e),t=!0,f(new Error("Timeout of 5 seconds exceeded.")))},l)})},n.prototype._createJSONPNode=function(n){var i=this._buildJSONPUrl(n),r=document.querySelector("head"),t=document.createElement("script");return t.src=i,r.appendChild(t),t},n.prototype._removeJSONPNode=function(n){n.parentNode.removeChild(n)},n.prototype._buildJSONPUrl=function(n){var t=this._parsedUrl.query,i=null;for(var r in t)if(t[r]==="?"){i=r;break}return delete this._parsedUrl.search,t[i]=n,u.default.format(this._parsedUrl)},n}();t.default=a},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3),a=i(170),v=u(a);f=function(n){function t(){o.default(this,t);var i=h.default(this,n.call(this));return i._bindAll("_onButtonClick"),i.state={overlayVisible:!1},i}return l.default(t,n),t.prototype._onButtonClick=function(n){n.preventDefault();n.stopPropagation();this.setState({overlayVisible:!this.state.overlayVisible})},t.prototype.renderWithBEM=function(){var n=null,t;return this.state.overlayVisible&&(n=r.ReactBEM.createElement(v.default,{items:this.props.items,selectedItem:this.props.selectedItem,onChange:this.props.onChange})),t=this.state.overlayVisible?"is-active":null,r.ReactBEM.createElement("bem",{specifier:"$b:controls"},r.ReactBEM.createElement("div",{bem:"$e:categoryDropdown",className:t,onClick:this._onButtonClick},r.ReactBEM.createElement("img",{bem:"e:icon",src:this.props.selectedItem.icon}),r.ReactBEM.createElement("div",{bem:"e:label"},this.props.selectedItem.label),n))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3),a=i(10),v=u(a),y=i(16),p=u(y);f=function(n){function t(){var r;o.default(this,t);for(var u=arguments.length,f=Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=h.default(this,n.call.apply(n,[this].concat(f))),r._hasBackButton=!1,r}return l.default(t,n),t.prototype._onItemClick=function(n){this.props.onSwitchControls(n)},t.prototype._renderListItems=function(){var i=this,u=this.context.editor,n=[],f=function(n){var t=u.getControl(n);return r.ReactBEM.createElement("li",{bem:"e:item",key:t.identifier,onClick:i._onItemClick.bind(i,t)},r.ReactBEM.createElement("bem",{specifier:"$b:controls"},r.ReactBEM.createElement("div",{bem:"$e:button m:withLabel"},r.ReactBEM.createElement("img",{bem:"e:icon",src:i._getAssetPath(t.iconPath,!0)}),r.ReactBEM.createElement("div",{bem:"e:label"},i._t(t.languageKey)))))},e=this.context.options.controlsOrder,t;return e.forEach(function(t){if(Array.isArray(t))(function(){var r=t,i=[];r.forEach(function(n){u.isControlEnabled(n)&&i.push(f(n))});i.length&&n.push(i)})();else{var i=t;if(!u.isControlEnabled(i))return;n.push(f(i))}}),t=[],n.forEach(function(i){t=t.concat(i);i!==n[n.length-1]&&t.push(r.ReactBEM.createElement("li",{bem:"e:separator"}))}),t},t.prototype.renderControls=function(){var n=this._renderListItems();return r.ReactBEM.createElement("div",{bem:"e:cell m:list"},r.ReactBEM.createElement(p.default,null,r.ReactBEM.createElement("ul",{bem:"$e:list"},n)))},t}(v.default);t.default=f},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=r(e),s=i(2),h=r(s),c=i(1),l=r(c),u=i(3);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._renderCanvas()},t.prototype.componentDidUpdate=function(){this._renderCanvas()},t.prototype._renderCanvas=function(){var n=this.refs.canvas,r=this.context.editor,u=r.getSDK(),i=u.getPixelRatio(),t;n.width=n.offsetWidth*i;n.height=n.offsetHeight*i;n.style.width=n.offsetWidth+"px";n.style.height=n.offsetHeight+"px";t=n.getContext("2d");t.fillStyle="red";t.clearRect(0,0,n.width,n.height);t.font=this.props.fontWeight+" "+24*i+"px "+this.props.fontFamily;t.textBaseline="middle";t.textAlign="center";t.fillStyle="white";t.fillText("Abc",n.width/2,n.height/2)},t.prototype.renderWithBEM=function(){return u.ReactBEM.createElement("canvas",{bem:"b:fontFamily e:canvas",ref:"canvas"})},t}(u.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3),a=i(17),v=u(a),y=i(226),p=u(y);f=function(n){function t(){var r;o.default(this,t);for(var u=arguments.length,f=Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=h.default(this,n.call.apply(n,[this].concat(f))),r.state={loading:!1,photos:[]},r}return l.default(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._loadPhotos()},t.prototype._onPhotoClicked=function(n){this.props.onPhotoClicked&&this.props.onPhotoClicked(n)},t.prototype._getHeadline=function(){return this.props.category.name},t.prototype._renderPhotos=function(){var n=this,t=this.state.photos.map(function(t){return r.ReactBEM.createElement(p.default,{photo:t,onClick:n._onPhotoClicked.bind(n,t)})});return r.ReactBEM.createElement("div",{bem:"$b:photoRoll e:row m:fullHeight"},r.ReactBEM.createElement("div",{bem:"e:cell"},r.ReactBEM.createElement("div",{bem:"e:container"},r.ReactBEM.createElement("div",{bem:"e:innerContainer"},r.ReactBEM.createElement("div",{bem:"e:headline"},this._getHeadline()),r.ReactBEM.createElement("bem",{specifier:"e:photoList"},r.ReactBEM.createElement("ul",{bem:"$e:list"},t))))))},t.prototype._loadPhotos=function(){var n=this,t=v.default.instance.displayLoading(this._t("loading.loading")),i=this.context.options.photoRollProvider,r=new i;r.getPhotosForCategory(this.props.category).then(function(i){n.setState({photos:i,loading:!1});t.close()})},t.prototype.renderWithBEM=function(){return this.state.loading?r.ReactBEM.createElement("div",null):this._renderPhotos()},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(0),f=r(u),e=i(116),o=r(e);var s="__",h="--",c="pesdk-react-",l=function(){function n(t,i,r){f.default(this,n);this._parent=t;this._type=i;this._name=r}return n.prototype.element=function(t){return new n(this,"element",t)},n.prototype.modifier=function(t){return new n(this,"modifier",t)},o.default(n,[{key:"str",get:function(){var n=this._parent?this._parent.str:"";switch(this._type){case"block":n+=""+c+this._name;break;case"element":n+=""+s+this._name;break;case"modifier":n+=""+h+this._name}return n}}]),n}();t.default={block:function(n){return new l(null,"block",n)}}},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(n){for(var i=[],t=0;t<n.length;t++)n[t]instanceof Array?i=i.concat(f(n[t])):i.push(n[t]);return i}var o,s;Object.defineProperty(t,"__esModule",{value:!0});var h=i(260),c=r(h),l=i(50),a=r(l),v=i(106),u=r(v),y=i(117),p=r(y),w=i(112),e=r(w);o={b:"block",e:"element",m:"modifier"};s={_parseBemSpecifier:function(n){if(!n)return[];var t=n.split(" ");return t.map(function(n){var t=n.match(/^(\$)?([bem])\:(.*)$/i);if(!t)throw new Error("Invalid BEM specifier: "+n);var i=typeof t[1]!="undefined",r=o[t[2]],u=t[3];return{type:r,name:u,pass:i}})},_getBemInfoForNode:function(n){var t=n.type==="bem",r=t?n.props.specifier:n.props.bem,i;if(t&&!r)throw new Error("<bem> elements should always have a `specifier` property");return i=this._parseBemSpecifier(r),t&&i.forEach(function(n){n.pass=!0}),{data:i,isBemNode:t}},createElement:function(n,t){for(var u=arguments.length,i=Array(u>2?u-2:0),r=2;r<u;r++)i[r-2]=arguments[r];return t=t||{},i=i.filter(function(n){return n!==null&&typeof n!="undefined"}),{type:n,props:t,children:i}},_isNodeBEMable:function(n){return n!==null&&(typeof n=="undefined"?"undefined":a.default(n))==="object"&&!u.default.isValidElement(n)},_applyBEMClasses:function(n){var o=this,u;if(!this._isNodeBEMable(n))return n;var r=n.props.className?[n.props.className]:[],s=this._getBemInfoForNode(n),t=n.props.__bemObject,i=n.props.__bemObject;return s.data.forEach(function(n){if(n.type==="block")t=e.default.block(n.name),n.pass&&(i=e.default.block(n.name)),r.push(t.str);else if(n.type==="element"){if(!t)throw new Error("Tried to create an element, but no parent block has been found.");t=t.element(n.name);n.pass&&(i=i.element(n.name));r.push(t.str)}else if(n.type==="modifier"){if(!t)throw new Error("Tried to create a modifier, but no parent block has been found.");n.pass&&(i=i.modifier(n.name));r.push(t.modifier(n.name).str)}}),u=p.default(r),u&&(n.props.className=u),n.children=f(n.children),n.children.forEach(function(n){o._isNodeBEMable(n)&&(n.props.__bemObject=i)}),n.children=n.children.map(function(n){return o._applyBEMClasses(n)}),n.children=f(n.children),delete n.props.__bemObject,s.isBemNode&&(n=n.children instanceof Array&&n.children.length===1?n.children[0]:n.children),n},_transformToReact:function(n){var t=this;return this._isNodeBEMable(n)?(n.children=n.children.map(function(n){return t._transformToReact(n)}),u.default.createElement.apply(u.default,[n.type,n.props].concat(c.default(n.children)))):n},transform:function(n){return(n=this._applyBEMClasses(n),n instanceof Array)?n:this._transformToReact(n)}};t.default=s},function(n,t,i){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0});var r="warn",u=[{type:"trace",background:"#EEEEEE",color:"#AAAAAA"},{type:"info",background:"#BDE5F8",color:"#00529B"},{type:"warn",background:"#FEEFB3",color:"#9F6000"},{type:"error",background:"#FFBABA",color:"#D8000C"},{type:"log",background:"#EEEEEE",color:"#1f4f6b"}],f=u.map(function(n){return n.type}),i={};i.setLevel=function(n){r=n};i.canLog=function(n){if(r===null)return!1;var t=f.indexOf(n),i=f.indexOf(r);return t<i?!1:!0};i.hasColorfulOutput=function(){return(!n||n&&n.browser)&&typeof navigator!="undefined"&&navigator.userAgent.match(/Gecko|WebKit/i)&&!navigator.userAgent.match(/Trident/)};i.printError=function(n){var t=n.stack.split("\n");t.forEach(function(n){i.error("Error",n)})};u.forEach(function(n){var t=n.type,r=n.background,u=n.color;i[t]=function(n){var o;if(i.canLog(t)){for(var e=arguments.length,s=Array(e>1?e-1:0),f=1;f<e;f++)s[f-1]=arguments[f];if(o=s.map(function(n){return typeof n=="string"?n:n.toString()}).join(" "),!i.hasColorfulOutput())return console.log("PhotoEditorSDK | "+n+" | "+o);console.log("%c  %c PhotoEditorSDK %c  %c "+n+" %c  "+o+"  %c  ","background: #43ADEB; padding: 5px 0","background: #2B2B2B; color: white; padding: 5px 0","background: #43ADEB; padding: 5px 0","background: "+r+"; color: "+u+"; padding: 5px 0; font-weight: bold","background: #2B2B2B; color: white; padding: 5px 0","background: #43ADEB; padding: 5px 0")}}});t.default=i}).call(t,i(4))},function(n,t,i){n.exports={"default":i(264),__esModule:!0}},function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var r=i(115),u=f(r);t.default=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),u.default(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}()},function(n,t){var r,i;
/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
(function(){"use strict";function u(){for(var n,i,r,t=[],e=0;e<arguments.length;e++)if(n=arguments[e],n)if(i=typeof n,i==="string"||i==="number")t.push(n);else if(Array.isArray(n))t.push(u.apply(null,n));else if(i==="object")for(r in n)f.call(n,r)&&n[r]&&t.push(r);return t.join(" ")}var f={}.hasOwnProperty;typeof n!="undefined"&&n.exports?n.exports=u:!(r=[],i=function(){return u}.apply(t,r),i!==undefined&&(n.exports=i))})()},function(n,t,i){var u=i(43),r=i(24).document,f=u(r)&&u(r.createElement);n.exports=function(n){return f?r.createElement(n):{}}},function(n,t,i){n.exports=!i(29)&&!i(42)(function(){return Object.defineProperty(i(118)("div"),"a",{get:function(){return 7}}).a!=7})},function(n,t,i){var r=i(72);n.exports=Object("z").propertyIsEnumerable(0)?Object:function(n){return r(n)=="String"?n.split(""):Object(n)}},function(n,t,i){"use strict";var o=i(76),f=i(30),a=i(125),s=i(35),v=i(31),h=i(44),y=i(278),p=i(79),w=i(286),r=i(19)("iterator"),e=!([].keys&&"next"in[].keys()),b="@@iterator",c="keys",u="values",l=function(){return this};n.exports=function(n,t,i,k,d,g,nt){y(i,t,k);var et=function(n){if(!e&&n in tt)return tt[n];switch(n){case c:return function(){return new i(this,n)};case u:return function(){return new i(this,n)}}return function(){return new i(this,n)}},ct=t+" Iterator",st=d==u,ht=!1,tt=n.prototype,it=tt[r]||tt[b]||d&&tt[d],rt=it||et(d),at=d?st?et("entries"):rt:undefined,lt=t=="Array"?tt.entries||it:it,ut,ot,ft;if(lt&&(ft=w(lt.call(new n)),ft!==Object.prototype&&(p(ft,ct,!0),o||v(ft,r)||s(ft,r,l))),st&&it&&it.name!==u&&(ht=!0,rt=function(){return it.call(this)}),(!o||nt)&&(e||ht||!tt[r])&&s(tt,r,rt),h[t]=rt,h[ct]=l,d)if(ut={values:st?rt:et(u),keys:g?rt:et(c),entries:at},nt)for(ot in ut)ot in tt||a(tt,ot,ut[ot]);else f(f.P+f.F*(e||ht),t,ut);return ut}},function(n,t,i){var u=i(51),f=i(46),e=i(32),o=i(84),s=i(31),h=i(119),r=Object.getOwnPropertyDescriptor;t.f=i(29)?r:function(n,t){if(n=e(n),t=o(t,!0),h)try{return r(n,t)}catch(i){}if(s(n,t))return f(!u.f.call(n,t),n[t])}},function(n,t,i){var r=i(124),u=i(75).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(n){return r(n,u)}},function(n,t,i){var r=i(31),u=i(32),f=i(270)(!1),e=i(80)("IE_PROTO");n.exports=function(n,t){var s=u(n),h=0,o=[];for(var i in s)i!=e&&r(s,i)&&o.push(i);while(t.length>h)r(s,i=t[h++])&&(~f(o,i)||o.push(i));return o}},function(n,t,i){n.exports=i(35)},function(n,t,i){var r=i(82),u=Math.min;n.exports=function(n){return n>0?u(r(n),9007199254740991):0}},function(n,t,i){"use strict";var r=i(288)(!0);i(121)(String,"String",function(n){this._t=String(n);this._i=0},function(){var t=this._t,i=this._i,n;return i>=t.length?{value:undefined,done:!0}:(n=r(t,i),this._i+=n.length,{value:n,done:!1})})},function(n,t,i){"use strict";(function(t){var r=i(12),u={listen:function(n,t,i){return n.addEventListener?(n.addEventListener(t,i,!1),{remove:function(){n.removeEventListener(t,i,!1)}}):n.attachEvent?(n.attachEvent("on"+t,i),{remove:function(){n.detachEvent("on"+t,i)}}):void 0},capture:function(n,i,u){return n.addEventListener?(n.addEventListener(i,u,!0),{remove:function(){n.removeEventListener(i,u,!0)}}):(t.env.NODE_ENV!=="production"&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:r})},registerDefault:function(){}};n.exports=u}).call(t,i(4))},function(n){"use strict";function t(n){try{n.focus()}catch(t){}}n.exports=t},function(n){"use strict";function t(){if(typeof document=="undefined")return null;try{return document.activeElement||document.body}catch(n){return document.body}}n.exports=t},function(n,t,i){"use strict";(function(t){function a(n){return!!u?void 0:t.env.NODE_ENV!=="production"?o(!1,"Markup wrapping node not initialized"):o(!1),e.hasOwnProperty(n)||(n="*"),f.hasOwnProperty(n)||(u.innerHTML=n==="*"?"<link />":"<"+n+"><\/"+n+">",f[n]=!u.firstChild),f[n]?e[n]:null}var c=i(9),o=i(5),u=c.canUseDOM?document.createElement("div"):null,f={},s=[1,'<select multiple="true">',"<\/select>"],r=[1,"<table>","<\/table>"],h=[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],l=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"<\/svg>"],e={"*":[1,"?<div>","<\/div>"],area:[1,"<map>","<\/map>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],legend:[1,"<fieldset>","<\/fieldset>"],param:[1,"<object>","<\/object>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],optgroup:s,option:s,caption:r,colgroup:r,tbody:r,tfoot:r,thead:r,td:h,th:h};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach(function(n){e[n]=l;f[n]=!0});n.exports=a}).call(t,i(4))},function(n){"use strict";function t(n,t){return n===t?n!==0||1/n==1/t:n!==n&&t!==t}function r(n,r){var u,e,f;if(t(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null||(u=Object.keys(n),e=Object.keys(r),u.length!==e.length))return!1;for(f=0;f<u.length;f++)if(!i.call(r,u[f])||!t(n[u[f]],r[u[f]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;n.exports=r},function(n){"use strict";function u(n,t){return n+t.charAt(0).toUpperCase()+t.substring(1)}var t={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f=["Webkit","ms","Moz","O"],i,r;Object.keys(t).forEach(function(n){f.forEach(function(i){t[u(i,n)]=t[n]})});i={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}};r={isUnitlessNumber:t,shorthandPropertyExpansions:i};n.exports=r},function(n,t,i){"use strict";(function(t){function r(){this._callbacks=null;this._contexts=null}var f=i(7),e=i(27),u=i(5);f(r.prototype,{enqueue:function(n,t){this._callbacks=this._callbacks||[];this._contexts=this._contexts||[];this._callbacks.push(n);this._contexts.push(t)},notifyAll:function(){var n=this._callbacks,r=this._contexts,i;if(n){for((n.length===r.length)?void 0:t.env.NODE_ENV!=="production"?u(!1,"Mismatched list of contexts in callback queue"):u(!1),this._callbacks=null,this._contexts=null,i=0;i<n.length;i++)n[i].call(r[i]);n.length=0;r.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(n){this._callbacks&&(this._callbacks.length=n,this._contexts.length=n)},reset:function(){this._callbacks=null;this._contexts=null},destructor:function(){this.reset()}});e.addPoolingTo(r);n.exports=r}).call(t,i(4))},function(n){"use strict";n.exports={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"}},function(n,t,i){"use strict";function c(n){return(""+n).replace(y,"$&/")}function u(n,t){this.func=n;this.context=t;this.count=0}function p(n,t){var i=n.func,r=n.context;i.call(r,t,n.count++)}function w(n,t,i){if(n==null)return n;var r=u.getPooled(t,i);o(n,p,r);u.release(r)}function f(n,t,i,r){this.result=n;this.keyPrefix=t;this.func=i;this.context=r;this.count=0}function b(n,t,i){var u=n.result,f=n.keyPrefix,o=n.func,l=n.context,r=o.call(l,t,n.count++);Array.isArray(r)?e(r,u,i,h.thatReturnsArgument):r!=null&&(s.isValidElement(r)&&(r=s.cloneAndReplaceKey(r,f+(r.key&&(!t||t.key!==r.key)?c(r.key)+"/":"")+i)),u.push(r))}function e(n,t,i,r,u){var s="",e;i!=null&&(s=c(i)+"/");e=f.getPooled(t,s,r,u);o(n,b,e);f.release(e)}function k(n,t,i){if(n==null)return n;var r=[];return e(n,r,null,t,i),r}function d(){return null}function g(n){return o(n,d,null)}function nt(n){var t=[];return e(n,t,null,h.thatReturnsArgument),t}var r=i(27),s=i(15),h=i(12),o=i(104),a=r.twoArgumentPooler,v=r.fourArgumentPooler,y=/\/+/g,l;u.prototype.destructor=function(){this.func=null;this.context=null;this.count=0};r.addPoolingTo(u,a);f.prototype.destructor=function(){this.result=null;this.keyPrefix=null;this.func=null;this.context=null;this.count=0};r.addPoolingTo(f,v);l={forEach:w,map:k,mapIntoWithKeyPrefixInternal:e,count:g,toArray:nt};n.exports=l},function(n,t,i){"use strict";(function(t){function c(n,i,r){for(var u in i)i.hasOwnProperty(u)&&(t.env.NODE_ENV!=="production"?f(typeof i[u]=="function","%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",n.displayName||"ReactClass",nt[r],u):void 0)}function ft(n,i){var f=e.hasOwnProperty(i)?e[i]:null;w.hasOwnProperty(i)&&((f===r.OVERRIDE_BASE)?void 0:t.env.NODE_ENV!=="production"?u(!1,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",i):u(!1));n&&((f===r.DEFINE_MANY||f===r.DEFINE_MANY_MERGED)?void 0:t.env.NODE_ENV!=="production"?u(!1,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",i):u(!1))}function l(n,i){var o,v,f,h,l,c;if(i){(typeof i!="function")?void 0:t.env.NODE_ENV!=="production"?u(!1,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."):u(!1);!g.isValidElement(i)?void 0:t.env.NODE_ENV!=="production"?u(!1,"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):u(!1);o=n.prototype;v=o.__reactAutoBindPairs;i.hasOwnProperty(a)&&s.mixins(n,i.mixins);for(f in i)if(i.hasOwnProperty(f)&&f!==a)if(h=i[f],l=o.hasOwnProperty(f),ft(l,f),s.hasOwnProperty(f))s[f](n,h);else{var y=e.hasOwnProperty(f),w=typeof h=="function",b=w&&!y&&!l&&i.autobind!==!1;b?(v.push(f,h),o[f]=h):l?(c=e[f],(y&&(c===r.DEFINE_MANY_MERGED||c===r.DEFINE_MANY))?void 0:t.env.NODE_ENV!=="production"?u(!1,"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",c,f):u(!1),c===r.DEFINE_MANY_MERGED?o[f]=p(o[f],h):c===r.DEFINE_MANY&&(o[f]=ot(o[f],h))):(o[f]=h,t.env.NODE_ENV!=="production"&&typeof h=="function"&&i.displayName&&(o[f].displayName=i.displayName+"_"+f))}}}function et(n,i){var r,f,e,o;if(i)for(r in i)(f=i[r],i.hasOwnProperty(r))&&(e=r in s,!e?void 0:t.env.NODE_ENV!=="production"?u(!1,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',r):u(!1),o=r in n,!o?void 0:t.env.NODE_ENV!=="production"?u(!1,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",r):u(!1),n[r]=f)}function y(n,i){(n&&i&&typeof n=="object"&&typeof i=="object")?void 0:t.env.NODE_ENV!=="production"?u(!1,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."):u(!1);for(var r in i)i.hasOwnProperty(r)&&((n[r]===undefined)?void 0:t.env.NODE_ENV!=="production"?u(!1,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",r):u(!1),n[r]=i[r]);return n}function p(n,t){return function(){var r=n.apply(this,arguments),u=t.apply(this,arguments),i;return r==null?u:u==null?r:(i={},y(i,r),y(i,u),i)}}function ot(n,t){return function(){n.apply(this,arguments);t.apply(this,arguments)}}function st(n,i){var r=i.bind(n),u,e;return t.env.NODE_ENV!=="production"&&(r.__reactBoundContext=n,r.__reactBoundMethod=i,r.__reactBoundArguments=null,u=n.constructor.displayName,e=r.bind,r.bind=function(o){for(var s,c=arguments.length,l=Array(c>1?c-1:0),h=1;h<c;h++)l[h-1]=arguments[h];if(o!==n&&o!==null)t.env.NODE_ENV!=="production"?f(!1,"bind(): React component methods may only be bound to the component instance. See %s",u):void 0;else if(!l.length)return t.env.NODE_ENV!=="production"?f(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",u):void 0,r;return s=e.apply(r,arguments),s.__reactBoundContext=n,s.__reactBoundMethod=i,s.__reactBoundArguments=l,s}),r}function ht(n){for(var r,u,i=n.__reactAutoBindPairs,t=0;t<i.length;t+=2)r=i[t],u=i[t+1],n[r]=st(n,u)}var o=i(7),d=i(138),g=i(15),h=i(59),nt=i(58),tt=i(150),it=i(53),u=i(5),rt=i(54),ut=i(26),f=i(6),a=ut({mixins:null}),r=rt({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),v=[],e={mixins:r.DEFINE_MANY,statics:r.DEFINE_MANY,propTypes:r.DEFINE_MANY,contextTypes:r.DEFINE_MANY,childContextTypes:r.DEFINE_MANY,getDefaultProps:r.DEFINE_MANY_MERGED,getInitialState:r.DEFINE_MANY_MERGED,getChildContext:r.DEFINE_MANY_MERGED,render:r.DEFINE_ONCE,componentWillMount:r.DEFINE_MANY,componentDidMount:r.DEFINE_MANY,componentWillReceiveProps:r.DEFINE_MANY,shouldComponentUpdate:r.DEFINE_ONCE,componentWillUpdate:r.DEFINE_MANY,componentDidUpdate:r.DEFINE_MANY,componentWillUnmount:r.DEFINE_MANY,updateComponent:r.OVERRIDE_BASE},s={displayName:function(n,t){n.displayName=t},mixins:function(n,t){if(t)for(var i=0;i<t.length;i++)l(n,t[i])},childContextTypes:function(n,i){t.env.NODE_ENV!=="production"&&c(n,i,h.childContext);n.childContextTypes=o({},n.childContextTypes,i)},contextTypes:function(n,i){t.env.NODE_ENV!=="production"&&c(n,i,h.context);n.contextTypes=o({},n.contextTypes,i)},getDefaultProps:function(n,t){n.getDefaultProps=n.getDefaultProps?p(n.getDefaultProps,t):t},propTypes:function(n,i){t.env.NODE_ENV!=="production"&&c(n,i,h.prop);n.propTypes=o({},n.propTypes,i)},statics:function(n,t){et(n,t)},autobind:function(){}},w={replaceState:function(n,t){this.updater.enqueueReplaceState(this,n);t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},b=function(){},k;o(b.prototype,d.prototype,w);k={createClass:function(n){var i=function(n,r,e){t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?f(this instanceof i,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"):void 0);this.__reactAutoBindPairs.length&&ht(this);this.props=n;this.context=r;this.refs=it;this.updater=e||tt;this.state=null;var o=this.getInitialState?this.getInitialState():null;t.env.NODE_ENV!=="production"&&o===undefined&&this.getInitialState._isMockFunction&&(o=null);(typeof o=="object"&&!Array.isArray(o))?void 0:t.env.NODE_ENV!=="production"?u(!1,"%s.getInitialState(): must return an object or null",i.displayName||"ReactCompositeComponent"):u(!1);this.state=o},r;i.prototype=new b;i.prototype.constructor=i;i.prototype.__reactAutoBindPairs=[];v.forEach(l.bind(null,i));l(i,n);i.getDefaultProps&&(i.defaultProps=i.getDefaultProps());t.env.NODE_ENV!=="production"&&(i.getDefaultProps&&(i.getDefaultProps.isReactClassApproved={}),i.prototype.getInitialState&&(i.prototype.getInitialState.isReactClassApproved={}));i.prototype.render?void 0:t.env.NODE_ENV!=="production"?u(!1,"createClass(...): Class specification must implement a `render` method."):u(!1);t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?f(!i.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",n.displayName||"A component"):void 0,t.env.NODE_ENV!=="production"?f(!i.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",n.displayName||"A component"):void 0);for(r in e)i.prototype[r]||(i.prototype[r]=null);return i},injection:{injectMixin:function(n){v.push(n)}}};n.exports=k}).call(t,i(4))},function(n,t,i){"use strict";(function(t){function r(n,t,i){this.props=n;this.context=t;this.refs=a;this.updater=i||h}var h=i(150),c=i(13),l=i(95),a=i(53),e=i(5),o=i(6),u,s,f;if(r.prototype.isReactComponent={},r.prototype.setState=function(n,i){(typeof n=="object"||typeof n=="function"||n==null)?void 0:t.env.NODE_ENV!=="production"?e(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):e(!1);t.env.NODE_ENV!=="production"&&(c.debugTool.onSetState(),t.env.NODE_ENV!=="production"?o(n!=null,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."):void 0);this.updater.enqueueSetState(this,n);i&&this.updater.enqueueCallback(this,i,"setState")},r.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this);n&&this.updater.enqueueCallback(this,n,"forceUpdate")},t.env.NODE_ENV!=="production"){u={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]};s=function(n,i){l&&Object.defineProperty(r.prototype,n,{get:function(){return t.env.NODE_ENV!=="production"?o(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",i[0],i[1]):void 0,undefined}})};for(f in u)u.hasOwnProperty(f)&&s(f,u[f])}n.exports=r}).call(t,i(4))},function(n,t,i){"use strict";var r=i(87),u=i(343),f={processChildrenUpdates:u.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup,unmountIDFromEnvironment:function(){}};n.exports=f},function(n){"use strict";n.exports={hasCachedChildNodes:1}},function(n,t,i){"use strict";(function(t){function w(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var n=this._currentElement.props,t=r.getValue(n);t!=null&&f(this,Boolean(n.multiple),t)}}function h(n){if(n){var t=n.getName();if(t)return" Check the render method of `"+t+"`."}return""}function c(n){n==null||n.value!==null||o||(t.env.NODE_ENV!=="production"?u(!1,"`value` prop on `select` should not be null. Consider using the empty string to clear the component or `undefined` for uncontrolled components."):void 0,o=!0)}function b(n,i){var s=n._currentElement._owner,o,f;for(r.checkPropTypes("select",i,s),i.valueLink===undefined||e||(t.env.NODE_ENV!=="production"?u(!1,"`valueLink` prop on `select` is deprecated; set `value` and `onChange` instead."):void 0,e=!0),o=0;o<l.length;o++)(f=l[o],i[f]!=null)&&(i.multiple?t.env.NODE_ENV!=="production"?u(Array.isArray(i[f]),"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",f,h(s)):void 0:t.env.NODE_ENV!=="production"?u(!Array.isArray(i[f]),"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",f,h(s)):void 0)}function f(n,t,i){var f,r,u=y.getNodeFromInstance(n).options,e;if(t){for(f={},r=0;r<i.length;r++)f[""+i[r]]=!0;for(r=0;r<u.length;r++)e=f.hasOwnProperty(u[r].value),u[r].selected!==e&&(u[r].selected=e)}else{for(f=""+i,r=0;r<u.length;r++)if(u[r].value===f){u[r].selected=!0;return}u.length&&(u[0].selected=!0)}}function d(n){var t=this._currentElement.props,i=r.executeOnChange(t,n);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),p.asap(w,this),i}var a=i(7),v=i(55),r=i(91),y=i(8),p=i(20),u=i(6),e=!1,o=!1,s=!1,l=["value","defaultValue"],k={getNativeProps:function(n,t){return a({},v.getNativeProps(n,t),{onChange:n._wrapperState.onChange,value:undefined})},mountWrapper:function(n,i){t.env.NODE_ENV!=="production"&&(b(n,i),c(i));var f=r.getValue(i);n._wrapperState={pendingUpdate:!1,initialValue:f!=null?f:i.defaultValue,listeners:null,onChange:d.bind(n),wasMultiple:Boolean(i.multiple)};i.value===undefined||i.defaultValue===undefined||s||(t.env.NODE_ENV!=="production"?u(!1,"Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://fb.me/react-controlled-components"):void 0,s=!0)},getSelectValueContext:function(n){return n._wrapperState.initialValue},postUpdateWrapper:function(n){var i=n._currentElement.props,e,u;t.env.NODE_ENV!=="production"&&c(i);n._wrapperState.initialValue=undefined;e=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=Boolean(i.multiple);u=r.getValue(i);u!=null?(n._wrapperState.pendingUpdate=!1,f(n,Boolean(i.multiple),u)):e!==Boolean(i.multiple)&&(i.defaultValue!=null?f(n,Boolean(i.multiple),i.defaultValue):f(n,Boolean(i.multiple),i.multiple?[]:""))}};n.exports=k}).call(t,i(4))},function(n,t,i){"use strict";(function(t){function e(){if(f.current){var n=f.current.getName();if(n)return" Check the render method of `"+n+"`."}return""}function l(n,i){if(n._store&&!n._store.validated&&n.key==null){n._store.validated=!0;var u=k("uniqueKey",n,i);u!==null&&(t.env.NODE_ENV!=="production"?r(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s%s',u.parentOrOwner||"",u.childOwner||"",u.url||""):void 0)}}function k(n,t,i){var r=e(),u,o,s;return(r||(u=typeof i=="string"?i:i.displayName||i.name,u&&(r=" Check the top-level render call using <"+u+">.")),o=h[n]||(h[n]={}),o[r])?null:(o[r]=!0,s={parentOrOwner:r,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null},t&&t._owner&&t._owner!==f.current&&(s.childOwner=" It was passed a child from "+t._owner.getName()+"."),s)}function a(n,t){var i,f,r,o,e;if(typeof n=="object")if(Array.isArray(n))for(i=0;i<n.length;i++)f=n[i],u.isValidElement(f)&&l(f,t);else if(u.isValidElement(n))n._store&&(n._store.validated=!0);else if(n&&(r=b(n),r&&r!==n.entries))for(o=r.call(n);!(e=o.next()).done;)u.isValidElement(e.value)&&l(e.value,t)}function d(n,i,u,f){var l,h,a;for(l in i)if(i.hasOwnProperty(l)){try{(typeof i[l]=="function")?void 0:t.env.NODE_ENV!=="production"?s(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",n||"React class",o[f],l):s(!1);h=i[l](u,l,n,f)}catch(v){h=v}t.env.NODE_ENV!=="production"?r(!h||h instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",n||"React class",o[f],l,typeof h):void 0;h instanceof Error&&!(h.message in c)&&(c[h.message]=!0,a=e(),t.env.NODE_ENV!=="production"?r(!1,"Failed propType: %s%s",h.message,a):void 0)}}function v(n){var i=n.type,u;typeof i=="function"&&(u=i.displayName||i.name,i.propTypes&&d(u,i.propTypes,n.props,p.prop),typeof i.getDefaultProps=="function"&&(t.env.NODE_ENV!=="production"?r(i.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead."):void 0))}var u=i(15),p=i(59),o=i(58),f=i(28),w=i(95),b=i(100),s=i(5),r=i(6),h={},c={},y={createElement:function(n){var o=typeof n=="string"||typeof n=="function",i,f;if(t.env.NODE_ENV!=="production"?r(o,"React.createElement: type should not be null, undefined, boolean, or number. It should be a string (for DOM elements) or a ReactClass (for composite components).%s",e()):void 0,i=u.createElement.apply(this,arguments),i==null)return i;if(o)for(f=2;f<arguments.length;f++)a(arguments[f],n);return v(i),i},createFactory:function(n){var i=y.createElement.bind(null,n);return i.type=n,t.env.NODE_ENV!=="production"&&w&&Object.defineProperty(i,"type",{enumerable:!1,get:function(){return t.env.NODE_ENV!=="production"?r(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."):void 0,Object.defineProperty(this,"type",{value:n}),n}}),i},cloneElement:function(){for(var n=u.cloneElement.apply(this,arguments),t=2;t<arguments.length;t++)a(arguments[t],n.type);return v(n),n}};n.exports=y}).call(t,i(4))},function(n){"use strict";var t,r={injectEmptyComponentFactory:function(n){t=n}},i={create:function(n){return t(n)}};i.injection=r;n.exports=i},function(n){"use strict";n.exports={logTopLevelRenders:!1}},function(n,t,i){"use strict";function s(n){return e(document.documentElement,n)}var u=i(347),e=i(304),o=i(129),f=i(130),r={hasSelectionCapabilities:function(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&n.type==="text"||t==="textarea"||n.contentEditable==="true")},getSelectionInformation:function(){var n=f();return{focusedElem:n,selectionRange:r.hasSelectionCapabilities(n)?r.getSelection(n):null}},restoreSelection:function(n){var i=f(),t=n.focusedElem,u=n.selectionRange;i!==t&&s(t)&&(r.hasSelectionCapabilities(t)&&r.setSelection(t,u),o(t))},getSelection:function(n){var t,i;return"selectionStart"in n?t={start:n.selectionStart,end:n.selectionEnd}:document.selection&&n.nodeName&&n.nodeName.toLowerCase()==="input"?(i=document.selection.createRange(),i.parentElement()===n&&(t={start:-i.moveStart("character",-n.value.length),end:-i.moveEnd("character",-n.value.length)})):t=u.getOffsets(n),t||{start:0,end:0}},setSelection:function(n,t){var r=t.start,f=t.end,i;f===undefined&&(f=r);"selectionStart"in n?(n.selectionStart=r,n.selectionEnd=Math.min(f,n.value.length)):document.selection&&n.nodeName&&n.nodeName.toLowerCase()==="input"?(i=n.createTextRange(),i.collapse(!0),i.moveStart("character",r),i.moveEnd("character",f-r),i.select()):u.setOffsets(n,t)}};n.exports=r},function(n,t,i){"use strict";(function(t){function yt(n,t){for(var r=Math.min(n.length,t.length),i=0;i<r;i++)if(n.charAt(i)!==t.charAt(i))return i;return n.length===t.length?-1:r}function y(n){return n?n.nodeType===e?n.documentElement:n.firstChild:null}function nt(n){return n.getAttribute&&n.getAttribute(at)||""}function pt(n,t,i,r,f){var o,s,e,h;ot.logTopLevelRenders&&(s=n._currentElement.props,e=s.type,o="React mount: "+(typeof e=="string"?e:e.displayName||e.name),console.time(o));h=g.mountComponent(n,i,null,ft(n,t),f);o&&console.timeEnd(o);n._renderedComponent._topLevelWrapper=n;u._mountImageIntoNode(h,t,n,r,i)}function wt(n,t,i,r){var u=a.ReactReconcileTransaction.getPooled(!i&&et.useCreateElement);u.perform(pt,null,n,t,u,i,r);a.ReactReconcileTransaction.release(u)}function bt(n,t,i){for(g.unmountComponent(n,i),t.nodeType===e&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function tt(n){var i=y(n),t;if(i)return t=s.getInstanceFromNode(i),!!(t&&t._nativeParent)}function kt(n){var i=y(n),t=i&&s.getInstanceFromNode(i);return t&&!t._nativeParent?t:null}function it(n){var t=kt(n);return t?t._nativeContainerInfo._topLevelWrapper:null}var rt=i(36),k=i(33),ut=i(57),o=i(28),s=i(8),ft=i(338),et=i(342),d=i(15),ot=i(144),c=i(13),l=i(359),g=i(37),p=i(152),a=i(20),st=i(53),ht=i(159),r=i(5),ct=i(102),lt=i(103),f=i(6),at=k.ID_ATTRIBUTE_NAME,vt=k.ROOT_ATTRIBUTE_NAME,v=1,e=9,w=11,b={},dt=1,h=function(){this.rootID=dt++},u;h.prototype.isReactComponent={};t.env.NODE_ENV!=="production"&&(h.displayName="TopLevelWrapper");h.prototype.render=function(){return this.props};u={TopLevelWrapper:h,_instancesByReactRootID:b,scrollMonitor:function(n,t){t()},_updateRootComponent:function(n,t,i,r){return u.scrollMonitor(i,function(){p.enqueueElementInternal(n,t);r&&p.enqueueCallbackInternal(n,r)}),n},_renderNewRootComponent:function(n,i,u,s){var h,l;if(t.env.NODE_ENV!=="production"&&c.debugTool.onBeginFlush(),t.env.NODE_ENV!=="production"?f(o.current==null,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",o.current&&o.current.getName()||"ReactCompositeComponent"):void 0,(i&&(i.nodeType===v||i.nodeType===e||i.nodeType===w))?void 0:t.env.NODE_ENV!=="production"?r(!1,"_registerComponent(...): Target container is not a DOM element."):r(!1),ut.ensureScrollValueMonitoring(),h=ht(n),t.env.NODE_ENV!=="production"&&(h._debugID=0),a.batchedUpdates(wt,h,i,u,s),l=h._instance.rootID,b[l]=h,t.env.NODE_ENV!=="production"){c.debugTool.onMountRootComponent(h._renderedComponent._debugID);c.debugTool.onEndFlush()}return h},renderSubtreeIntoContainer:function(n,i,f,e){return(n!=null&&n._reactInternalInstance!=null)?void 0:t.env.NODE_ENV!=="production"?r(!1,"parentComponent must be a valid React Component"):r(!1),u._renderSubtreeIntoContainer(n,i,f,e)},_renderSubtreeIntoContainer:function(n,i,e,o){var a,s,b,k,v,g,c,ft,w;if(p.validateCallback(o,"ReactDOM.render"),d.isValidElement(i)?void 0:t.env.NODE_ENV!=="production"?r(!1,"ReactDOM.render(): Invalid component element.%s",typeof i=="string"?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":typeof i=="function"?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":i!=null&&i.props!==undefined?" This may be caused by unintentionally loading two independent copies of React.":""):r(!1),t.env.NODE_ENV!=="production"?f(!e||!e.tagName||e.tagName.toUpperCase()!=="BODY","render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app."):void 0,a=d(h,null,null,null,null,null,i),s=it(e),s){if(b=s._currentElement,k=b.props,lt(k,i))return v=s._renderedComponent.getPublicInstance(),g=o&&function(){o.call(v)},u._updateRootComponent(s,a,e,g),v;u.unmountComponentAtNode(e)}var l=y(e),rt=l&&!!nt(l),ut=tt(e);if(t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?f(!ut,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."):void 0,!rt||l.nextSibling))for(c=l;c;){if(nt(c)){t.env.NODE_ENV!=="production"?f(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup."):void 0;break}c=c.nextSibling}return ft=rt&&!s&&!ut,w=u._renderNewRootComponent(a,e,ft,n!=null?n._reactInternalInstance._processChildContext(n._reactInternalInstance._context):st)._renderedComponent.getPublicInstance(),o&&o.call(w),w},render:function(n,t,i){return u._renderSubtreeIntoContainer(null,n,t,i)},unmountComponentAtNode:function(n){var i,u,s;return(t.env.NODE_ENV!=="production"?f(o.current==null,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",o.current&&o.current.getName()||"ReactCompositeComponent"):void 0,(n&&(n.nodeType===v||n.nodeType===e||n.nodeType===w))?void 0:t.env.NODE_ENV!=="production"?r(!1,"unmountComponentAtNode(...): Target container is not a DOM element."):r(!1),i=it(n),!i)?(u=tt(n),s=n.nodeType===1&&n.hasAttribute(vt),t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?f(!u,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",s?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."):void 0),!1):(delete b[i._instance.rootID],a.batchedUpdates(bt,i,n,!1),!0)},_mountImageIntoNode:function(n,i,u,o,h){var p,tt,d,b,a,k,g,nt;if((i&&(i.nodeType===v||i.nodeType===e||i.nodeType===w))?void 0:t.env.NODE_ENV!=="production"?r(!1,"mountComponentIntoNode(...): Target container is not valid."):r(!1),o){if(p=y(i),l.canReuseMarkup(n,p)){s.precacheNode(u,p);return}tt=p.getAttribute(l.CHECKSUM_ATTR_NAME);p.removeAttribute(l.CHECKSUM_ATTR_NAME);d=p.outerHTML;p.setAttribute(l.CHECKSUM_ATTR_NAME,tt);b=n;t.env.NODE_ENV!=="production"&&(i.nodeType===v?(a=document.createElement("div"),a.innerHTML=n,b=a.innerHTML):(a=document.createElement("iframe"),document.body.appendChild(a),a.contentDocument.write(n),b=a.contentDocument.documentElement.outerHTML,document.body.removeChild(a)));k=yt(b,d);g=" (client) "+b.substring(k-20,k+20)+"\n (server) "+d.substring(k-20,k+20);(i.nodeType!==e)?void 0:t.env.NODE_ENV!=="production"?r(!1,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",g):r(!1);t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?f(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",g):void 0)}if((i.nodeType!==e)?void 0:t.env.NODE_ENV!=="production"?r(!1,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."):r(!1),h.useCreateElement){while(i.lastChild)i.removeChild(i.lastChild);rt.insertTreeBefore(i,n,null)}else ct(i,n),s.precacheNode(u,i.firstChild);if(t.env.NODE_ENV!=="production"&&(nt=s.getInstanceFromNode(i.firstChild),nt._debugID!==0))c.debugTool.onNativeOperation(nt._debugID,"mount",n.toString())}};n.exports=u}).call(t,i(4))},function(n,t,i){"use strict";var r=i(54),u=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});n.exports=u},function(n,t,i){"use strict";(function(t){function c(n){if(typeof n.type=="function")return n.type;var t=n.type,i=u[t];return i==null&&(u[t]=i=s(t)),i}function l(n){return r?void 0:t.env.NODE_ENV!=="production"?e(!1,"There is no registered component for the tag %s",n.type):e(!1),new r(n)}function a(n){return new f(n)}function v(n){return n instanceof f}var o=i(7),e=i(5),s=null,r=null,u={},f=null,h={injectGenericComponentClass:function(n){r=n},injectTextComponentClass:function(n){f=n},injectComponentClasses:function(n){o(u,n)}},y={getComponentClassForElement:c,createInternalComponent:l,createInstanceForText:a,isTextComponent:v,injection:h};n.exports=y}).call(t,i(4))},function(n,t,i){"use strict";(function(t){var f=i(15),u=i(5),r={NATIVE:0,COMPOSITE:1,EMPTY:2,getType:function(n){if(n===null||n===!1)return r.EMPTY;if(f.isValidElement(n))return typeof n.type=="function"?r.COMPOSITE:r.NATIVE;t.env.NODE_ENV!=="production"?u(!1,"Unexpected node: %s",n):u(!1)}};n.exports=r}).call(t,i(4))},function(n,t,i){"use strict";(function(t){function r(n,i){t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?u(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",i,i,n.constructor&&n.constructor.displayName||""):void 0)}var u=i(6),f={isMounted:function(){return!1},enqueueCallback:function(){},enqueueForceUpdate:function(n){r(n,"forceUpdate")},enqueueReplaceState:function(n){r(n,"replaceState")},enqueueSetState:function(n){r(n,"setState")}};n.exports=f}).call(t,i(4))},function(n,t,i){"use strict";function v(n,t){return n===t?n!==0||1/n==1/t:n!==n&&t!==t}function r(n){function t(t,i,r,f,e,o){if(f=f||s,o=o||r,i[r]==null){var h=u[e];return t?new Error("Required "+h+" `"+o+"` was not specified in "+("`"+f+"`.")):null}return n(i,r,f,e,o)}var i=t.bind(null,!1);return i.isRequired=t.bind(null,!0),i}function f(n){function t(t,i,r,f,o){var s=t[i],l=e(s),h,c;return l!==n?(h=u[f],c=it(s),new Error("Invalid "+h+" `"+o+"` of type "+("`"+c+"` supplied to `"+r+"`, expected ")+("`"+n+"`."))):null}return r(t)}function y(){return r(c.thatReturns(null))}function p(n){function t(t,i,r,f,o){var s,l,a,h,c;if(typeof n!="function")return new Error("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");if(s=t[i],!Array.isArray(s))return l=u[f],a=e(s),new Error("Invalid "+l+" `"+o+"` of type "+("`"+a+"` supplied to `"+r+"`, expected an array."));for(h=0;h<s.length;h++)if(c=n(s,h,r,f,o+"["+h+"]"),c instanceof Error)return c;return null}return r(t)}function w(){function n(n,t,i,r,f){if(!h.isValidElement(n[t])){var e=u[r];return new Error("Invalid "+e+" `"+f+"` supplied to "+("`"+i+"`, expected a single ReactElement."))}return null}return r(n)}function b(n){function t(t,i,r,f,e){if(!(t[i]instanceof n)){var o=u[f],h=n.name||s,c=rt(t[i]);return new Error("Invalid "+o+" `"+e+"` of type "+("`"+c+"` supplied to `"+r+"`, expected ")+("instance of `"+h+"`."))}return null}return r(t)}function k(n){function t(t,i,r,f,e){for(var h,c,s=t[i],o=0;o<n.length;o++)if(v(s,n[o]))return null;return h=u[f],c=JSON.stringify(n),new Error("Invalid "+h+" `"+e+"` of value `"+s+"` "+("supplied to `"+r+"`, expected one of "+c+"."))}return Array.isArray(n)?r(t):r(function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function d(n){function t(t,i,r,f,o){var s,c,a,h,l;if(typeof n!="function")return new Error("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");if(s=t[i],c=e(s),c!=="object")return a=u[f],new Error("Invalid "+a+" `"+o+"` of type "+("`"+c+"` supplied to `"+r+"`, expected an object."));for(h in s)if(s.hasOwnProperty(h)&&(l=n(s,h,r,f,o+"."+h),l instanceof Error))return l;return null}return r(t)}function g(n){function t(t,i,r,f,e){for(var s,h,o=0;o<n.length;o++)if(s=n[o],s(t,i,r,f,e)==null)return null;return h=u[f],new Error("Invalid "+h+" `"+e+"` supplied to "+("`"+r+"`."))}return Array.isArray(n)?r(t):r(function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function nt(){function n(n,t,i,r,f){if(!o(n[t])){var e=u[r];return new Error("Invalid "+e+" `"+f+"` supplied to "+("`"+i+"`, expected a ReactNode."))}return null}return r(n)}function tt(n){function t(t,i,r,f,o){var l=t[i],a=e(l),v,s,h,c;if(a!=="object")return v=u[f],new Error("Invalid "+v+" `"+o+"` of type `"+a+"` "+("supplied to `"+r+"`, expected `object`."));for(s in n)if((h=n[s],h)&&(c=h(l,s,r,f,o+"."+s),c))return c;return null}return r(t)}function o(n){var t,r,i,u;switch(typeof n){case"number":case"string":case"undefined":return!0;case"boolean":return!n;case"object":if(Array.isArray(n))return n.every(o);if(n===null||h.isValidElement(n))return!0;if(t=l(n),t){if(r=t.call(n),t!==n.entries){while(!(i=r.next()).done)if(!o(i.value))return!1}else while(!(i=r.next()).done)if(u=i.value,u&&!o(u[1]))return!1}else return!1;return!0;default:return!1}}function e(n){var t=typeof n;return Array.isArray(n)?"array":n instanceof RegExp?"object":t}function it(n){var t=e(n);if(t==="object"){if(n instanceof Date)return"date";if(n instanceof RegExp)return"regexp"}return t}function rt(n){return!n.constructor||!n.constructor.name?s:n.constructor.name}var h=i(15),u=i(58),c=i(12),l=i(100),s="<<anonymous>>",a={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),any:y(),arrayOf:p,element:w(),instanceOf:b,node:nt(),objectOf:d,oneOf:k,oneOfType:g,shape:tt};n.exports=a},function(n,t,i){"use strict";(function(t){function r(n){c.enqueueUpdate(n)}function l(n){var i=typeof n,r,t;return i!=="object"?i:(r=n.constructor&&n.constructor.name||i,t=Object.keys(n),t.length>0&&t.length<20)?r+" (keys: "+t.join(", ")+")":r}function u(n,i){var r=o.get(n);return r?(t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?f(e.current==null,"%s(...): Cannot update during an existing state transition (such as within `render` or another component's constructor). Render methods should be a pure function of props and state; constructor side-effects are an anti-pattern, but can be moved to `componentWillMount`.",i):void 0),r):(t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?f(!i,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",i,i,n.constructor.displayName):void 0),null)}var e=i(28),o=i(94),c=i(20),s=i(5),f=i(6),h={isMounted:function(n){var i,r;return t.env.NODE_ENV!=="production"&&(i=e.current,i!==null&&(t.env.NODE_ENV!=="production"?f(i._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",i.getName()||"A component"):void 0,i._warnedAboutRefsInRender=!0)),r=o.get(n),r?!!r._renderedComponent:!1},enqueueCallback:function(n,t,i){h.validateCallback(t,i);var f=u(n);if(!f)return null;f._pendingCallbacks?f._pendingCallbacks.push(t):f._pendingCallbacks=[t];r(f)},enqueueCallbackInternal:function(n,t){n._pendingCallbacks?n._pendingCallbacks.push(t):n._pendingCallbacks=[t];r(n)},enqueueForceUpdate:function(n){var t=u(n,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(n,t){var i=u(n,"replaceState");i&&(i._pendingStateQueue=[t],i._pendingReplaceState=!0,r(i))},enqueueSetState:function(n,t){var i=u(n,"setState"),f;i&&(f=i._pendingStateQueue||(i._pendingStateQueue=[]),f.push(t),r(i))},enqueueElementInternal:function(n,t){n._pendingElement=t;r(n)},validateCallback:function(n,i){(!n||typeof n=="function")?void 0:t.env.NODE_ENV!=="production"?s(!1,"%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",i,l(n)):s(!1)}};n.exports=h}).call(t,i(4))},function(n){"use strict";n.exports="15.1.0"},function(n){"use strict";var t={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(n){t.currentScrollLeft=n.x;t.currentScrollTop=n.y}};n.exports=t},function(n,t,i){"use strict";(function(t){function u(n,i){if((i!=null)?void 0:t.env.NODE_ENV!=="production"?r(!1,"accumulateInto(...): Accumulated items must not be null or undefined."):r(!1),n==null)return i;var u=Array.isArray(n),f=Array.isArray(i);return u&&f?(n.push.apply(n,i),n):u?(n.push(i),n):f?[n].concat(i):[n,i]}var r=i(5);n.exports=u}).call(t,i(4))},function(n){"use strict";var t=function(n,t,i){Array.isArray(n)?n.forEach(t,i):n&&t.call(i,n)};n.exports=t},function(n,t,i){"use strict";function u(n){for(var t;(t=n._renderedNodeType)===r.COMPOSITE;)n=n._renderedComponent;return t===r.NATIVE?n._renderedComponent:t===r.EMPTY?null:void 0}var r=i(149);n.exports=u},function(n,t,i){"use strict";function f(){return!r&&u.canUseDOM&&(r="textContent"in document.documentElement?"textContent":"innerText"),r}var u=i(9),r=null;n.exports=f},function(n,t,i){"use strict";(function(t){function v(n){if(n){var t=n.getName();if(t)return" Check the render method of `"+t+"`."}return""}function y(n){var t=n._currentElement;return t==null?"#empty":typeof t=="string"||typeof t=="number"?"#text":typeof t.type=="string"?t.type:n.getName?n.getName()||"Unknown":t.type.displayName||t.type.name||"Unknown"}function p(n){return typeof n=="function"&&typeof n.prototype!="undefined"&&typeof n.prototype.mountComponent=="function"&&typeof n.prototype.receiveComponent=="function"}function u(n){var i,b=n===null||n===!1,h,c,k,w;if(b?i=l.create(u):typeof n=="object"?(h=n,(h&&(typeof h.type=="function"||typeof h.type=="string"))?void 0:t.env.NODE_ENV!=="production"?r(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",h.type==null?h.type:typeof h.type,v(h._owner)):r(!1),i=typeof h.type=="string"?f.createInternalComponent(h):p(h.type)?new h.type(h):new o(h)):typeof n=="string"||typeof n=="number"?i=f.createInstanceForText(n):t.env.NODE_ENV!=="production"?r(!1,"Encountered invalid React node of type %s",typeof n):r(!1),t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?a(typeof i.mountComponent=="function"&&typeof i.receiveComponent=="function"&&typeof i.getNativeNode=="function"&&typeof i.unmountComponent=="function","Only React Components can be mounted."):void 0),i._mountIndex=0,i._mountImage=null,t.env.NODE_ENV!=="production"&&(i._isOwnerNecessary=!1,i._warnedAboutRefsInRender=!1),t.env.NODE_ENV!=="production"&&(c=b?0:s++,i._debugID=c,c!==0)){k=y(i);e.debugTool.onSetDisplayName(c,k);if(w=n&&n._owner,w)e.debugTool.onSetOwner(c,w._debugID)}return t.env.NODE_ENV!=="production"&&Object.preventExtensions&&Object.preventExtensions(i),i}var h=i(7),c=i(334),l=i(143),f=i(148),e=i(13),r=i(5),a=i(6),o=function(n){this.construct(n)},s;h(o.prototype,c.Mixin,{_instantiateReactComponent:u});s=1;n.exports=u}).call(t,i(4))},function(n){"use strict";function i(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&t[n.type]||i==="textarea")}var t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};n.exports=i},function(n,t,i){"use strict";var u=i(9),f=i(62),e=i(102),r=function(n,t){n.textContent=t};u.canUseDOM&&("textContent"in document.documentElement||(r=function(n,t){e(n,f(t))}));n.exports=r},function(n){var t=function(){return this}();try{t=t||Function("return this")()||eval("this")}catch(i){typeof window=="object"&&(t=window)}n.exports=t},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(14),o=u(e),s=i(0),h=u(s),c=i(2),l=u(c),a=i(1),v=u(a),r=i(3),y=i(234),p=u(y),w=i(228),b=u(w),k=i(238),d=u(k),g=i(223),nt=u(g),tt=i(39),it=u(tt),rt=i(218),ut=u(rt),ft=i(17),et=u(ft);f=function(n){function t(){var i,r;h.default(this,t);for(var f=arguments.length,e=Array(f),u=0;u<f;u++)e[u]=arguments[u];return i=l.default(this,n.call.apply(n,[this].concat(e))),i._screens={splash:p.default,photoRoll:b.default,webcam:d.default,editor:nt.default,empty:it.default},r=void 0,r=i.props.options.image?"editor":"splash",i._previousScreensStack=[],i.state={activeScreen:i._screens[r],screens:o.default({},r,i._screens[r])},i}return v.default(t,n),t.prototype.hasPreviousScreen=function(){return!!this._previousScreensStack.length},t.prototype.getPreviousScreen=function(){var n=this._previousScreensStack;return n[n.length-1]},t.prototype.switchToScreen=function(n){var i=this,t=null;if(n==="back"){if(t=this._previousScreensStack.pop(),!t)throw new Error("Unable to switch to previous screen - no previous screen found.");}else{if(t=this._screens[n],!t)throw new Error("Unknown screen `"+n+"`");this.state.screens[n]||(this.state.screens[n]=t);this._previousScreensStack.push(this.state.activeScreen)}return new Promise(function(n){i.setState({activeScreen:t},function(){n()})})},t.prototype.setImage=function(n){var t=this.props.options;t.image=n;this.switchToScreen("editor")},t.prototype.export=function(){if(this.state.activeScreen!==this._screens.editor)return Promise.reject(new Error("Unable to export: Active screen is not the editor screen."));if(this.state.screens.editor){var n;return(n=this.refs.editorScreen).export.apply(n,arguments)}},t.prototype.getChildContext=function(){return{ui:this.props.ui,options:this.props.options,mediator:this.props.mediator}},t.prototype._renderScreens=function(){var i=[],n,t,u;for(n in this.state.screens)t=this.state.screens[n],u=this.state.activeScreen===t,i.push(r.ReactBEM.createElement(t,{ref:n+"Screen",app:this,visible:u}));return i},t.prototype.render=function(){return r.ReactBEM.transform(r.ReactBEM.createElement("div",{bem:"b:editor"},r.ReactBEM.createElement(ut.default,{modalManager:et.default.instance}),this._renderScreens()))},t}(r.React.Component);t.default=f;f.childContextTypes={ui:r.React.PropTypes.object.isRequired,mediator:r.React.PropTypes.object.isRequired,options:r.React.PropTypes.object.isRequired};f.propTypes={ui:r.React.PropTypes.object.isRequired,mediator:r.React.PropTypes.object.isRequired,options:r.React.PropTypes.object.isRequired}},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var u,f,e,o;Object.defineProperty(t,"__esModule",{value:!0});u=i(249);Object.defineProperty(t,"Provider",{enumerable:!0,get:function(){return r(u).default}});f=i(247);Object.defineProperty(t,"Library",{enumerable:!0,get:function(){return r(f).default}});e=i(246);Object.defineProperty(t,"Category",{enumerable:!0,get:function(){return r(e).default}});o=i(248);Object.defineProperty(t,"Photo",{enumerable:!0,get:function(){return r(o).default}})},function(n){n.exports={controls:{overview:{filters:"Filter",orientation:"Ausrichtung",adjustments:"Korrekturen",crop:"Zuschneiden",blur:"Weichzeichnen",border:"Rahmen",sticker:"Sticker",text:"Text",brush:"Malen"},border:{color:"Farbe",thickness:"Dicke"},text:{foreground:"Vordergrund",background:"Hintergrund",size:"Gre",font:"Schriftart",alignment:"Ausrichtung",takeToFront:"Nach oben"},orientation:{"rotate-l":"Drehen -90","rotate-r":"Drehen +90","flip-h":"Spiegeln (H)","flip-v":"Spiegeln (V)"},adjustments:{brightness:"Helligkeit",contrast:"Kontrast",saturation:"Sttigung",exposure:"Belichtung",shadows:"Schatten",highlights:"Lichter",clarity:"Klarheit"},crop:{custom:"Manuell",square:"Quadratisch","4-3":"4:3","16-9":"16:9"},focus:{radial:"Kreisfrmig",linear:"Linear",blurRadius:"Radius"},filters:{intensity:"Intensitt",categories:{all:"Alle",retro:"Retro",bw:"Schwarz & Wei",summer:"Sommer",winter:"Winter",special:"Spezial"}},sticker:{brightness:"Helligkeit",contrast:"Kontrast",saturation:"Sttigung",blur:"Weichzeichnen",flip:"Spiegeln","flip-v":"Spiegeln (V)","flip-h":"Spiegeln (H)",takeToFront:"Nach oben",categories:{all:"Alle",glasses:"Brillen",hats:"Hte",beards:"Brte",misc:"Gemischt"}},brush:{thickness:"Dicke",color:"Farbe"}},webcam:{headline:"Mache ein Foto!"},editor:{headline:"Foto editieren","new":"Neu","photo-roll":"Photo Roll",undo:"Rckgngig","export":"Speichern"},splash:{upload:{button:"Lade ein Foto hoch",description:"Klicke hier, um ein Foto von deinem Rechner hochzuladen oder lade es per Drag-and-Drop hoch"},webcam:{headline:"Webcam",description:"Klicke hier, um ein Foto mit deiner Webcam zu machen"},"photo-roll":{headline:"Free stock footage",description:"Select from thousands of Free Stock Photos"}},"photo-roll":{search:{placeholder:"Nach Fotos suchen"}},generic:{back:"Zurck",cancel:"Abbrechen",color:"Farbe"},loading:{resizing:"Bild wird bearbeitet...",exporting:"Exportiere...",loading:"Lade..."},warnings:{imageResized_maxMegaPixels:{title:"Bild verkleinert",text:"Da dein Bild die maximale Gre von ${maxMegaPixels} Megapixeln berschreitet, wurde es auf ${width}x${height} Pixel verkleinert."},imageResized_maxDimensions:{title:"Bild verkleinert",text:"Aufgrund von Hardware-Beschrnkungen wurde das Bild auf ${width}x${height} Pixel verkleinert."}},errors:{imageLoadFail:{title:"Bild konnte nicht geladen werden",text:"Beim Laden des Bildes unter ${path} ist ein Fehler aufgetreten."},webcamUnavailable:{title:"Webcam nicht verfgbar",text:"Webcam-Bild kann nicht dargestellt werden. (Fehler: ${error})"},webcamNotSupported:{title:"Webcam nicht untersttzt",text:"Dein Browser untersttzt das Webcam-Feature leider noch nicht."},renderingError:{title:"Rendering-Fehler",text:"Beim Rendern des Bildes ist ein Fehler aufgetreten."},context_lost:{title:"Es ist ein Fehler aufgetreten",text:"Dein Browser hat zu lange gebraucht, um das Bild zu generieren. Bitte versuche es noch einmal."},context_lost_limit:{title:"Es ist ein Fehler aufgetreten",text:"Bild-Generierung ist mehrmals fehlgeschlagen."},loadingStickersFailed:{title:"Laden der Sticker fehlgeschlagen"}}}},function(n){n.exports={controls:{overview:{filters:"Filters",orientation:"Orientation",adjustments:"Adjust",crop:"Crop",focus:"Focus",border:"Border",sticker:"Sticker",text:"Text",brush:"Brush"},border:{color:"Color",thickness:"Thickness"},text:{foreground:"Foreground",background:"Background",size:"Size",font:"Font",alignment:"Alignment",takeToFront:"To Front"},orientation:{"rotate-l":"Rotate -90","rotate-r":"Rotate +90","flip-h":"Flip (H)","flip-v":"Flip (V)"},adjustments:{brightness:"Brightness",contrast:"Contrast",saturation:"Saturation",exposure:"Exposure",shadows:"Shadows",highlights:"Highlights",clarity:"Clarity"},crop:{custom:"Custom",square:"Square","4-3":"4:3","16-9":"16:9"},focus:{radial:"Radial",linear:"Linear",blurRadius:"Blur radius"},filters:{intensity:"Intensity",categories:{all:"All",retro:"Retro",bw:"Black & White",summer:"Summer",winter:"Winter",special:"Special"}},sticker:{brightness:"Brightness",contrast:"Contrast",saturation:"Saturation",blur:"Blur",flip:"Flip","flip-v":"Flip (V)","flip-h":"Flip (H)",takeToFront:"To Front",categories:{all:"All",glasses:"Glasses",hats:"Hats",beards:"Beards",misc:"Misc"}},brush:{thickness:"Thickness",color:"Color"}},webcam:{headline:"Take a photo!"},editor:{headline:"Edit Photo","new":"New","photo-roll":"Photo Roll",undo:"Undo","export":"Export"},splash:{upload:{button:"Upload your image",description:"Upload a picture from your library or just drag and drop"},webcam:{headline:"Webcam",description:"Take a picture with your webcam or phone"},"photo-roll":{headline:"Free stock footage",description:"Select from thousands of Free Stock Photos"}},"photo-roll":{search:{placeholder:"Search for photos",results:{headline:"Search results for ${query}"}}},generic:{back:"Back",cancel:"Cancel",color:"Color"},loading:{resizing:"Resizing...",exporting:"Exporting...",loading:"Loading..."},warnings:{imageResized_maxMegaPixels:{title:"Image resized",text:"Your image exceeds the maximum size of ${maxMegaPixels} megapixels and has therefore been resized to ${width}x${height} pixels."},imageResized_maxDimensions:{title:"Image resized",text:"Due to hardware limitations your image has been resized to ${width}x${height} pixels."}},errors:{imageLoadFail:{title:"Failed to load image",text:"Failed to load the image at ${path}"},webcamUnavailable:{title:"Webcam unavailable",text:"Unable to display webcam image (Error: ${error})"},webcamNotSupported:{title:"Webcam not supported",text:"The webcam feature is not supported by your browser."},renderingError:{title:"Error while rendering",text:"An error has occurred while rendering the image."},context_lost:{title:"An error has occurred",text:"Your browser took too long to render the image. Please try applying less operations."},context_lost_limit:{title:"An error has occurred",text:"Your browser failed multiple times while rendering the image."},loadingStickersFailed:{title:"Failed to load stickers"}}}},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype.renderWithBEM=function(){return r.ReactBEM.createElement("bem",{specifier:"$b:controls"},r.ReactBEM.createElement("div",{bem:"e:cell m:largeButton"},r.ReactBEM.createElement("div",{bem:"$e:largeButton",onClick:this.props.onClick},r.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/back.png",!0)}))))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),s=u(o),h=i(2),c=u(h),l=i(1),a=u(l),v=i(106),r=u(v),y=i(113),e=u(y);f=function(n){function t(){var r;s.default(this,t);for(var u=arguments.length,f=Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=c.default(this,n.call.apply(n,[this].concat(f))),r._events={},r._bindAll("_onSharedStateUpdate"),r}return a.default(t,n),t.prototype.componentDidMount=function(){if(this._bindEvents(),this.props.sharedState)this.props.sharedState.on("update",this._onSharedStateUpdate)},t.prototype.componentWillUnmount=function(){this._unbindEvents();this.props.sharedState&&this.props.sharedState.off("update",this._onSharedStateUpdate)},t.prototype.componentWillReceiveProps=function(n){if(n.sharedState){this.props.sharedState&&this.props.sharedState.off("update",this._onSharedStateUpdate);n.sharedState.on("update",this._onSharedStateUpdate)}},t.prototype._bindAll=function(){for(var n=this,i=arguments.length,r=Array(i),t=0;t<i;t++)r[t]=arguments[t];r.forEach(function(t){if(typeof n[t]!="function")throw new Error("_bindAll: "+n.constructor.name+"."+t+" is not a function.");n[t]=n[t].bind(n)})},t.prototype._t=function(n,t){return this.context.ui.translate(n,t)},t.prototype._getAssetPath=function(){var n;return(n=this.context.ui).getAssetPath.apply(n,arguments)},t.prototype._onSharedStateUpdate=function(n){this.sharedStateDidChange(n);this.forceUpdate()},t.prototype.sharedStateDidChange=function(){},t.prototype.setSharedState=function(n,t){this.props.sharedState.set(n,t)},t.prototype.getSharedState=function(n){return this.props.sharedState.get(n)},t.prototype.forceSharedUpdate=function(){this.props.sharedState.broadcastUpdate()},t.prototype._bindEvents=function(){var n,t;for(n in this._events){t=this._events[n];this.context.mediator.on(n,t)}},t.prototype._unbindEvents=function(){var n,t;for(n in this._events)t=this._events[n],this.context.mediator.off(n,t)},t.prototype._emitEvent=function(n){for(var r,i=arguments.length,u=Array(i>1?i-1:0),t=1;t<i;t++)u[t-1]=arguments[t];(r=this.context.mediator).emit.apply(r,[n].concat(u))},t.prototype.renderWithBEM=function(){return e.default.createElement("div")},t.prototype.render=function(){return e.default.transform(this.renderWithBEM())},t}(r.default.Component);t.default=f;f.contextTypes={editor:r.default.PropTypes.object,ui:r.default.PropTypes.object,options:r.default.PropTypes.object,mediator:r.default.PropTypes.object,editorScreen:r.default.PropTypes.object};f.propTypes={sharedState:r.default.PropTypes.any}},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype.renderWithBEM=function(){var n="b:button";return this.props.uppercase&&(n+=" m:uppercase"),r.ReactBEM.createElement("button",{bem:n,className:this.props.className,onClick:this.props.onClick},this.props.children)},t}(r.BaseComponent);t.default=f;f.propTypes={onClick:r.React.PropTypes.func,children:r.React.PropTypes.any.isRequired,className:r.React.PropTypes.string}},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype._onItemClick=function(n){this.props.onChange&&this.props.onChange(n)},t.prototype._renderListItems=function(){var n=this;return this.props.items.map(function(t){var i=t.name===n.props.selectedItem.name;return r.ReactBEM.createElement("li",{bem:"$e:item",className:i?" is-active":"",onClick:n._onItemClick.bind(n,t)},r.ReactBEM.createElement("img",{bem:"e:icon",src:t.icon}),r.ReactBEM.createElement("div",{bem:"e:label"},t.label))})},t.prototype.renderWithBEM=function(){return r.ReactBEM.createElement("div",{bem:"$b:categoryDropdown $e:overlay"},r.ReactBEM.createElement("ul",{bem:"$e:list"},this._renderListItems()))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3),a=i(18),v=u(a);f=function(n){function t(){var i;o.default(this,t);for(var f=arguments.length,e=Array(f),u=0;u<f;u++)e[u]=arguments[u];return i=h.default(this,n.call.apply(n,[this].concat(e))),i._bindAll("_onKnobDrag","_onKnobDragStart"),i._value=i.props.initialValue.clone(),i._transparentPatternCanvas=r.Utils.createTransparentPatternCanvas(),i}return l.default(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._renderCanvas()},t.prototype.shouldComponentUpdate=function(n){var t=n.initialValue;return t!==this._value?(this._value=t.clone(),this._renderCanvas(),!0):!1},t.prototype._onKnobDragStart=function(n,t){t.target===this.refs.knob?this._initialAlpha=this._value.a:this._setAlphaFromPosition(n)},t.prototype._onKnobDrag=function(n){var t=this.refs.canvas,i=t.offsetWidth,r=n.x/i;this._setAlpha(this._initialAlpha+r)},t.prototype._getKnobStyle=function(){return{left:(this._value.a*100).toFixed(2)+"%",top:"50%"}},t.prototype._setAlpha=function(n){this._value.a=n;this._value.a=Math.min(1,Math.max(0,this._value.a));this.forceUpdate();this.props.onChange&&this.props.onChange(this._value)},t.prototype._setAlphaFromPosition=function(n){var t=this.refs.canvas;this._initialAlpha=n.x/t.offsetWidth;this._setAlpha(this._initialAlpha)},t.prototype._renderCanvas=function(){var n=this.refs.canvas,t=n.getContext("2d"),u,i,r;n.width=n.offsetWidth;n.height=n.offsetHeight;u=t.createPattern(this._transparentPatternCanvas,"repeat");t.fillStyle=u;t.fillRect(0,0,n.width,n.height);i=t.createLinearGradient(0,0,n.width,n.height);r=this._value.clone();r.a=0;i.addColorStop(0,r.toRGBA());i.addColorStop(1,this._value.toHex());t.fillStyle=i;t.fillRect(0,0,n.width,n.height)},t.prototype.renderWithBEM=function(){return r.ReactBEM.createElement("div",{bem:"$b:colorPicker $e:alpha"},r.ReactBEM.createElement(v.default,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},r.ReactBEM.createElement("div",null,r.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"canvas"}),r.ReactBEM.createElement("div",{bem:"e:knob $b:knob m:transparent",ref:"knob",style:this._getKnobStyle()}))))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3),a=i(18),v=u(a);f=function(n){function t(){var i;o.default(this,t);for(var f=arguments.length,e=Array(f),r=0;r<f;r++)e[r]=arguments[r];i=h.default(this,n.call.apply(n,[this].concat(e)));i._bindAll("_onKnobDrag","_onKnobDragStart");i._value=i.props.initialValue.clone();var u=i._value.toHSV(),s=u[0],c=u[1],l=u[2];return i._hsvColor={h:s,s:c,v:l},i}return l.default(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._renderCanvas()},t.prototype.shouldComponentUpdate=function(n){var i=n.initialValue;if(i!==this._value){this._value=i.clone();var t=this._value.toHSV(),r=t[0],u=t[1],f=t[2];return this._hsvColor={h:r,s:u,v:f},this._renderCanvas(),!0}return!1},t.prototype._onKnobDragStart=function(n,t){t.target===this.refs.knob?this._initialHue=this._hsvColor.h:this._setValueFromPosition(n)},t.prototype._onKnobDrag=function(n){var t=this.refs.canvas,i=t.offsetHeight,r=n.y/i;this._setHue(this._initialHue+r)},t.prototype._getKnobStyle=function(){return{left:"50%",top:(this._hsvColor.h*100).toFixed(2)+"%"}},t.prototype._setHue=function(n){var u=this._hsvColor,t=u.s,i=u.v;n=Math.min(1,Math.max(0,n));t=Math.max(.01,Math.min(t,.99));i=Math.max(.01,Math.min(i,.99));this._value=r.Color.fromHSV(n,t,i,this._value.a);this._hsvColor={h:n,s:t,v:i};this.forceUpdate();this.props.onChange&&this.props.onChange(this._value)},t.prototype._setValueFromPosition=function(n){var t=this.refs.canvas;this._initialHue=n.y/t.offsetHeight;this._setHue(this._initialHue)},t.prototype._renderCanvas=function(){var n=this.refs.canvas,i=n.getContext("2d"),t,u,f;for(n.width=n.offsetWidth,n.height=n.offsetHeight,t=0;t<n.height;t++)u=t/n.height,f=r.Color.fromHSV(u,1,1),i.strokeStyle=f.toRGBA(),i.beginPath(),i.moveTo(0,t),i.lineTo(n.width,t),i.stroke()},t.prototype.renderWithBEM=function(){return r.ReactBEM.createElement("div",{bem:"$b:colorPicker $e:hue"},r.ReactBEM.createElement(v.default,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},r.ReactBEM.createElement("div",null,r.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"canvas"}),r.ReactBEM.createElement("div",{bem:"e:knob $b:knob m:transparent",ref:"knob",style:this._getKnobStyle()}))))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3),a=i(171),v=u(a),y=i(174),p=u(y),w=i(172),b=u(w);f=function(n){function t(){var i;o.default(this,t);for(var f=arguments.length,e=Array(f),r=0;r<f;r++)e[r]=arguments[r];i=h.default(this,n.call.apply(n,[this].concat(e)));i._value=i.props.initialValue.clone();var u=i._value.toHSV(),s=u[0],c=u[1],l=u[2];return i._hsv={h:s,s:c,v:l},i._bindAll("_onElementClick","_onColorChange","_onDocumentClick"),i}return l.default(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);document.addEventListener("click",this._onDocumentClick)},t.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this);document.removeEventListener("click",this._onDocumentClick)},t.prototype._onDocumentClick=function(n){for(var t=n.target;t;t=t.parentNode)if(t===this.refs.root)return;this.props.onClose&&this.props.onClose()},t.prototype._onElementClick=function(n){n.stopPropagation()},t.prototype._onColorChange=function(n){this._value=n;this.props.onChange&&this.props.onChange(n)},t.prototype.renderWithBEM=function(){return r.ReactBEM.createElement("div",{bem:"$b:colorPicker $e:overlay",onClick:this._onElementClick,ref:"root"},r.ReactBEM.createElement(v.default,{initialValue:this._value,onChange:this._onColorChange}),r.ReactBEM.createElement("div",{bem:"e:bottom"},r.ReactBEM.createElement(p.default,{initialValue:this._value,onChange:this._onColorChange}),r.ReactBEM.createElement(b.default,{initialValue:this._value,onChange:this._onColorChange})))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3),a=i(18),v=u(a);f=function(n){function t(){var i;o.default(this,t);for(var f=arguments.length,e=Array(f),r=0;r<f;r++)e[r]=arguments[r];i=h.default(this,n.call.apply(n,[this].concat(e)));i._bindAll("_onKnobDrag","_onKnobDragStart");i._value=i.props.initialValue.clone();var u=i._value.toHSV(),s=u[0],c=u[1],l=u[2];return i._hsvColor={h:s,s:c,v:l},i}return l.default(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._renderCanvas()},t.prototype.shouldComponentUpdate=function(n){var i=n.initialValue;if(i!==this._value){this._value=i.clone();var t=this._value.toHSV(),r=t[0],u=t[1],f=t[2];return this._hsvColor={h:r,s:u,v:f},this._renderCanvas(),!0}return!1},t.prototype._onKnobDragStart=function(n,t){t.target===this.refs.knob?(this._initialValue=this._hsvColor.v,this._initialSaturation=this._hsvColor.s):this._setValuesFromPosition(n)},t.prototype._onKnobDrag=function(n){var t=this.refs.canvas,i=t.offsetWidth,r=t.offsetHeight,u=n.x/i,f=n.y/r*-1,e=this._hsvColor.h;this._setHSV(e,this._initialSaturation+u,this._initialValue+f)},t.prototype._getKnobStyle=function(){var n=this._hsvColor,t=n.s,i=n.v;return{left:(t*100).toFixed(2)+"%",top:((1-i)*100).toFixed(2)+"%"}},t.prototype._setHSV=function(n,t,i){t=Math.max(.01,Math.min(t,.99));i=Math.max(.01,Math.min(i,.99));this._value=r.Color.fromHSV(n,t,i,this._value.a);this._hsvColor={h:n,s:t,v:i};this.forceUpdate();this.props.onChange&&this.props.onChange(this._value)},t.prototype._setValuesFromPosition=function(n){var t=this.refs.canvas,i;this._initialSaturation=n.x/t.offsetWidth;this._initialValue=1-n.y/t.offsetHeight;i=this._hsvColor.h;this._setHSV(i,this._initialSaturation,this._initialValue)},t.prototype._renderCanvas=function(){var n=this.refs.canvas,o=n.getContext("2d"),t,i,s,u;for(n.width=n.offsetWidth,n.height=n.offsetHeight,t=o.getImageData(0,0,n.width,n.height),i=0;i<n.height;i++)for(s=(n.height-i)/n.height,u=0;u<n.width;u++){var h=u/n.width,f=r.Color.fromHSV(this._hsvColor.h,h,s),c=f.r,l=f.g,a=f.b,v=f.a,e=(i*n.width+u)*4;t.data[e]=c*255;t.data[e+1]=l*255;t.data[e+2]=a*255;t.data[e+3]=v*255}o.putImageData(t,0,0)},t.prototype.renderWithBEM=function(){return r.ReactBEM.createElement("div",{bem:"$b:colorPicker $e:saturation"},r.ReactBEM.createElement(v.default,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},r.ReactBEM.createElement("div",null,r.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"canvas"}),r.ReactBEM.createElement("div",{bem:"e:knob $b:knob m:transparent",ref:"knob",style:this._getKnobStyle()}))))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f,e;Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),s=u(o),h=i(2),c=u(h),l=i(1),a=u(l),r=i(3),v=i(10),y=u(v),p=i(16),w=u(p),b=i(65),k=u(b),d=i(197),g=u(d);f=[{identifier:"brightness",isAvailable:function(n){return n.isToolEnabled("brightness")},defaultValue:0,valueMultiplier:100,valueOffset:0},{identifier:"saturation",isAvailable:function(n){return n.isToolEnabled("saturation")},defaultValue:1,valueMultiplier:100,valueOffset:-100},{identifier:"contrast",isAvailable:function(n){return n.isToolEnabled("contrast")},defaultValue:1,valueMultiplier:100,valueOffset:-100},{identifier:"clarity",isAvailable:function(n){return n.isToolEnabled("clarity")},defaultValue:0,valueMultiplier:100,valueOffset:0},{identifier:"exposure",isAvailable:function(n){return n.isToolEnabled("exposure")},defaultValue:0,valueMultiplier:100,valueOffset:0},{identifier:"shadows",isAvailable:function(n){return n.isToolEnabled("shadows")},defaultValue:1,valueMultiplier:100,valueOffset:-100},{identifier:"highlights",isAvailable:function(n){return n.isToolEnabled("highlights")},defaultValue:1,valueMultiplier:100,valueOffset:0}];e=function(n){function t(){var i,e;s.default(this,t);for(var u=arguments.length,f=Array(u),r=0;r<u;r++)f[r]=arguments[r];return i=c.default(this,n.call.apply(n,[this].concat(f))),i._bindAll("_onSliderValueChange"),e=i.context.editor,i._operation=e.getOrCreateOperation("adjustments"),i.state={selectedControls:null},i}return a.default(t,n),t.prototype._onBackClick=function(t){var i=this.context.editor,f=this.getSharedState("operationExistedBefore"),r=this.getSharedState("initialOptions"),u;this._operation.optionsEqual(r)||i.addHistory(this._operation,r,f);u=this._operation.getDefaultOptions();this._operation.optionsEqual(u)&&i.removeOperation(this._operation);n.prototype._onBackClick.call(this,t)},t.prototype._onSliderValueChange=function(n){var t=this.state.selectedControls,r=t.identifier,u=t.valueMultiplier,f=t.valueOffset,i;n=(n-f)/u;this._operation.setOption(r,n);i=this.context.editor;i.render()},t.prototype._onButtonClick=function(n){this.setState({selectedControls:n})},t.prototype._buildSliderProps=function(n){var r=n.identifier,u=n.defaultValue,t=n.valueMultiplier,f=n.valueOffset,e=-1*t,o=1*t,i=this._operation?this._operation.getOption(r):u;return i*=t,i+=f,{minValue:e,maxValue:o,value:i,valueUnit:"%",positiveValuePrefix:"+",label:this._t("controls.adjustments."+r),middleDot:!0,onChange:this._onSliderValueChange}},t.prototype.renderOverlayControls=function(){var n=this.state.selectedControls,t;if(n)return t=this._buildSliderProps(n),r.ReactBEM.createElement(k.default,t)},t.prototype._renderListItems=function(){var n=this;return f.filter(function(t){return t.isAvailable(n.context.editor)}).map(function(t){var i=n.state.selectedControls===t,e=i?"is-active":null,u=void 0,f;return i||!0||(f=n._buildSliderProps(t),u=r.ReactBEM.createElement("bem",{specifier:"b:adjustmentsControls"},r.ReactBEM.createElement("div",{bem:"e:miniSlider"},r.ReactBEM.createElement(g.default,f)))),r.ReactBEM.createElement("li",{bem:"e:item",key:t.identifier},r.ReactBEM.createElement("bem",{specifier:"$b:controls"},r.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",onClick:n._onButtonClick.bind(n,t),className:e},r.ReactBEM.createElement("img",{bem:"e:icon",src:n._getAssetPath("controls/adjustments/"+t.identifier+".png",!0)}),r.ReactBEM.createElement("div",{bem:"e:label"},n._t("controls.adjustments."+t.identifier)),u)))})},t.prototype.renderControls=function(){var n=this._renderListItems();return r.ReactBEM.createElement("div",{bem:"e:cell m:list"},r.ReactBEM.createElement(w.default,null,r.ReactBEM.createElement("ul",{bem:"$e:list"},n)))},t}(y.default);t.default=e},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var r;Object.defineProperty(t,"__esModule",{value:!0});var f=i(0),e=u(f),o=i(2),s=u(o),h=i(1),c=u(h),l=i(11),a=u(l),v=i(175),y=u(v);r=function(n){function t(){return e.default(this,t),s.default(this,n.apply(this,arguments))}return c.default(t,n),t.onEnter=function(){var n=this.context.editor,i=n.operationExists("adjustments"),t=n.getOrCreateOperation("adjustments"),r=t.serializeOptions();this.setSharedState({operation:t,operationExistedBefore:i,initialOptions:r})},t.isAvailable=function(n){return n.isToolEnabled("brightness")||n.isToolEnabled("saturation")||n.isToolEnabled("contrast")},t}(a.default);r.controlsComponent=y.default;r.identifier="adjustments";r.iconPath="controls/overview/adjustments.png";r.languageKey="controls.overview.adjustments";r.defaultOptions={};t.default=r},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=r(e),s=i(2),h=r(s),c=i(1),l=r(c),u=i(3),a=i(10),v=r(a),y=i(40),p=r(y),w=i(64),b=r(w);f=function(n){function t(){var i;o.default(this,t);for(var u=arguments.length,f=Array(u),r=0;r<u;r++)f[r]=arguments[r];return i=h.default(this,n.call.apply(n,[this].concat(f))),i._hasDoneButton=!0,i._operation=i.getSharedState("operation"),i._bindAll("_onThicknessUpdate","_onColorUpdate"),i}return l.default(t,n),t.prototype._onThicknessUpdate=function(n){this._operation.setThickness(n);var t=this.context.editor;t.render()},t.prototype._onBackClick=function(t){var i=this.context.editor;this.getSharedState("operationExistedBefore")?this._operation.set(this.getSharedState("initialOptions")):i.removeOperation(this._operation);i.undoZoom();i.enableFeatures("zoom","drag");i.render();n.prototype._onBackClick.call(this,t)},t.prototype._onColorUpdate=function(n){this._operation.setColor(n);var t=this.context.editor;t.render()},t.prototype.renderControls=function(){var t=this.context.editor,n=t.getFinalDimensions(),i=Math.round(Math.min(n.x,n.y)/2),r=this._operation.getThickness();return[u.ReactBEM.createElement("div",{bem:"e:cell m:slider"},u.ReactBEM.createElement(p.default,{style:"large",minValue:0,maxValue:i,valueUnit:"px",middleDot:!1,label:this._t("controls.border.thickness"),onChange:this._onThicknessUpdate,value:r})),u.ReactBEM.createElement("div",{bem:"e:cell m:colorPicker"},u.ReactBEM.createElement(b.default,{initialValue:this._operation.getColor().clone(),onChange:this._onColorUpdate}))]},t}(v.default);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var r;Object.defineProperty(t,"__esModule",{value:!0});var f=i(0),e=u(f),o=i(2),s=u(o),h=i(1),c=u(h),l=i(11),a=u(l),v=i(177),y=u(v);r=function(n){function t(){return e.default(this,t),s.default(this,n.apply(this,arguments))}return c.default(t,n),t.onEnter=function(){var n=this.context.editor,i=n.getInputDimensions(),r=Math.min(i.x,i.y)*.05,u=n.operationExists("border"),t=n.getOrCreateOperation("border",{thickness:r}),f={color:t.getColor().clone(),thickness:t.getThickness()};this.setSharedState({operation:t,operationExistedBefore:u,initialOptions:f});n.setZoom("auto",function(){n.disableFeatures("zoom","drag")})},t.onExit=function(){var n=this.context.editor,t=this.getSharedState("operation");n.addHistory(t,this.getSharedState("initialOptions"),this.getSharedState("operationExistedBefore"));t.setEnabled(!0);n.undoZoom();n.enableFeatures("zoom","drag");n.render()},t.isAvailable=function(n){return n.isToolEnabled("border")},t}(a.default);r.controlsComponent=y.default;r.identifier="border";r.iconPath="controls/overview/border.png";r.languageKey="controls.overview.border";r.defaultOptions={};t.default=r},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3),a=i(67),v=u(a);f=function(n){function t(){var i;o.default(this,t);for(var f=arguments.length,e=Array(f),u=0;u<f;u++)e[u]=arguments[u];return i=h.default(this,n.call.apply(n,[this].concat(e))),i._drawing=!1,i._bindAll("_onMouseEnter","_onMouseLeave","_onMouseDown","_onMouseMove","_onMouseUp","_onMouseMoveOnCanvas"),i._lastDrawPosition=null,i.state={cursorVisible:!1,cursorPosition:new r.Vector2},i}return l.default(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._containerBoundingRect=this.refs.root.getBoundingClientRect()},t.prototype._onOperationRemoved=function(){void 0},t.prototype._onOperationUpdated=function(n){n===this.getSharedState("operation")&&this.forceUpdate()},t.prototype._onMouseDown=function(n){n.preventDefault();this._optionsBeforeDraw=this.getSharedState("operation").serializeOptions();delete this._optionsBeforeDraw.enabled;this._operationExistedBeforeDraw=this.getSharedState("operationExistedBefore");this.setSharedState({operationExistedBefore:!0},!1);var t=this.context.editor.getZoom(),i=this._getCursorPosition(n),r=this.getSharedState("brush"),u=this.getSharedState("thickness"),f=this.getSharedState("color"),e=this.getSharedState("hardness");this._drawing=!0;this._currentPath=r.createPath(u,e,f);this._currentPath.addControlPoint(i.clone().divide(t));document.addEventListener("mousemove",this._onMouseMove);document.addEventListener("touchmove",this._onMouseMove);document.addEventListener("mouseup",this._onMouseUp);document.addEventListener("touchend",this._onMouseUp)},t.prototype._onMouseUp=function(){this._currentPath=null;this._drawing=!1;var n=this.context.editor;n.addHistory(this.getSharedState("operation"),this._optionsBeforeDraw,this._operationExistedBeforeDraw);document.removeEventListener("mousemove",this._onMouseMove);document.removeEventListener("touchmove",this._onMouseMove);document.removeEventListener("mouseup",this._onMouseUp);document.removeEventListener("touchend",this._onMouseUp)},t.prototype._onMouseEnter=function(n){var t=this._getCursorPosition(n);this.setState({cursorVisible:!0,cursorPosition:t});this._onMouseMove(n)},t.prototype._onMouseLeave=function(){this.setState({cursorVisible:!1})},t.prototype._onMouseMove=function(n){var o=this.context.editor.getZoom(),t=this._getCursorPosition(n),i,r,u,f,e;this.setState({cursorPosition:t});i=void 0;this._lastDrawPosition?(r=this.getSharedState("thickness"),u=this._lastDrawPosition.clone().subtract(t).abs().len()/o,i=u>=r/3):i=!0;this._drawing&&i&&(f=this.context.editor.getZoom(),this._currentPath.addControlPoint(t.clone().divide(f)),this.getSharedState("brush").render(),e=this.context.editor,e.render(),this._lastDrawPosition=t.clone())},t.prototype._onMouseMoveOnCanvas=function(n){var t=this._getCursorPosition(n);this.setState({cursorPosition:t})},t.prototype._getCursorStyle=function(){var i=this.context.editor,r=i.getZoom(),n=this.getSharedState("thickness")*r,u=this.getSharedState("color"),t=this.state.cursorPosition;return{left:t.x,top:t.y,width:n,height:n,background:u.toRGBA(),marginLeft:n*-.5,marginTop:n*-.5}},t.prototype._getCursorPosition=function(n){var i=r.Utils.getEventPosition(n),t=this._containerBoundingRect;return i.subtract(t.left,t.top)},t.prototype._getContainerProps=function(){var t=n.prototype._getContainerProps.call(this);return t.onMouseDown=t.onTouchStart=this._onMouseDown,t},t.prototype._getInnerContainerProps=function(){var t=n.prototype._getInnerContainerProps.call(this);return delete t.onClick,t.onMouseEnter=this._onMouseEnter,t.onMouseLeave=this._onMouseLeave,t.onMouseMove=this._onMouseMoveOnCanvas,t},t.prototype._renderOverlayControls=function(){var n=this.state.cursorVisible?"is-visible":null;return r.ReactBEM.createElement("div",{bem:"$b:brushCanvasControls"},r.ReactBEM.createElement("div",{bem:"e:cursor",className:n,style:this._getCursorStyle()}))},t}(v.default);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var e;Object.defineProperty(t,"__esModule",{value:!0});var o=i(14),f=u(o),s=i(0),h=u(s),c=i(2),l=u(c),a=i(1),v=u(a),r=i(3),y=i(10),p=u(y),w=i(40),b=u(w),k=i(16),d=u(k),g=i(64),nt=u(g),tt=i(182),it=u(tt);e=function(n){function t(){var u,i;h.default(this,t);for(var o=arguments.length,s=Array(o),e=0;e<o;e++)s[e]=arguments[e];return i=l.default(this,n.call.apply(n,[this].concat(s))),i._hasDoneButton=!1,i._brushOptions={thickness:i.getSharedState("thickness"),color:i.getSharedState("color").clone()},i._hasPresets=i.props.options.thicknessPresets&&i.props.options.thicknessPresets.length>0,i._hasSlider=!i._hasPresets,i._bindAll("_onThicknessUpdated","_onColorUpdated","_onOperationUpdated","_onOperationRemoved"),i.state={thicknessControlsEnabled:!1},i._events=(u={},f.default(u,r.Constants.EVENTS.OPERATION_UPDATED,i._onOperationUpdated),f.default(u,r.Constants.EVENTS.OPERATION_REMOVED,i._onOperationRemoved),u),i}return v.default(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);var t=this.context.editor;t.setZoom("auto");t.disableFeatures("zoom","drag")},t.prototype._onThicknessClick=function(n){this._onThicknessUpdated(n);this.forceUpdate()},t.prototype._onOperationRemoved=function(n){if(n===this.getSharedState("operation")&&!this._backButtonClicked){var i=this.context.editor,t=i.getOrCreateOperation("sprite"),r=t.createBrush();t.addSprite(r);this.setSharedState({operation:t,brush:r,operationExistedBefore:!1,initialOptions:{}});i.render()}},t.prototype._onOperationUpdated=function(n){var t=this;n===this.getSharedState("operation")&&function(){var i=t.getSharedState("brush"),r=n.getSprites().filter(function(n){return n.getId()===i.getId()})[0];t.setSharedState({brush:r});n.setEnabled(!0);t.context.editor.render(function(){n.setEnabled(!1);t.context.editor.render()})}()},t.prototype._onThicknessUpdated=function(n){this.setSharedState({thickness:n});this._brushOptions.thickness=n},t.prototype._onColorUpdated=function(n){this.setSharedState({color:n});this._brushOptions.color=n.clone()},t.prototype._renderThicknessItems=function(){var n=this,t=this.props.options.thicknessPresets,i=Math.max.apply(null,t);return t.map(function(t){var u=n.getSharedState("thickness")===t;return r.ReactBEM.createElement(it.default,{thickness:t,maxThickness:i,active:u,key:t,onClick:n._onThicknessClick.bind(n,t)})})},t.prototype.renderControls=function(){var i=this.context.editor,n=[];if(this._hasSlider){var t=i.getFinalDimensions(),u=Math.round(Math.min(t.x,t.y)/2),f=this._brushOptions.thickness;n.push(r.ReactBEM.createElement("div",{bem:"e:cell m:slider"},r.ReactBEM.createElement(b.default,{style:"large",minValue:1,maxValue:u,valueUnit:"px",middleDot:!1,label:this._t("controls.brush.thickness"),onChange:this._onThicknessUpdated,value:f})))}else this._hasPresets&&n.push(r.ReactBEM.createElement("div",{bem:"e:cell m:list"},r.ReactBEM.createElement(d.default,null,r.ReactBEM.createElement("ul",{bem:"$e:list"},this._renderThicknessItems()))));return n.push(r.ReactBEM.createElement("div",{bem:"e:cell m:colorPicker"},r.ReactBEM.createElement(nt.default,{initialValue:this._brushOptions.color.clone(),onChange:this._onColorUpdated}))),n},t}(p.default);t.default=e},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var r;Object.defineProperty(t,"__esModule",{value:!0});var f=i(0),e=u(f),o=i(2),s=u(o),h=i(1),c=u(h),l=i(3),a=i(11),v=u(a),y=i(180),p=u(y),w=i(179),b=u(w);r=function(n){function t(){return e.default(this,t),s.default(this,n.apply(this,arguments))}return c.default(t,n),t.onExit=function(){var n=this.context.editor,t=this.getSharedState("operation");t.setEnabled(!0);n.undoZoom();n.enableFeatures("zoom","drag");n.render()},t.onEnter=function(n,t){var i=this.context.editor,f=i.getSDK().getFinalDimensions(),h=i.operationExists("sprite"),r=i.getOrCreateOperation("sprite"),e=r.createBrush(),c=r.serializeOptions(),u,o,s;r.addSprite(e);i.render(function(){r.setEnabled(!1);i.setZoom("auto")});u=Math.max(f.x,f.y)*.05;t.thicknessPresets&&t.thicknessPresets.length>0&&(u=t.thicknessPresets[0]);o=new l.Color(1,0,0,1);s=1;this.setSharedState({operationExistedBefore:h,operation:r,brush:e,initialOptions:c,thickness:u,color:o,hardness:s})},t.isAvailable=function(n){return n.isToolEnabled("brush")},t}(v.default);r.controlsComponent=p.default;r.canvasControlsComponent=b.default;r.identifier="brush";r.iconPath="controls/overview/brush.png";r.languageKey="controls.overview.brush";r.defaultOptions={thicknessPresets:[]};t.default=r},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._renderCanvas()},t.prototype.componentDidUpdate=function(){this._renderCanvas()},t.prototype._renderCanvas=function(){var n=this.refs.canvas,t=n.getContext("2d");n.width=n.offsetWidth;n.height=n.offsetHeight;var i=this.props,r=i.maxThickness,u=i.thickness,f=n.width*(u/r),e=f/2;t.fillStyle="white";t.beginPath();t.arc(n.width/2,n.height/2,e,0,2*Math.PI);t.fill()},t.prototype.renderWithBEM=function(){return r.ReactBEM.createElement("bem",{specifier:"$b:controls $e:list"},r.ReactBEM.createElement("li",{bem:"e:item",onClick:this.props.onClick},r.ReactBEM.createElement("bem",{specifier:"$b:controls"},r.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",className:this.props.active?"is-active":null},r.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"canvas"}),r.ReactBEM.createElement("div",{bem:"e:label"},this.props.thickness)))))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var e,o;Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),h=u(s),c=i(2),l=u(c),a=i(1),v=u(a),r=i(3),y=i(18),f=u(y),p=i(38),w=u(p);e=new r.Vector2(50,50);o=function(n){function t(){var i;h.default(this,t);for(var u=arguments.length,f=Array(u),r=0;r<u;r++)f[r]=arguments[r];return i=l.default(this,n.call.apply(n,[this].concat(f))),i._bindAll("_onCenterDragStart","_onCenterDrag"),i._operation=i.getSharedState("operation"),i}return v.default(t,n),t.prototype._onCenterDragStart=function(){this._initialStart=this.getSharedState("start").clone();this._initialEnd=this.getSharedState("end").clone();this._initialCropSize=this._initialEnd.clone().subtract(this._initialStart)},t.prototype._onCenterDrag=function(n){var i=this.context.editor,u=i.getOutputDimensions(),f=n.clone().divide(u),e=new r.Vector2(0,0),o=new r.Vector2(1,1).subtract(this._initialCropSize),t=this._initialStart.clone().add(f).clamp(e,o),s=t.clone().add(this._initialCropSize);this.setSharedState({start:t,end:s})},t.prototype._onKnobDragStart=function(n){this._currentDragOption=n;this._initialValues={start:this.getSharedState("start").clone(),end:this.getSharedState("end").clone()}},t.prototype._onKnobDrag=function(n,t){var c=this.context.editor,u=c.getOutputDimensions(),f=this._operation._ratio||"*",i=this._initialValues.end.clone().subtract(this._initialValues.start).multiply(u),o=void 0,s,h;n==="start"?(i.subtract(t),o=this._initialValues.end.clone().multiply(u)):n==="end"&&(i.add(t),o=new r.Vector2(1,1).subtract(this._initialValues.start).multiply(u));i.x=Math.min(Math.max(e.x,i.x),o.x);f!=="*"&&(i.y=i.x/f);i.y=Math.min(Math.max(e.y,i.y),o.y);f!=="*"&&(i.x=i.y*f);n==="start"?(s=this._initialValues.end.clone().subtract(i.clone().divide(u)),this.setSharedState({start:s})):n==="end"&&(h=this._initialValues.start.clone().add(i.clone().divide(u)),this.setSharedState({end:h}))},t.prototype._calculateDimensions=function(){var n=this.context.editor,t=this.getSharedState("start"),i=this.getSharedState("end");return i.clone().subtract(t).multiply(n.getInputDimensions()).round()},t.prototype._getContainerStyle=function(){var n=this.context.editor.getSDK().getSprite().getBounds(),t=n.x,i=n.y,r=n.width,u=n.height;return{left:t,top:i,width:Math.ceil(r),height:Math.ceil(u)}},t.prototype._getAreaStyles=function(){var r=this.context.editor,i=r.getOutputDimensions(),n=this.getSharedState("start").clone().multiply(i).floor(),u=this.getSharedState("end").clone().multiply(i).ceil(),t=u.clone().subtract(n);return{topLeft:this._getDimensionsStyles(n.x,n.y),topCenter:this._getDimensionsStyles(t.x,n.y),centerLeft:this._getDimensionsStyles(n.x,t.y),center:this._getDimensionsStyles(t.x,t.y)}},t.prototype._getDimensionsStyles=function(n,t){return{width:Math.max(1,n),height:Math.max(1,t)}},t.prototype.renderWithBEM=function(){var n=this._getAreaStyles(),t=this._calculateDimensions();return r.ReactBEM.createElement("div",{bem:"b:canvasControls e:container m:full",ref:"container",style:this._getContainerStyle()},r.ReactBEM.createElement("div",{bem:"$b:cropCanvasControls"},r.ReactBEM.createElement("div",{bem:"e:row"},r.ReactBEM.createElement("div",{bem:"e:cell m:dark",style:n.topLeft},""),r.ReactBEM.createElement("div",{bem:"e:cell m:dark",style:n.topCenter},""),r.ReactBEM.createElement("div",{bem:"e:cell m:dark"})),r.ReactBEM.createElement("div",{bem:"e:row"},r.ReactBEM.createElement("div",{bem:"e:cell m:dark",style:n.centerLeft},""),r.ReactBEM.createElement(f.default,{onStart:this._onCenterDragStart,onDrag:this._onCenterDrag},r.ReactBEM.createElement("div",{bem:"e:cell m:bordered",style:n.center},r.ReactBEM.createElement(f.default,{onStart:this._onKnobDragStart.bind(this,"start"),onDrag:this._onKnobDrag.bind(this,"start")},r.ReactBEM.createElement("div",{bem:"e:knob m:topLeft $b:knob"},r.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/knobs/resize-diagonal-down.png",!0)}))),r.ReactBEM.createElement("div",{bem:"e:dimensions"},t.x," x ",t.y),r.ReactBEM.createElement(f.default,{onStart:this._onKnobDragStart.bind(this,"end"),onDrag:this._onKnobDrag.bind(this,"end")},r.ReactBEM.createElement("div",{bem:"e:knob m:bottomRight $b:knob"},r.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/knobs/resize-diagonal-down.png",!0)}))))),r.ReactBEM.createElement("div",{bem:"e:cell m:dark"},"")),r.ReactBEM.createElement("div",{bem:"e:row"},r.ReactBEM.createElement("div",{bem:"e:cell m:dark"},""),r.ReactBEM.createElement("div",{bem:"e:cell m:dark"},""),r.ReactBEM.createElement("div",{bem:"e:cell m:dark"},""))))},t}(w.default);t.default=o},function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}var u,e;Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),s=f(o),h=i(2),c=f(h),l=i(1),a=f(l),r=i(3),v=i(10),y=f(v),p=i(16),w=f(p);u=.1;e=function(n){function t(){var i;s.default(this,t);for(var u=arguments.length,f=Array(u),r=0;r<u;r++)f[r]=arguments[r];return i=c.default(this,n.call.apply(n,[this].concat(f))),i._hasDoneButton=!0,i._bindAll("_selectRatio"),i._operation=i.getSharedState("operation"),i.state={ratio:null},i._initRatios(),i}return a.default(t,n),t.prototype._initRatios=function(){var t=this.props.options,n=t.additionalRatios,u=t.replaceRatios,i=t.selectableRatios;n=n||[];this._ratios=r.Constants.DEFAULTS.CROP_RATIOS;this._ratios=u?n:this._ratios.concat(n);i&&i.length&&(this._ratios=r.Utils.select(this._ratios,i,function(n){return n.name}))},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this.getSharedState("operationExistedBefore")||this._selectInitialRatio()},t.prototype._onBackClick=function(t){var i=this.context.editor,r;this.getSharedState("operationExistedBefore")?(r=this.getSharedState("initialOptions"),this._operation.set(r)):i.removeOperation(this._operation);i.undoZoom();i.enableFeatures("zoom","drag");n.prototype._onBackClick.call(this,t)},t.prototype._onDoneClick=function(t){var i=this.context.editor,r={start:this.getSharedState("start"),end:this.getSharedState("end")},u=this.getSharedState("initialOptions"),f=!r.start.equals(u.start)||!r.end.equals(u.end);this._operation.set(r);f&&i.addHistory(this._operation,this.getSharedState("initialOptions"),this.getSharedState("operationExistedBefore"));i.enableFeatures("zoom","drag");i.setZoom("auto");n.prototype._onDoneClick.call(this,t)},t.prototype._selectInitialRatio=function(){var n=null,t=this._operation._ratio,i,r;return t&&(i=this._ratios.filter(function(n){return n.ratio===t}),n=i[0]),n||(r=this._ratios.filter(function(n){return n.selected}),n=r.pop()),n||(n=this._ratios[0]),this._selectRatio(n)},t.prototype._selectRatio=function(n){this._setDefaultOptionsForRatio(n);this._operation._ratio=n.ratio;this.setSharedState({ratio:n})},t.prototype._setDefaultOptionsForRatio=function(n){var f=n.ratio,l=n.name,c=this.context.editor,i=new r.Vector2,e=new r.Vector2,t,o,s,h;f==="*"?(i=new r.Vector2(u,u),e=new r.Vector2(1,1).subtract(u)):(t=c.getOutputDimensions(),o=t.x/t.y,o<=f?(s=1/t.y*t.x/f*(1-u*2),i.set(u,(1-s)/2),e.set(1-u,1-i.y)):(h=1/t.x*f*t.y*(1-u*2),i.set((1-h)/2,u),e.set(1-i.x,1-u)));this.setSharedState({start:i,end:e})},t.prototype.renderControls=function(){var n=this,t=this._ratios.map(function(t){return r.ReactBEM.createElement("li",{bem:"e:item",key:t.name},r.ReactBEM.createElement("bem",{specifier:"$b:controls"},r.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",className:n._operation._ratio===t.ratio?"is-active":null,onClick:n._selectRatio.bind(n,t)},r.ReactBEM.createElement("img",{bem:"e:icon",src:n._getAssetPath("controls/crop/"+t.name+".png",!0)}),r.ReactBEM.createElement("div",{bem:"e:label"},n._t("controls.crop."+t.name)))))});return r.ReactBEM.createElement("div",{bem:"e:cell m:list"},r.ReactBEM.createElement(w.default,null,r.ReactBEM.createElement("ul",{bem:"$e:list"},t)))},t}(y.default);t.default=e},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var r;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),f=i(3),a=i(11),v=u(a),y=i(184),p=u(y),w=i(183),b=u(w);r=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.onEnter=function(){var n=this.context.editor,r=n.operationExists("crop"),t=n.getOrCreateOperation("crop"),i={start:t.getStart().clone(),end:t.getEnd().clone()};this.setSharedState({start:i.start.clone(),end:i.end.clone(),operation:t,operationExistedBefore:r,initialOptions:i});t.set({start:new f.Vector2(0,0),end:new f.Vector2(1,1)});n.setZoom("auto",function(){n.disableFeatures("zoom","drag")})},t.isAvailable=function(n){return n.isToolEnabled("crop")},t}(v.default);r.controlsComponent=p.default;r.canvasControlsComponent=b.default;r.identifier="crop";r.iconPath="controls/overview/crop.png";r.languageKey="controls.overview.crop";r.defaultOptions={};t.default=r},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(14),o=u(e),s=i(0),h=u(s),c=i(2),l=u(c),a=i(1),v=u(a),r=i(3),y=i(10),p=u(y),w=i(16),b=u(w),k=i(108),d=u(k),g=i(65),nt=u(g);f=function(n){function t(){var i;h.default(this,t);for(var f=arguments.length,e=Array(f),u=0;u<f;u++)e[u]=arguments[u];return i=l.default(this,n.call.apply(n,[this].concat(e))),i._bindAll("_onItemClick","_onOperationUpdated","_onSliderValueChange","_onCategoryChange"),i._operation=i.getSharedState("operation"),i._events=o.default({},r.Constants.EVENTS.OPERATION_UPDATED,i._onOperationUpdated),i._initFilters(),i.state={category:"all"},i}return v.default(t,n),t.prototype._initFilters=function(){var t=this,n,i;this._categories=[{name:"retro",filters:[r.SDK.Filters.CelsiusFilter,r.SDK.Filters.ChestFilter,r.SDK.Filters.FixieFilter,r.SDK.Filters.LeninFilter,r.SDK.Filters.PolaFilter,r.SDK.Filters.Pola669Filter,r.SDK.Filters.K1Filter,r.SDK.Filters.K2Filter,r.SDK.Filters.K6Filter,r.SDK.Filters.KDynamicFilter]},{name:"bw",filters:[r.SDK.Filters.BWFilter,r.SDK.Filters.BWHardFilter,r.SDK.Filters.X400Filter]},{name:"summer",filters:[r.SDK.Filters.FrontFilter,r.SDK.Filters.MellowFilter,r.SDK.Filters.SemiredFilter,r.SDK.Filters.SunnyFilter,r.SDK.Filters.TexasFilter]},{name:"winter",filters:[r.SDK.Filters.MetalFilter,r.SDK.Filters.A15Filter,r.SDK.Filters.BreezeFilter,r.SDK.Filters.FridgeFilter,r.SDK.Filters.OrchidFilter,r.SDK.Filters.QuoziFilter]},{name:"special",filters:[r.SDK.Filters.FoodFilter,r.SDK.Filters.GlamFilter,r.SDK.Filters.LomoFilter,r.SDK.Filters.GobblinFilter]}];n=this.props.options;n.categories&&(this._categories=n.replaceCategories?n.categories:r.Utils.mergeCategories(this._categories,n.categories,"filters"));n.selectableFilters&&function(){var i=[];t._categories.forEach(function(t){var r=t.filters.filter(function(t){return n.selectableFilters.indexOf(t.identifier)!==-1});r.length>0&&i.push({name:t.name,filters:r})});t._categories=i}();i={name:"all",filters:this._categories.map(function(n){return n.filters}).reduce(function(n,t){return n.concat(t)})};this._categories.unshift(i);this._categoriesById={};this._categories.forEach(function(n){t._categoriesById[n.name]=n})},t.prototype._onSliderValueChange=function(n){this._operation.setIntensity(n/100);var t=this.context.editor;t.render()},t.prototype._onCategoryChange=function(n){var t=this;this.setState({category:n.name},function(){t.refs.scrollbar.update()})},t.prototype._onOperationUpdated=function(n){n===this._operation&&this.forceUpdate()},t.prototype._onItemClick=function(n){this._operation.set({filter:new n({intensity:1}),intensity:1});var t=this.context.editor;t.render();this.forceUpdate()},t.prototype._onBackClick=function(t){var i=this.getSharedState("initialOptions"),r=this._operation.getFilter(),e=this._operation.getIntensity(),u,f;(r!==i.filter||e!==i.intensity)&&(u=this.context.editor,u.addHistory(this._operation,i,this.getSharedState("operationExistedBefore")));r.isIdentity&&(f=this.context.editor,f.removeOperation(this._operation));n.prototype._onBackClick.call(this,t)},t.prototype.renderOverlayControls=function(){var t=this._operation.getFilter(),n;return t.isIdentity?null:(n=this._operation.getIntensity(),r.ReactBEM.createElement(nt.default,{minValue:0,maxValue:100,value:n*100,valueUnit:"%",positiveValuePrefix:"+",label:this._t("controls.filters.intensity"),onChange:this._onSliderValueChange}))},t.prototype._renderListItems=function(){var n=this,t=this._operation.getFilter(),i=this._categoriesById[this.state.category].filters;return[r.SDK.Filters.IdentityFilter].concat(i).map(function(i){var u=i.identifier;return r.ReactBEM.createElement("li",{bem:"e:item",key:u,onClick:n._onItemClick.bind(n,i)},r.ReactBEM.createElement("bem",{specifier:"$b:controls"},r.ReactBEM.createElement("div",{bem:"$e:button m:withInlineLabel"},r.ReactBEM.createElement("img",{bem:"e:icon",src:n._getAssetPath("controls/filters/"+u+".png",!0)}),r.ReactBEM.createElement("div",{bem:"$e:inlineLabel",className:i===t?"is-active":null},r.ReactBEM.createElement("div",{bem:"e:label"},i.displayName)))))})},t.prototype.renderControls=function(){var n=this,t=this._renderListItems(),i=this._categories.map(function(t){return{name:t.name,label:n._t("controls.filters.categories."+t.name),icon:n._getAssetPath("controls/filters/categories/"+t.name+".png",!0)}}),u={name:this.state.category,label:this._t("controls.filters.categories."+this.state.category),icon:this._getAssetPath("controls/filters/categories/"+this.state.category+".png",!0)};return[r.ReactBEM.createElement("div",{bem:"e:cell m:categoryDropdown"},r.ReactBEM.createElement(d.default,{items:i,selectedItem:u,onChange:this._onCategoryChange})),r.ReactBEM.createElement("div",{bem:"e:cell m:list"},r.ReactBEM.createElement(b.default,{ref:"scrollbar"},r.ReactBEM.createElement("ul",{bem:"$e:list"},t)))]},t}(p.default);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var r;Object.defineProperty(t,"__esModule",{value:!0});var f=i(0),e=u(f),o=i(2),s=u(o),h=i(1),c=u(h),l=i(11),a=u(l),v=i(186),y=u(v);r=function(n){function t(){return e.default(this,t),s.default(this,n.apply(this,arguments))}return c.default(t,n),t.onEnter=function(){var t=this.context.editor,i=t.operationExists("filter"),n=t.getOrCreateOperation("filter"),r={filter:n.getFilter(),intensity:n.getIntensity()};this.setSharedState({operation:n,operationExistedBefore:i,initialOptions:r})},t.isAvailable=function(n){return n.isToolEnabled(this.identifier)},t}(a.default);r.controlsComponent=y.default;r.identifier="filter";r.iconPath="controls/overview/filters.png";r.languageKey="controls.overview.filters";r.defaultOptions={categories:[],replaceCategories:!1,selectableFilters:null};t.default=r},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f,e;Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),s=u(o),h=i(2),c=u(h),l=i(1),a=u(l),r=i(3),v=i(10),y=u(v),p=i(16),w=u(p),b=i(193),k=u(b),d=i(190),g=u(d);f=[k.default,g.default];e=function(n){function t(){return s.default(this,t),c.default(this,n.apply(this,arguments))}return a.default(t,n),t.prototype._onButtonClick=function(n){this.context.editorScreen.switchToControls(n)},t.prototype._renderListItems=function(){var n=this;return f.filter(function(t){return t.isAvailable(n.context.editor)}).map(function(t){return r.ReactBEM.createElement("li",{bem:"e:item",key:t.identifier},r.ReactBEM.createElement("bem",{specifier:"$b:controls"},r.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",onClick:n._onButtonClick.bind(n,t)},r.ReactBEM.createElement("img",{bem:"e:icon",src:n._getAssetPath(t.iconPath,!0)}),r.ReactBEM.createElement("div",{bem:"e:label"},n._t(t.languageKey)))))})},t.prototype.renderControls=function(){var n=this._renderListItems();return r.ReactBEM.createElement("div",{bem:"e:cell m:list"},r.ReactBEM.createElement(w.default,null,r.ReactBEM.createElement("ul",{bem:"$e:list"},n)))},t}(y.default);t.default=e},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var r;Object.defineProperty(t,"__esModule",{value:!0});var f=i(0),e=u(f),o=i(2),s=u(o),h=i(1),c=u(h),l=i(11),a=u(l),v=i(188),y=u(v);r=function(n){function t(){return e.default(this,t),s.default(this,n.apply(this,arguments))}return c.default(t,n),t.isAvailable=function(n){return n.isToolEnabled("radial-focus")||n.isToolEnabled("linear-focus")},t}(a.default);r.controlsComponent=y.default;r.identifier="focus";r.iconPath="controls/overview/focus.png";r.languageKey="controls.overview.focus";r.defaultOptions={};t.default=r},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var r;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),f=i(3),a=i(11),v=u(a),y=i(192),p=u(y),w=i(191),b=u(w);r=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.onEnter=function(){var t=this.context.editor,i=t.operationExists("linear-focus"),n=t.getOrCreateOperation("linear-focus",{start:new f.Vector2(.49,.5),end:new f.Vector2(.51,.5)}),r={start:n.getStart().clone(),end:n.getEnd().clone(),size:n.getSize(),gradientSize:n.getGradientSize(),blurRadius:n.getBlurRadius()};this.setSharedState({operation:n,operationExistedBefore:i,initialOptions:r})},t.isAvailable=function(n){return n.isToolEnabled("linear-focus")},t}(v.default);r.controlsComponent=p.default;r.canvasControlsComponent=b.default;r.identifier="linear-focus";r.iconPath="controls/focus/linear.png";r.languageKey="controls.focus.linear";r.defaultOptions={};t.default=r},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var e;Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),s=u(o),h=i(2),c=u(h),l=i(1),a=u(l),r=i(3),v=i(18),f=u(v),y=i(38),p=u(y);e=function(n){function t(){var i;s.default(this,t);for(var f=arguments.length,e=Array(f),u=0;u<f;u++)e[u]=arguments[u];return i=c.default(this,n.call.apply(n,[this].concat(e))),i._bindAll("_onCenterDragStart","_onCenterDrag","_onKnobDragStart","_onKnobDrag"),i.state={areaPosition:new r.Vector2,areaDimensions:new r.Vector2,knobPosition:new r.Vector2},i._operation=i.getSharedState("operation"),i}return a.default(t,n),t.prototype._onCanvasZoomDone=function(){this._setStylesFromOptions()},t.prototype.sharedStateDidChange=function(n){n.operation&&(this._operation=n.operation);this._setStylesFromOptions()},t.prototype.componentDidMount=function(){var i=this,t;n.prototype.componentDidMount.call(this);t=this.context.editor;t.setZoom("auto",function(){t.disableFeatures("zoom","drag");i._setStylesFromOptions()})},t.prototype._onCenterDragStart=function(){this._initialStart=this._operation.getStart();this._initialEnd=this._operation.getEnd();this._initialDist=this._initialEnd.clone().subtract(this._initialStart)},t.prototype._onCenterDrag=function(n){var t=this.context.editor,u=t.getOutputDimensions(),f=n.clone().divide(u),i=this._initialStart.clone().add(f).clamp(new r.Vector2(0,0),new r.Vector2(1,1).subtract(this._initialDist)),e=i.clone().add(this._initialDist);this._operation.set({start:i,end:e});t.render();this._setStylesFromOptions();this.forceUpdate()},t.prototype._onKnobDragStart=function(){this._initialKnobPosition=this.state.knobPosition.clone()},t.prototype._onKnobDrag=function(n){var e=this.context.editor,i=e.getOutputDimensions(),o=this._initialKnobPosition.clone().add(n).clamp(new r.Vector2(0,0),i),t=o.clone().subtract(this.state.areaPosition),h=t.len()*2,u=this.state.areaPosition.clone().add(-t.y,t.x),f=this.state.areaPosition.clone().add(t.y,-t.x),s=f.clone().subtract(u).len(),c=s;u.divide(i);f.divide(i);this._operation.set({start:u,end:f,size:s,gradientSize:c});this.setState({knobPosition:o,areaDimensions:new r.Vector2(this.state.areaDimensions.x,h)});e.render()},t.prototype._getAreaStyle=function(){var t=this.state.knobPosition.clone().subtract(this.state.areaPosition),i=Math.atan2(t.x,t.y)*(180/Math.PI),n="rotate("+(-i).toFixed(2)+"deg)";return{width:this.state.areaDimensions.x,height:this.state.areaDimensions.y,left:this.state.areaPosition.x,top:this.state.areaPosition.y,marginLeft:this.state.areaDimensions.x*-.5,marginTop:this.state.areaDimensions.y*-.5,transform:n,MozTransform:n,msTransform:n,WebkitTransform:n}},t.prototype._getKnobStyle=function(){return{left:this.state.knobPosition.x,top:this.state.knobPosition.y}},t.prototype._setStylesFromOptions=function(){var o=this.context.editor,n=o.getOutputDimensions(),u=this._operation.getStart().clone().multiply(n),s=this._operation.getEnd().clone().multiply(n),t=this._operation.getSize(),i=s.clone().subtract(u),f=u.clone().add(i.clone().divide(2)),h=new r.Vector2(n.len()*2,t),c=i.len(),e=i.clone().divide(c).divide(2);this.setState({areaDimensions:h,areaPosition:f.clone(),knobPosition:f.clone().add(-t*e.y,t*e.x)})},t.prototype._getContainerStyle=function(){var n=this.context.editor.getSDK().getSprite().getBounds(),t=n.x,i=n.y,r=n.width,u=n.height;return{left:t,top:i,width:r,height:u}},t.prototype.renderWithBEM=function(){return r.ReactBEM.createElement("div",{bem:"b:canvasControls e:container m:full",ref:"container",style:this._getContainerStyle()},r.ReactBEM.createElement("div",{bem:"$b:linearFocusCanvasControls"},r.ReactBEM.createElement(f.default,{onStart:this._onCenterDragStart,onDrag:this._onCenterDrag},r.ReactBEM.createElement("div",{bem:"e:area",style:this._getAreaStyle()})),r.ReactBEM.createElement(f.default,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},r.ReactBEM.createElement("div",{bem:"e:knob $b:knob",style:this._getKnobStyle()}))))},t}(p.default);t.default=e},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(14),o=r(e),s=i(0),h=r(s),c=i(2),l=r(c),a=i(1),v=r(a),u=i(3),y=i(10),p=r(y),w=i(40),b=r(w);f=function(n){function t(){var i;h.default(this,t);for(var f=arguments.length,e=Array(f),r=0;r<f;r++)e[r]=arguments[r];return i=l.default(this,n.call.apply(n,[this].concat(e))),i._hasDoneButton=!0,i._operation=i.getSharedState("operation"),i._bindAll("_onBackClick","_onDoneClick","_onSliderValueChange","_onOperationRemoved"),i._events=o.default({},u.Constants.EVENTS.OPERATION_REMOVED,i._onOperationRemoved),i}return v.default(t,n),t.prototype._onOperationRemoved=function(n){if(n===this._operation&&!this._backButtonClicked){var i=this.context.editor,t=i.getOrCreateOperation("linear-focus");this._operation=t;this.setSharedState({operation:t,operationExistedBefore:!1,initialOptions:{}})}},t.prototype._onBackClick=function(t){this._backButtonClicked=!0;var i=this.context.editor;this.getSharedState("operationExistedBefore")?this._operation.set(this.getSharedState("initialOptions")):i.removeOperation(this._operation);i.undoZoom();i.enableFeatures("zoom","drag");n.prototype._onBackClick.call(this,t)},t.prototype._onDoneClick=function(t){var i=this.context.editor,r=this.getSharedState("operationExistedBefore"),u=this.getSharedState("initialOptions"),f=!this._operation.optionsEqual(u);(f||!r)&&i.addHistory(this._operation,this.getSharedState("initialOptions"),this.getSharedState("operationExistedBefore"));i.undoZoom();i.enableFeatures("zoom","drag");n.prototype._onDoneClick.call(this,t)},t.prototype._onSliderValueChange=function(n){this._operation.setBlurRadius(n);var t=this.context.editor;t.render()},t.prototype.renderControls=function(){return u.ReactBEM.createElement("div",{bem:"e:cell m:slider"},u.ReactBEM.createElement(b.default,{style:"large",minValue:0,maxValue:40,valueUnit:"px",middleDot:!1,label:this._t("controls.focus.blurRadius"),onChange:this._onSliderValueChange,value:this._operation.getBlurRadius()}))},t}(p.default);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var r;Object.defineProperty(t,"__esModule",{value:!0});var f=i(0),e=u(f),o=i(2),s=u(o),h=i(1),c=u(h),l=i(11),a=u(l),v=i(195),y=u(v),p=i(194),w=u(p);r=function(n){function t(){return e.default(this,t),s.default(this,n.apply(this,arguments))}return c.default(t,n),t.onEnter=function(){var t=this.context.editor,i=t.operationExists("radial-focus"),n=t.getOrCreateOperation("radial-focus"),r={position:n.getPosition().clone(),gradientRadius:n.getGradientRadius(),blurRadius:n.getBlurRadius()};this.setSharedState({operation:n,operationExistedBefore:i,initialOptions:r})},t.isAvailable=function(n){return n.isToolEnabled("radial-focus")},t}(a.default);r.controlsComponent=y.default;r.canvasControlsComponent=w.default;r.identifier="radial-focus";r.iconPath="controls/focus/radial.png";r.languageKey="controls.focus.radial";r.defaultOptions={};t.default=r},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var e;Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),s=u(o),h=i(2),c=u(h),l=i(1),a=u(l),r=i(3),v=i(18),f=u(v),y=i(38),p=u(y);e=function(n){function t(){var i;s.default(this,t);for(var f=arguments.length,e=Array(f),u=0;u<f;u++)e[u]=arguments[u];return i=c.default(this,n.call.apply(n,[this].concat(e))),i._bindAll("_onCenterDragStart","_onCenterDrag","_onKnobDragStart","_onKnobDrag"),i.state={areaPosition:new r.Vector2,areaDimensions:new r.Vector2,knobPosition:new r.Vector2},i._knobChangedManually=!1,i._operation=i.getSharedState("operation"),i}return a.default(t,n),t.prototype._onCanvasZoomDone=function(){this._setStylesFromOptions()},t.prototype.sharedStateDidChange=function(n){n.operation&&(this._operation=n.operation);this._setStylesFromOptions()},t.prototype.componentDidMount=function(){var i=this,t;n.prototype.componentDidMount.call(this);t=this.context.editor;t.setZoom("auto",function(){t.disableFeatures("zoom","drag");i._setStylesFromOptions()})},t.prototype._onCenterDragStart=function(){this._initialPosition=this._operation.getPosition();this._initialKnobPosition=this.state.knobPosition.clone()},t.prototype._onCenterDrag=function(n){var t=this.context.editor,i=n.clone().divide(t.getOutputDimensions()),r=this._initialPosition.clone().add(i),u=this._initialKnobPosition.clone().add(n);this._operation.set({position:r});this.state.knobPosition=u;t.render();this._setStylesFromOptions()},t.prototype._onKnobDragStart=function(){this._knobChangedManually=!0;this._initialKnobPosition=this.state.knobPosition.clone()},t.prototype._onKnobDrag=function(n){var i=this.context.editor,u=i.getZoom(),f=i.getOutputDimensions(),e=this._initialKnobPosition.clone().add(n).clamp(new r.Vector2(0,0),f),o=this._operation.getPosition().clone().multiply(f),t=e.clone().subtract(o).abs().len(),s=t/2;this.setState({knobPosition:e,areaDimensions:new r.Vector2(t*2,t*2)});this._operation.set({radius:t/u,gradientRadius:s/u});i.render()},t.prototype._getAreaStyle=function(){return{width:this.state.areaDimensions.x,height:this.state.areaDimensions.y,left:this.state.areaPosition.x,top:this.state.areaPosition.y,marginLeft:this.state.areaDimensions.x*-.5,marginTop:this.state.areaDimensions.y*-.5}},t.prototype._getKnobStyle=function(){return{left:this.state.knobPosition.x,top:this.state.knobPosition.y}},t.prototype._setStylesFromOptions=function(){var f=this.context.editor,n=f.getZoom(),e=this.context.editor.getOutputDimensions(),i=this._operation.getPosition().clone().multiply(e),t=this._operation.getRadius(),o=new r.Vector2(t*2*n,t*2*n),u={areaDimensions:o,areaPosition:i};this._knobChangedManually||(u.knobPosition=i.clone().add(t*n,0));this.setState(u)},t.prototype._getContainerStyle=function(){var t=this.context.editor,n=t.getSDK().getSprite().getBounds(),i=n.x,r=n.y,u=n.width,f=n.height;return{left:i,top:r,width:u,height:f}},t.prototype.renderWithBEM=function(){return r.ReactBEM.createElement("div",{bem:"b:canvasControls e:container m:full",ref:"container",style:this._getContainerStyle()},r.ReactBEM.createElement("div",{bem:"$b:radialFocusCanvasControls"},r.ReactBEM.createElement(f.default,{onStart:this._onCenterDragStart,onDrag:this._onCenterDrag},r.ReactBEM.createElement("div",{bem:"e:area",style:this._getAreaStyle()})),r.ReactBEM.createElement(f.default,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},r.ReactBEM.createElement("div",{bem:"e:knob $b:knob",style:this._getKnobStyle()}))))},t}(p.default);t.default=e},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(14),o=r(e),s=i(0),h=r(s),c=i(2),l=r(c),a=i(1),v=r(a),u=i(3),y=i(10),p=r(y),w=i(40),b=r(w);f=function(n){function t(){var i;h.default(this,t);for(var f=arguments.length,e=Array(f),r=0;r<f;r++)e[r]=arguments[r];return i=l.default(this,n.call.apply(n,[this].concat(e))),i._hasDoneButton=!0,i._operation=i.getSharedState("operation"),i._bindAll("_onBackClick","_onDoneClick","_onSliderValueChange","_onOperationRemoved"),i._events=o.default({},u.Constants.EVENTS.OPERATION_REMOVED,i._onOperationRemoved),i}return v.default(t,n),t.prototype._onOperationRemoved=function(n){if(n===this._operation&&!this._backButtonClicked){var i=this.context.editor,t=i.getOrCreateOperation("radial-focus");this._operation=t;this.setSharedState({operation:t,operationExistedBefore:!1,initialOptions:{}})}},t.prototype._onBackClick=function(t){this._backButtonClicked=!0;var i=this.context.editor;this.getSharedState("operationExistedBefore")?this._operation.set(this.getSharedState("initialOptions")):i.removeOperation(this._operation);i.render();i.undoZoom();i.enableFeatures("zoom","drag");n.prototype._onBackClick.call(this,t)},t.prototype._onDoneClick=function(t){var i=this.context.editor,r=this.getSharedState("operationExistedBefore"),u=this.getSharedState("initialOptions"),f=!this._operation.optionsEqual(u);(f||!r)&&i.addHistory(this._operation,this.getSharedState("initialOptions"),this.getSharedState("operationExistedBefore"));i.undoZoom();i.enableFeatures("zoom","drag");n.prototype._onDoneClick.call(this,t)},t.prototype._onSliderValueChange=function(n){this._operation.setBlurRadius(n);var t=this.context.editor;t.render()},t.prototype.renderControls=function(){return u.ReactBEM.createElement("div",{bem:"e:cell m:slider"},u.ReactBEM.createElement(b.default,{style:"large",minValue:0,maxValue:40,valueUnit:"px",middleDot:!1,label:this._t("controls.focus.blurRadius"),onChange:this._onSliderValueChange,value:this._operation.getBlurRadius()}))},t}(p.default);t.default=f},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var u,f,e,o,s,h,c,l,a;Object.defineProperty(t,"__esModule",{value:!0});u=i(176);Object.defineProperty(t,"adjustments",{enumerable:!0,get:function(){return r(u).default}});f=i(185);Object.defineProperty(t,"crop",{enumerable:!0,get:function(){return r(f).default}});e=i(187);Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return r(e).default}});o=i(189);Object.defineProperty(t,"focus",{enumerable:!0,get:function(){return r(o).default}});s=i(178);Object.defineProperty(t,"border",{enumerable:!0,get:function(){return r(s).default}});h=i(198);Object.defineProperty(t,"orientation",{enumerable:!0,get:function(){return r(h).default}});c=i(210);Object.defineProperty(t,"sticker",{enumerable:!0,get:function(){return r(c).default}});l=i(213);Object.defineProperty(t,"text",{enumerable:!0,get:function(){return r(l).default}});a=i(181);Object.defineProperty(t,"brush",{enumerable:!0,get:function(){return r(a).default}})},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(41),o=u(e),s=i(0),h=u(s),c=i(2),l=u(c),a=i(1),v=u(a),r=i(3);f=function(n){function t(){var r;h.default(this,t);for(var u=arguments.length,f=Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=l.default(this,n.call.apply(n,[this].concat(f))),r.state={value:r.props.value||0,sliderPosition:0,foregroundLeft:0,foregroundWidth:0},r}return v.default(t,n),t.prototype.componentDidMount=function(){this._setValue(this.state.value,!1)},t.prototype.componentWillReceiveProps=function(n){n.value!==this.state.value&&this._setValue(n.value,!1)},t.prototype._getKnobStyle=function(){return{left:this.state.sliderPosition}},t.prototype._getForegroundStyle=function(){return{left:this.state.foregroundLeft,width:this.state.foregroundWidth}},t.prototype._displayMiddleDot=function(){return this.props.middleDot!==!1},t.prototype._setValue=function(n){var c=arguments.length<=1||arguments[1]===undefined?!0:arguments[1];n=Math.round(n);var u=this.props,f=u.minValue,o=u.maxValue,t=(n-f)/(o-f),s=this.refs.bar,i=s.offsetWidth,h=i*t,r=t*i,e=0;this._displayMiddleDot()&&(r=Math.abs(t-.5)*i,e=t<.5?i*.5-r:"50%");this.setState({value:n,sliderPosition:h,foregroundWidth:r,foregroundLeft:e})},t.prototype.renderWithBEM=function(){var n={style:this._getForegroundStyle()};return r.ReactBEM.createElement("div",{bem:"$b:miniSlider"},r.ReactBEM.createElement("div",{bem:"$e:bar",ref:"bar"},r.ReactBEM.createElement("div",{bem:"$e:background"}),r.ReactBEM.createElement("div",o.default({bem:"$e:foreground"},n)),r.ReactBEM.createElement("div",{bem:"e:knob",style:this._getKnobStyle()})))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var r;Object.defineProperty(t,"__esModule",{value:!0});var f=i(0),e=u(f),o=i(2),s=u(o),h=i(1),c=u(h),l=i(11),a=u(l),v=i(199),y=u(v);r=function(n){function t(){return e.default(this,t),s.default(this,n.apply(this,arguments))}return c.default(t,n),t.onEnter=function(){var n=this.context.editor,i=n.operationExists("orientation"),t=n.getOrCreateOperation("orientation"),r=t.serializeOptions();this.setSharedState({operation:t,operationExistedBefore:i,initialOptions:r})},t.isAvailable=function(n){return n.isToolEnabled("rotation")||n.isToolEnabled("flip")},t}(a.default);r.controlsComponent=y.default;r.identifier="orientation";r.iconPath="controls/overview/orientation.png";r.languageKey="controls.overview.orientation";r.defaultOptions={};t.default=r},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var e;Object.defineProperty(t,"__esModule",{value:!0});var o=i(14),f=u(o),s=i(0),h=u(s),c=i(2),l=u(c),a=i(1),v=u(a),r=i(3),y=i(10),p=u(y),w=i(16),b=u(w);e=function(n){function t(){var u,i;h.default(this,t);for(var o=arguments.length,s=Array(o),e=0;e<o;e++)s[e]=arguments[e];return i=l.default(this,n.call.apply(n,[this].concat(s))),i._bindAll("_onRotateClick","_onFlipClick","_onOperationUpdated","_onOperationRemoved"),i._operation=i.getSharedState("operation"),i._operationExistedBefore=i.getSharedState("operationExistedBefore"),i._events=(u={},f.default(u,r.Constants.EVENTS.OPERATION_UPDATED,i._onOperationUpdated),f.default(u,r.Constants.EVENTS.OPERATION_REMOVED,i._onOperationRemoved),u),i}return v.default(t,n),t.prototype._onBackClick=function(t){var i,r;this._backButtonClicked=!0;i=this.getSharedState("initialOptions");this._operation.optionsEqual(i)&&(r=this.context.editor,r.removeOperation(this._operation));n.prototype._onBackClick.call(this,t)},t.prototype._onOperationUpdated=function(n){n===this._operation&&this.forceUpdate()},t.prototype._onOperationRemoved=function(n){if(n===this._operation&&!this._backButtonClicked){var i=this.context.editor,t=i.getOrCreateOperation("orientation");this._operation=t;this._historyItem=null;this.setSharedState({operation:t,operationExistedBefore:!1,initialOptions:this._operation.serializeOptions()})}},t.prototype._onRotateClick=function(n){var u=this._operation.serializeOptions(),f=this._operation.getRotation(),e=90*(n==="left"?-1:1),o=(f+e)%360,i,r,t;this._operation.setRotation(o);i=this._operation.getFlipVertically();r=this._operation.getFlipHorizontally();i!==r&&this._operation.set({flipVertically:!r,flipHorizontally:!i});t=this.context.editor;t.addHistory(this._operation,u,this._operationExistedBefore);this._operationExistedBefore=!0;t.fixOffset();t.render()},t.prototype._onFlipClick=function(n){var f=this._operation.serializeOptions(),i=this._operation.getRotation(),r,u,t;(i===90||i===270)&&(n=n==="vertical"?"horizontal":"vertical");switch(n){case"horizontal":r=this._operation.getFlipHorizontally();this._operation.setFlipHorizontally(!r);break;case"vertical":u=this._operation.getFlipVertically();this._operation.setFlipVertically(!u)}t=this.context.editor;t.addHistory(this._operation,f,this._operationExistedBefore);t.render()},t.prototype._getListItems=function(){var t=this.context.editor,i=t.isToolEnabled("rotation"),r=t.isToolEnabled("flip"),n=[];return i&&(n=n.concat([{identifier:"rotate-l",onClick:this._onRotateClick.bind(this,"left")},{identifier:"rotate-r",onClick:this._onRotateClick.bind(this,"right")}])),(i||r)&&n.push(null),r&&(n=n.concat([{identifier:"flip-h",onClick:this._onFlipClick.bind(this,"horizontal")},{identifier:"flip-v",onClick:this._onFlipClick.bind(this,"vertical")}])),n},t.prototype._renderListItems=function(){var n=this,t=this._getListItems();return t.map(function(t){return t===null?r.ReactBEM.createElement("li",{bem:"e:item m:gap",key:"gap"}):r.ReactBEM.createElement("li",{bem:"e:item",key:t.identifier},r.ReactBEM.createElement("bem",{specifier:"$b:controls"},r.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",onClick:t.onClick},r.ReactBEM.createElement("img",{bem:"e:icon",src:n._getAssetPath("controls/orientation/"+t.identifier+".png",!0)}),r.ReactBEM.createElement("div",{bem:"e:label"},n._t("controls.orientation."+t.identifier)))))})},t.prototype.renderControls=function(){var n=this._renderListItems();return r.ReactBEM.createElement("div",{bem:"e:cell m:list"},r.ReactBEM.createElement(b.default,null,r.ReactBEM.createElement("ul",{bem:"$e:list"},n)))},t}(p.default);t.default=e},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var u;Object.defineProperty(t,"__esModule",{value:!0});var f=i(0),e=r(f),o=i(2),s=r(o),h=i(1),c=r(h),l=i(11),a=r(l),v=i(202),y=r(v),p=i(109),w=r(p),b=i(201),k=r(b);u=function(n){function t(){return e.default(this,t),s.default(this,n.apply(this,arguments))}return c.default(t,n),t}(a.default);u.topBarControlsComponent=y.default;u.controlsComponent=w.default;u.canvasControlsComponent=k.default;t.default=u},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=r(e),s=i(2),h=r(s),c=i(1),l=r(c),u=i(3),a=i(38),v=r(a);f=function(n){function t(){var r;o.default(this,t);for(var u=arguments.length,f=Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=h.default(this,n.call.apply(n,[this].concat(f))),r._bindAll("_onClick"),r}return l.default(t,n),t.prototype._onClick=function(n){this._performHitTest(u.Utils.getEventPosition(n))},t.prototype._getContainerStyle=function(){if(!this.context.editor.isReady())return{left:0,top:0,width:1,height:1};var n=this.context.editor.getSDK().getSprite().getBounds(),t=n.x,i=n.y,r=n.width,u=n.height;return{left:t,top:i,width:r,height:u}},t.prototype.renderWithBEM=function(){return u.ReactBEM.createElement("div",{bem:"$b:canvasControls e:container m:full",ref:"container"},u.ReactBEM.createElement("div",{bem:"$b:canvasControls e:innerContainer",ref:"innerContainer",style:this._getContainerStyle(),onMouseDown:this._onClick,onTouchStart:this._onClick}))},t}(v.default);t.default=f},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=r(e),s=i(2),h=r(s),c=i(1),l=r(c),u=i(3),a=i(71),v=r(a),y=i(204),p=r(y),w=i(203),b=r(w),k=i(205),d=r(k),g=i(206),nt=r(g);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype.renderContent=function(){var t=null,n;return this.context.options.enableUpload&&(t=u.ReactBEM.createElement(p.default,{app:this.props.app})),n=null,this.context.options.enableZoom&&(n=u.ReactBEM.createElement(nt.default,null)),u.ReactBEM.createElement("bem",{specifier:"$b:subHeader"},u.ReactBEM.createElement("div",{bem:"e:left"},t),u.ReactBEM.createElement("div",{bem:"e:right"},u.ReactBEM.createElement(d.default,null),u.ReactBEM.createElement(b.default,null)),n)},t}(v.default);t.default=f},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=r(e),s=i(2),h=r(s),c=i(1),l=r(c),u=i(3),a=i(17),v=r(a),y=i(70),p=r(y);f=function(n){function t(){var r;o.default(this,t);for(var u=arguments.length,f=Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=h.default(this,n.call.apply(n,[this].concat(f))),r._bindAll("_onButtonClick"),r}return l.default(t,n),t.prototype._onButtonClick=function(){var t=this,n=this.context,i=n.options,r=n.editor,u=n.editorScreen,f=i.export;u.switchToControls("home",null,function(){var n=v.default.instance.displayLoading(t._t("loading.exporting"));setTimeout(function(){r.export(f.download).then(function(){n.close()})},100)})},t.prototype.renderWithBEM=function(){var n=this.context.options;return n.export.showButton?u.ReactBEM.createElement(p.default,{style:"blue",label:n.export.label||this._t("editor.export"),icon:"editor/export.png",onClick:this._onButtonClick}):null},t}(u.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3),a=i(70),v=u(a),y=i(69),p=u(y);f=function(n){function t(){var r;o.default(this,t);for(var u=arguments.length,f=Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=h.default(this,n.call.apply(n,[this].concat(f))),r._bindAll("_onNewFile","_onButtonClick"),r}return l.default(t,n),t.prototype._onNewFile=function(n){var t=this.context.editor;t.reset();t.setImage(n);t.setZoom("auto")},t.prototype._onButtonClick=function(){var n=this.context.options;n.enableWebcam===!1||r.Utils.isMobile()?this.refs.upload.open():n.photoRollProvider?this.props.app.switchToScreen("photoRoll"):this.props.app.switchToScreen("splash")},t.prototype.renderWithBEM=function(){var t=this.context.options,n=null;return n=t.photoRollProvider?this._t("editor.photo-roll"):this._t("editor.new"),r.ReactBEM.createElement("div",null,r.ReactBEM.createElement(p.default,{onNewFile:this._onNewFile,ref:"upload"}),r.ReactBEM.createElement(v.default,{label:n,icon:"editor/new.png",onClick:this._onButtonClick}))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var e;Object.defineProperty(t,"__esModule",{value:!0});var o=i(14),f=r(o),s=i(0),h=r(s),c=i(2),l=r(c),a=i(1),v=r(a),u=i(3),y=i(70),p=r(y);e=function(n){function t(){var r,i;h.default(this,t);for(var o=arguments.length,s=Array(o),e=0;e<o;e++)s[e]=arguments[e];return i=l.default(this,n.call.apply(n,[this].concat(s))),i._bindAll("_onButtonClick","_onHistoryUpdated","_onFeaturesUpdated"),i._events=(r={},f.default(r,u.Constants.EVENTS.HISTORY_UPDATED,i._onHistoryUpdated),f.default(r,u.Constants.EVENTS.FEATURES_UPDATED,i._onFeaturesUpdated),r),i}return v.default(t,n),t.prototype._onFeaturesUpdated=function(){this.forceUpdate()},t.prototype._onHistoryUpdated=function(){this.forceUpdate()},t.prototype._onButtonClick=function(){var n=this.context.editor;n.undo()},t.prototype.renderWithBEM=function(){var n=this.context.editor;return n.historyAvailable()?u.ReactBEM.createElement(p.default,{label:this._t("editor.undo"),icon:"editor/undo.png",onClick:this._onButtonClick}):null},t}(u.BaseComponent);t.default=e},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var e;Object.defineProperty(t,"__esModule",{value:!0});var o=i(14),f=u(o),s=i(0),h=u(s),c=i(2),l=u(c),a=i(1),v=u(a),r=i(3);e=function(n){function t(){var u,i;h.default(this,t);for(var o=arguments.length,s=Array(o),e=0;e<o;e++)s[e]=arguments[e];return i=l.default(this,n.call.apply(n,[this].concat(s))),i._bindAll("_onZoomOutClick","_onZoomInClick","_onZoomDone","_onFeaturesUpdated"),i._events=(u={},f.default(u,r.Constants.EVENTS.ZOOM_DONE,i._onZoomDone),f.default(u,r.Constants.EVENTS.FEATURES_UPDATED,i._onFeaturesUpdated),u),i}return v.default(t,n),t.prototype._onFeaturesUpdated=function(){this.forceUpdate()},t.prototype._onZoomDone=function(){this.forceUpdate()},t.prototype._onZoomOutClick=function(){var n=this.context.editor;n.isFeatureEnabled("zoom")&&n.zoomOut()},t.prototype._onZoomInClick=function(){var n=this.context.editor;n.isFeatureEnabled("zoom")&&n.zoomIn()},t.prototype.renderWithBEM=function(){var n=this.context.editor,i=n.getZoom(),t=n.isFeatureEnabled("zoom");return r.ReactBEM.createElement("div",{bem:"$b:editorScreen $e:zoom"},r.ReactBEM.createElement("div",{bem:"$e:button m:zoomOut",onClick:this._onZoomOutClick,className:t?null:"is-disabled"},r.ReactBEM.createElement("img",{bem:"e:image",src:this._getAssetPath("controls/minus.png",!0)})),r.ReactBEM.createElement("div",{bem:"e:label"},"Zoom",r.ReactBEM.createElement("br",null),Math.round(i*100),"%"),r.ReactBEM.createElement("div",{bem:"$e:button m:zoomIn",onClick:this._onZoomInClick,className:t?null:"is-disabled"},r.ReactBEM.createElement("img",{bem:"e:image",src:this._getAssetPath("controls/plus.png",!0)})))},t}(r.BaseComponent);t.default=e},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=r(e),s=i(2),h=r(s),c=i(1),l=r(c),u=i(3),a=i(66),v=r(a);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);var t=this.props.sprite.getCanvas();this.refs.brush.appendChild(t)},t.prototype.componentWillReceiveProps=function(n){var t,i;n.sprite!==this.props.sprite&&(t=this.props.sprite.getCanvas(),t.parentNode.removeChild(t),i=n.sprite.getCanvas(),this.refs.brush.appendChild(i))},t.prototype._isSelected=function(){return this.getSharedState("brush")===this.props.sprite},t.prototype.renderWithBEM=function(){var n=this._isSelected()?"is-selected":null;return u.ReactBEM.createElement("bem",{specifier:"b:spritesCanvasControls"},u.ReactBEM.createElement("div",{bem:"$e:item e:container m:full",ref:"container"},u.ReactBEM.createElement("div",{bem:"$e:brush",className:n,ref:"brush"})))},t}(v.default);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var e;Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),s=u(o),h=i(2),c=u(h),l=i(1),a=u(l),r=i(3),v=i(18),f=u(v),y=i(66),p=u(y);e=function(n){function t(){var u;s.default(this,t);for(var f=arguments.length,e=Array(f),i=0;i<f;i++)e[i]=arguments[i];return u=c.default(this,n.call.apply(n,[this].concat(e))),u._id=r.SDKUtils.getUUID(),u}return a.default(t,n),t.prototype._onKnobDragStart=function(n){var t=this.props.sprite;switch(n){case"bottom":this._initialPosition=this._getBottomDragKnobPosition();break;case"top":this._initialPosition=this._getTopDragKnobPosition()}this._initialScale=t.getScale().clone();this.props.onDragStart&&this.props.onDragStart()},t.prototype._onKnobDrag=function(n,t){var o=this.props.sprite,f=this._getAbsoluteSpritePosition(),s=this._initialPosition.clone().add(t),r=this._getStickerDimensions().divide(2),i=s.clone().subtract(f),h=this._initialPosition.clone().subtract(f),u=void 0,e;switch(n){case"bottom":u=Math.atan2(i.y,i.x)-Math.atan2(r.y,r.x);break;case"top":u=Math.atan2(i.y,i.x)-Math.atan2(-r.y,-r.x)}e=this._initialScale.clone().multiply(i.len()/h.len());o.set({scale:e,rotation:u})},t.prototype._onKnobDragStop=function(){this.props.onDragStop&&this.props.onDragStop()},t.prototype._getBottomDragKnobStyle=function(){var n=this._getBottomDragKnobPosition();return{left:n.x,top:n.y}},t.prototype._getTopDragKnobStyle=function(){var n=this._getTopDragKnobPosition();return{left:n.x,top:n.y}},t.prototype._getStickerStyle=function(){var t=this.props.sprite,i=this._getStickerDimensions(),r=this._getAbsoluteSpritePosition().subtract(i.clone().divide(2)),u=t.getRotation()*180/Math.PI,n="rotate("+u.toFixed(2)+"deg)";return t.getFlipVertically()&&(n+=" rotateX(180deg)"),t.getFlipHorizontally()&&(n+=" rotateY(180deg)"),{top:r.y,left:r.x,width:i.x,height:i.y,WebkitTransform:n,msTransform:n,MozTransform:n,OTransform:n}},t.prototype._getStickerDimensions=function(){var n=this.props.sprite,i=this.context.editor,t=n.getImage();return new r.Vector2(t.width,t.height).multiply(n.getScale()).multiply(i.getZoom()).abs()},t.prototype._getBottomDragKnobPosition=function(){var u=this.props.sprite,f=this._getAbsoluteSpritePosition(),t=u.getRotation(),i=Math.sin(t||0),r=Math.cos(t||0),n=this._getStickerDimensions().divide(2);return f.clone().add(n.x*r-n.y*i,n.x*i+n.y*r)},t.prototype._getTopDragKnobPosition=function(){var t=this.props.sprite,f=this._getAbsoluteSpritePosition(),i=t.getRotation(),r=Math.sin(i||0),u=Math.cos(i||0),n=this._getStickerDimensions(t).divide(2);return f.clone().subtract(n.x*u-n.y*r,n.x*r+n.y*u)},t.prototype._renderKnobs=function(){var n=[];return this.props.selected&&(n=[r.ReactBEM.createElement(f.default,{onStart:this._onKnobDragStart.bind(this,"bottom"),onStop:this._onKnobDragStop.bind(this,"bottom"),onDrag:this._onKnobDrag.bind(this,"bottom")},r.ReactBEM.createElement("div",{bem:"e:knob $b:knob",style:this._getBottomDragKnobStyle()},r.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/knobs/resize-diagonal-down.png",!0)}))),r.ReactBEM.createElement(f.default,{onStart:this._onKnobDragStart.bind(this,"top"),onStop:this._onKnobDragStop.bind(this,"top"),onDrag:this._onKnobDrag.bind(this,"top")},r.ReactBEM.createElement("div",{bem:"e:knob $b:knob",style:this._getTopDragKnobStyle()},r.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/knobs/resize-diagonal-down.png",!0)})))]),n},t.prototype._renderSVGFilter=function(){var u=this.props.sprite,t=u.getAdjustments(),i=t.getBrightness(),f=t.getSaturation(),n=t.getContrast(),e="<filter id='pesdk-sticker-"+this._id+"-filter'>\n        <feComponentTransfer>\n          <feFuncR type='linear' intercept='"+i+"' />\n          <feFuncG type='linear' intercept='"+i+"' />\n          <feFuncB type='linear' intercept='"+i+"' />\n        <\/feComponentTransfer>\n        <feColorMatrix type='saturate' values='"+f+"' />\n        <feComponentTransfer>\n          <feFuncR type='linear' slope='"+n+"' intercept='"+(-(.5*n)+.5)+"' />\n          <feFuncG type='linear' slope='"+n+"' intercept='"+(-(.5*n)+.5)+"' />\n          <feFuncB type='linear' slope='"+n+"' intercept='"+(-(.5*n)+.5)+"' />\n        <\/feComponentTransfer>\n      <\/filter>";return r.ReactBEM.createElement("svg",{width:"0",height:"0","color-interpolation-filters":"sRGB",is:"svg"},r.ReactBEM.createElement("defs",{key:Math.random(),dangerouslySetInnerHTML:{__html:e}}))},t.prototype._renderItem=function(){var t=this.props.sprite,n=this._getStickerStyle(),i=this.props.selected?"is-selected":null,u={filter:'url("#pesdk-sticker-'+this._id+'-filter")'};return r.ReactBEM.createElement(f.default,{onStart:this._onItemDragStart,onStop:this._onItemDragStop,onDrag:this._onItemDrag,disabled:!this.props.selected},r.ReactBEM.createElement("div",{bem:"$e:sticker",style:n,className:i},r.ReactBEM.createElement("svg",{width:n.width,height:n.height,"color-interpolation-filters":"sRGB",is:"svg"},r.ReactBEM.createElement("image",{xlinkHref:t.getImage().src,width:n.width,height:n.height,style:u}))))},t.prototype.renderWithBEM=function(){return r.ReactBEM.createElement("bem",{specifier:"b:spritesCanvasControls"},r.ReactBEM.createElement("div",{bem:"$e:item e:container"},this._renderSVGFilter(),this._renderItem(),this._renderKnobs()))},t}(p.default);t.default=e},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var e;Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),s=u(o),h=i(2),c=u(h),l=i(1),a=u(l),r=i(3),v=i(18),f=u(v),y=i(66),p=u(y);e=function(n){function t(){var r;s.default(this,t);for(var u=arguments.length,f=Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=c.default(this,n.call.apply(n,[this].concat(f))),r._bindAll("_onTextChange","_onItemDoubleClick","_onItemTouchStart","_onItemTouchEnd","_onResizeKnobDragStart","_onResizeKnobDrag","_onResizeKnobDragStop","_onRotationKnobDragStart","_onRotationKnobDrag","_onRotationKnobDragStop"),r.state={editMode:!1},r}return a.default(t,n),t.prototype._onTextChange=function(n){var t=this.props.sprite;t.setText(n.target.value)},t.prototype._onItemDoubleClick=function(){var t=this,n=this.props.sprite;n._edited||(n.setText(""),this.refs.textarea.value="",n._edited=!0,this.forceUpdate());this.setState({editMode:!0},function(){t.refs.textarea.focus();t.refs.textarea.select()})},t.prototype._onItemTouchStart=function(n){this._initialTouchPosition=r.Utils.getEventPosition(n);this._tapStartAt=r.now()},t.prototype._onItemTouchEnd=function(){r.now()-this._tapStartAt<=100&&(typeof this._lastTapAt!="undefined"&&r.now()-this._lastTapAt<=300&&this._onItemDoubleClick(),this._lastTapAt=r.now())},t.prototype._onRotationKnobDragStart=function(){this._dragging=!0;this._initialPosition=this._getRotationKnobPosition();this.props.onDragStart&&this.props.onDragStart()},t.prototype._onRotationKnobDrag=function(n){var t=this.props.sprite,u=this.context.editor,f=this._getAbsoluteSpritePosition(),e=this._initialPosition.clone().add(n),i=e.clone().subtract(f),r=t.getBoundingBox(u.getSDK(),!0),o=Math.atan2(i.y,i.x)-Math.atan2(r.y,r.x/2);t.setRotation(o)},t.prototype._onRotationKnobDragStop=function(){this.props.onDragStop&&this.props.onDragStop()},t.prototype._onResizeKnobDragStart=function(){this._initialPosition=this._getResizeKnobPosition();this.props.onDragStart&&this.props.onDragStart()},t.prototype._onResizeKnobDrag=function(n){var t=this.props.sprite,i=t.getRotation(),u=this.context.editor,f=u.getZoom(),e=Math.cos(i),o=Math.sin(i),s=this._initialPosition.clone().add(n),h=this._getAbsoluteSpritePosition(),r=s.clone().subtract(h),c=Math.max((r.x*e+r.y*o)/f*2,100);t.setMaxWidth(c)},t.prototype._onResizeKnobDragStop=function(){this.props.onDragStop&&this.props.onDragStop()},t.prototype._getRotationKnobStyle=function(){var n=this._getRotationKnobPosition();return{left:n.x,top:n.y}},t.prototype._getResizeKnobStyle=function(){var n=this._getResizeKnobPosition();return{left:n.x,top:n.y}},t.prototype._getRemoveKnobStyle=function(){var n=this.props.sprite,t=this.context.editor,u=Math.sin(n.getRotation()),f=Math.cos(n.getRotation()),e=n.getBoundingBox(t.getSDK(),!0),i=e.clone().divide(2),r=n.getPosition().clone().multiply(t.getZoom()).add(-i.x*f,-i.x*u);return{left:r.x,top:r.y}},t.prototype._getTextStyle=function(){var n=this.context.editor,t=this.props.sprite,u=n.getSDK(),i=n.getOutputDimensions(),r=t.getDOMStyle(u,i),f=this._getAbsoluteSpritePosition(),e=t.getBoundingBox(n.getSDK(),!0);return r.height=Math.min(e.y,i.y-f.y),r},t.prototype._getItemContainerStyle=function(){var e=this.context.editor,r=e.getZoom(),i=this.props.sprite,u=i.getPosition().clone().multiply(r),o=i.getRotation()*180/Math.PI,n="rotateZ("+o.toFixed(2)+"deg)",t="50% 0",f=i.getMaxWidth()*r;return{width:f,left:u.x,top:u.y,marginLeft:f*-.5,transform:n,MozTransform:n,msTransform:n,WebkitTransform:n,transformOrigin:t,MozTransformOrigin:t,msTransformOrigin:t,WebkitTransformOrigin:t}},t.prototype._getRotationKnobPosition=function(){var n=this.props.sprite,i=this.context.editor,e=i.getZoom(),r=Math.sin(n.getRotation()),u=Math.cos(n.getRotation()),t=n.getBoundingBox(i.getSDK(),!0),f=t.clone().divide(2);return n.getPosition().clone().multiply(e).add(f.x*u-t.y*r,f.x*r+t.y*u)},t.prototype._getResizeKnobPosition=function(){var n=this.props.sprite,t=this.context.editor,r=Math.sin(n.getRotation()),u=Math.cos(n.getRotation()),f=n.getBoundingBox(t.getSDK(),!0),i=f.clone().divide(2);return n.getPosition().clone().multiply(t.getZoom()).add(i.x*u,i.x*r)},t.prototype._renderKnobs=function(){var n=[];return this.props.selected&&!this.state.editMode&&(n=[r.ReactBEM.createElement(f.default,{onStart:this._onRotationKnobDragStart,onDrag:this._onRotationKnobDrag,onStop:this._onRotationKnobDragStop},r.ReactBEM.createElement("div",{bem:"e:knob m:rotate $b:knob",style:this._getRotationKnobStyle()},r.ReactBEM.createElement("img",{bem:"e:icon m:larger",src:this._getAssetPath("controls/knobs/rotate.png",!0)}))),r.ReactBEM.createElement(f.default,{onStart:this._onResizeKnobDragStart,onDrag:this._onResizeKnobDrag,onStop:this._onResizeKnobDragStop},r.ReactBEM.createElement("div",{bem:"e:knob m:resize $b:knob",style:this._getResizeKnobStyle()},r.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/knobs/resize-diagonal-up.png",!0)}))),r.ReactBEM.createElement("div",{bem:"e:knob $b:knob",style:this._getRemoveKnobStyle(),onClick:this._onRemoveClick},r.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/knobs/remove.png",!0)}))]),n},t.prototype._renderItem=function(){var i=this.props.sprite,n=[],t;return n=[r.ReactBEM.createElement("textarea",{bem:"e:content",ref:"textarea",style:this._getTextStyle(),defaultValue:i.getText(),disabled:!this.state.editMode,onChange:this._onTextChange})],t="$e:text",this.props.selected&&(t+=" m:selected"),this.state.editMode||n.push(r.ReactBEM.createElement("div",{bem:"e:disabledOverlay",onDoubleClick:this._onItemDoubleClick,onTouchStart:this._onItemTouchStart,onTouchEnd:this._onItemTouchEnd})),r.ReactBEM.createElement(f.default,{onStart:this._onItemDragStart,onStop:this._onItemDragStop,onDrag:this._onItemDrag,disabled:!this.props.selected||this.props.selected&&this.state.editMode},r.ReactBEM.createElement("div",{bem:"$e:text",style:this._getItemContainerStyle(),className:this.props.selected?"is-selected":null},n))},t.prototype.renderWithBEM=function(){return r.ReactBEM.createElement("bem",{specifier:"b:spritesCanvasControls"},r.ReactBEM.createElement("div",{bem:"$e:item e:container"},this._renderItem(),this._renderKnobs()))},t}(p.default);t.default=e},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f,r;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),a=i(3),v=i(11),y=u(v),p=i(211),w=u(p),b=i(67),k=u(b);f=a.SDK.Operations.SpriteOperation.Sticker;r=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.onExit=function(){var n=this.context.editor,t=this.getSharedState("operation");n.addHistory(t,this.getSharedState("initialOptions"),this.getSharedState("operationExistedBefore"));t.setEnabled(!0);n.undoZoom();n.enableFeatures("zoom","drag");n.render()},t.onEnter=function(){var t=this.context.editor,n=t.getOrCreateOperation("sprite"),i=t.operationExists("sprite"),r=n.getSprites(),u=n.getSpritesOfType(f),e=n.serializeOptions();n.setEnabled(!1);t.setZoom("auto");this.setSharedState({operationExistedBefore:i,operation:n,sprites:r,stickers:u,initialOptions:e})},t.clickAtPosition=function(n,t){if(!t.operationExists("sprite"))return!1;var r=t.getOrCreateOperation("sprite"),i=r.getSpritesAtPosition(n).filter(function(n){return n instanceof f});return i.length?{selectedSprite:i[0]}:!1},t.isAvailable=function(n){return n.isToolEnabled("sticker")},t}(y.default);r.controlsComponent=w.default;r.canvasControlsComponent=k.default;r.identifier="sticker";r.iconPath="controls/overview/sticker.png";r.languageKey="controls.overview.sticker";r.defaultOptions={categories:[],replaceCategories:!1,selectableStickers:null,tooltips:!1};t.default=r},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var e;Object.defineProperty(t,"__esModule",{value:!0});var o=i(41),s=u(o),h=i(0),c=u(h),l=i(2),a=u(l),v=i(1),y=u(v),r=i(3),p=i(10),w=u(p),b=i(16),k=u(b),d=i(108),g=u(d),nt=i(17),f=u(nt);e=function(n){function t(){var i;c.default(this,t);for(var u=arguments.length,f=Array(u),r=0;r<u;r++)f[r]=arguments[r];return i=a.default(this,n.call.apply(n,[this].concat(f))),i._bindAll("_onStickerMouseLeave","_renderTooltipCanvas","_onCategoryChange"),i._operation=i.getSharedState("operation"),i._sprites=i.getSharedState("sprites"),i._stickers=i.getSharedState("stickers"),i._categories=[],i._initStickers(i.props.options.categories),i.state={category:"all"},i}return y.default(t,n),t.prototype._onCategoryChange=function(n){var t=this;this.setState({category:n.name},function(){t._renderStickers();t.refs.scrollbar.update()})},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this.props.options.stickersJSONPath?this._loadExternalStickers():this._renderStickers();var t=this.context.editor;t.setZoom("auto",function(){t.disableFeatures("zoom","drag")})},t.prototype._loadExternalStickers=function(){var n=this,t=null,i=setTimeout(function(){t=f.default.instance.displayLoading(n._t("loading.loading"))},100),u=function(){i&&(clearTimeout(i),i=null);t&&t.close()},e;this._availableStickers=[];this.forceUpdate();e=this.props.options.stickersJSONPath;r.Utils.getJSONP(e).then(function(t){u();t.version==="1.0"?n._initStickers([{name:"all",label:"All",stickers:t.stickers}]):t.version==="1.1"&&n._initStickers(t.categories);n.forceUpdate(function(){n.refs.scrollbar.update();n._renderStickers()})}).catch(function(t){u();console.log(t.stack);var i=f.default.instance.displayError(n._t("errors.loadingStickersFailed.title"),t.message);i.on("close",function(){n.props.onBack()})})},t.prototype._renderStickers=function(){var n=this,t=this._categoriesById[this.state.category].stickers;t.forEach(function(t,i){return n._renderSticker(i,t)})},t.prototype._renderTooltipCanvas=function(){var t=this,i=this.state.hoveredSticker,n=new window.Image,u;n.addEventListener("load",function(){var u;if(t.state.tooltipVisible&&t.state.hoveredSticker===i){u=t.refs.tooltipCanvas;u.width=u.offsetWidth;u.height=u.offsetHeight;var o=u.getContext("2d"),s=Math.min(u.width/n.width,u.height/n.height),f=new r.Vector2(n.width,n.height).multiply(s),e=new r.Vector2(u.width,u.height).divide(2).subtract(f.clone().divide(2));o.drawImage(n,0,0,n.width,n.height,e.x,e.y,f.x,f.y)}});u=this._getAssetPath((i.images.mediaMedium||i.images.mediaBase).uri);n.src=u},t.prototype._renderSticker=function(n,t){var o=this.context.editor,s=o.getSDK(),h=this._getAssetPath(t.images.mediaThumb.uri),i=this.refs["canvas-"+n],f=s.getPixelRatio(),e,u;i.width=i.offsetWidth*f;i.height=i.offsetHeight*f;i.style.width=i.offsetWidth+"px";i.style.height=i.offsetHeight+"px";e=i.getContext("2d");u=new window.Image;u.addEventListener("load",function(){var f=Math.min(i.width/u.width,i.height/u.height),n=new r.Vector2(u.width,u.height).multiply(f),t=new r.Vector2(i.width,i.height).divide(2).subtract(n.clone().divide(2));e.drawImage(u,0,0,u.width,u.height,t.x,t.y,n.x,n.y)});u.src=h},t.prototype._initStickers=function(n){var u=this,f=this.props.options.replaceCategories,t=r.Constants.DEFAULTS.STICKER_CATEGORIES,i;this._categories=n?f?n.slice(0):r.Utils.mergeCategories(t,n,"stickers"):t.slice(0);i={name:"all",stickers:this._categories.map(function(n){return n.stickers}).reduce(function(n,t){return n.concat(t)})};this._categories.unshift(i);this._categoriesById={};this._categories.forEach(function(n){u._categoriesById[n.name]=n})},t.prototype._onBackClick=function(){this._backButtonClicked=!0;this.props.onSwitchControls("home")},t.prototype._onStickerClick=function(n){var t=this,o=this._getAssetPath(n.images.mediaBase.uri),i=new window.Image,e=void 0,u=setTimeout(function(){e=f.default.instance.displayLoading(t._t("loading.loading"))},100);i.addEventListener("load",function(){e&&e.close();u&&(clearTimeout(u),u=null);var o=t.context.editor,f=t._operation.createSticker({name:n.name,image:i,position:o.getFinalDimensions().divide(2),scale:new r.Vector2(1,1),rotation:0});t._operation.addSprite(f);t._stickers.push(f);o.render(function(){t.setSharedState({selectedSprite:f,sprites:t._sprites,stickers:t._stickers})})});i.addEventListener("error",function(){e&&e.close();u&&(clearTimeout(u),u=null);f.default.instance.displayError(t._t("errors.imageLoadFail.title"),t._t("errors.imageLoadFail.text",{path:i.src}))});i.crossOrigin="Anonymous";i.src=o},t.prototype._onStickerMouseEnter=function(n,t){var i=this;this.setState({tooltipVisible:!0,hoveredSticker:n,hoveredStickerElement:t.currentTarget},function(){i._renderTooltipCanvas();i._updateTooltipPosition()})},t.prototype._updateTooltipPosition=function(){var n=this.state.hoveredStickerElement,i=n.parentNode,t=n.getBoundingClientRect(),r=i.getBoundingClientRect();this.setState({tooltipPosition:t.left-r.left+t.width*.5})},t.prototype._onStickerMouseLeave=function(){this.setState({tooltipVisible:!1,hoveredSticker:null})},t.prototype._renderListItems=function(){var n=this,t=this._categoriesById[this.state.category].stickers;return t.map(function(t,i){var u=n.props.options,f=u.tooltips?{onMouseEnter:n._onStickerMouseEnter.bind(n,t),onMouseLeave:n._onStickerMouseLeave}:null;return r.ReactBEM.createElement("li",s.default({bem:"$b:stickersControls $e:item",key:t.name,onClick:n._onStickerClick.bind(n,t)},f),r.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"canvas-"+i}))})},t.prototype._renderTooltip=function(){var n=this.props.options.tooltips&&this.state.tooltipVisible,t={left:this.state.tooltipPosition};return n?r.ReactBEM.createElement("div",{bem:"e:cell m:empty"},r.ReactBEM.createElement("div",{bem:"$b:stickersControls $e:tooltip",visible:this.state.tooltipVisible,style:t},r.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"tooltipCanvas"}))):null},t.prototype.renderControls=function(){var n=this,t=this._renderListItems(),i=this._renderTooltip(),u=this._categories.map(function(t){return{name:t.name,label:n._t("controls.sticker.categories."+t.name),icon:n._getAssetPath("controls/stickers/categories/"+t.name+".png",!0)}}),f={name:this.state.category,label:this._t("controls.sticker.categories."+this.state.category),icon:this._getAssetPath("controls/stickers/categories/"+this.state.category+".png",!0)};return[i,r.ReactBEM.createElement("div",{bem:"e:cell m:categoryDropdown"},r.ReactBEM.createElement(g.default,{items:u,selectedItem:f,onChange:this._onCategoryChange})),r.ReactBEM.createElement("div",{bem:"e:cell m:list"},r.ReactBEM.createElement(k.default,{ref:"scrollbar"},r.ReactBEM.createElement("ul",{bem:"$e:list"},t)))]},t}(w.default);t.default=e},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3),a=i(110),v=u(a);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype._onListItemClick=function(n){this.props.onChange&&this.props.onChange(n)},t.prototype._renderListItems=function(){var n=this,t=this.props.fonts;return t.map(function(t,i){var u=n.props.fontFamily===t.fontFamily&&n.props.fontWeight===t.fontWeight,f=u?"is-active":null;return r.ReactBEM.createElement("li",{bem:"e:item",key:i,className:f,onClick:n._onListItemClick.bind(n,t)},r.ReactBEM.createElement(v.default,{fontFamily:t.fontFamily,fontWeight:t.fontWeight}),r.ReactBEM.createElement("div",{bem:"e:label"},t.fontFamily))})},t.prototype.renderWithBEM=function(){var n=this._renderListItems();return r.ReactBEM.createElement("div",{bem:"$b:controls e:overlay m:dark"},r.ReactBEM.createElement("ul",{bem:"$b:fontFamily e:list"},n))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}var e,r;Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),s=f(o),h=i(2),c=f(h),l=i(1),a=f(l),u=i(3),v=i(11),y=f(v),p=i(214),w=f(p),b=i(215),k=f(b);e=u.SDK.Operations.SpriteOperation.Text;r=function(n){function t(){return s.default(this,t),c.default(this,n.apply(this,arguments))}return a.default(t,n),t.onExit=function(){var n=this.context.editor,t=this.getSharedState("operation");n.addHistory(t,this.getSharedState("initialOptions"),this.getSharedState("operationExistedBefore"));t.setEnabled(!0);n.undoZoom();n.enableFeatures("zoom","drag");n.render()},t.onEnter=function(){var i=this.context.editor,c=i.operationExists("sprite"),n=i.getOrCreateOperation("sprite"),l=n.getSprites(),a=n.serializeOptions(),r=this.getSharedState("selectedSprite"),o=t.initFonts(this.context),v=o.fonts,s=o.defaultFont;if(!r){var f=i.getSDK(),y=f.getRenderer(),e=f.getFinalDimensions(),h=n.createText({text:u.Constants.DEFAULTS.TEXT,position:e.clone().divide(2),maxWidth:e.x/2,maxHeight:y.getMaxTextureSize()||f.getFinalDimensions().y*3,fontSize:Math.round(e.y*.08),fontFamily:s.fontFamily,fontWeight:s.fontWeight,alignment:"center",anchor:new u.Vector2(0,0),pivot:new u.Vector2(.5,0)});n.addSprite(h);r=h}this.setSharedState({operationExistedBefore:c,operation:n,sprites:l,initialOptions:a,selectedSprite:r,fonts:v});n.setEnabled(!1);i.render()},t.initFonts=function(n){var f=n.options.controlsOptions.text||{},r=f.additionalFonts,o=f.replaceFonts,e=f.selectableFonts,t,i;return r=r||[],t=u.Constants.DEFAULTS.FONTS,t=o?r:t.concat(r),e&&e.length&&(t=u.Utils.select(t,e,function(n){return n.name})),i=null,t.forEach(function(n){!i&&n.default&&(i=n)}),i||(i=t[0]),{fonts:t,defaultFont:i}},t.clickAtPosition=function(n,t){if(!t.operationExists("sprite"))return!1;var r=t.getOrCreateOperation("sprite"),i=r.getSpritesAtPosition(n).filter(function(n){return n instanceof e});return i.length?{selectedSprite:i[0]}:!1},t.isAvailable=function(n){return n.isToolEnabled("text")},t}(y.default);r.controlsComponent=k.default;r.canvasControlsComponent=w.default;r.identifier="text";r.iconPath="controls/overview/text.png";r.languageKey="controls.overview.text";r.defaultOptions={additionalFonts:[],replaceFonts:!1,availableFonts:null};t.default=r},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var u;Object.defineProperty(t,"__esModule",{value:!0});var f=i(0),e=r(f),o=i(2),s=r(o),h=i(1),c=r(h),l=i(3),a=i(67),v=r(a);u=function(n){function t(){return e.default(this,t),s.default(this,n.apply(this,arguments))}return c.default(t,n),t.prototype._onItemBlur=function(){var n=this.getSharedState("selectedSprite");n&&n.getText()===""&&(n.setText(l.Constants.DEFAULTS.TEXT),n._edited=!1)},t}(v.default);t.default=u},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f,o;Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),h=u(s),c=i(2),l=u(c),a=i(1),v=u(a),r=i(3),y=i(10),p=u(y),w=i(16),b=u(w),k=i(64),e=u(k),d=i(65),g=u(d),nt=i(110),tt=u(nt),it=i(212),rt=u(it);f=["left","center","right"];o=function(n){function t(){var i,e;h.default(this,t);for(var u=arguments.length,f=Array(u),r=0;r<u;r++)f[r]=arguments[r];return i=l.default(this,n.call.apply(n,[this].concat(f))),i._bindAll("_onFontSizeChange","_onFontChange","_onAlignmentClick","_onTakeToFrontClick","_onForegroundColorChange","_onBackgroundColorChange"),i._operation=i.getSharedState("operation"),i.state={mode:null},e=i.context.editor,e.render(),i._fonts=i.getSharedState("fonts"),i}return v.default(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);var t=this.context.editor;t.setZoom("auto",function(){t.disableFeatures("zoom","drag")})},t.prototype._onBackClick=function(){var n=this.context.editor;n.render();this._backButtonClicked=!0;this.props.onSwitchControls("home")},t.prototype.sharedStateDidChange=function(n){"selectedSprite"in n&&this.forceUpdate()},t.prototype._onFontSizeChange=function(n){var t=this.getSharedState("selectedSprite");t.setFontSize(n);this.forceUpdate()},t.prototype._onFontChange=function(n){var t=this.getSharedState("selectedSprite");t.setFontFamily(n.fontFamily);t.setFontWeight(n.fontWeight);this.forceUpdate()},t.prototype._onAlignmentClick=function(){var n=this.getSharedState("selectedSprite"),t=n.getAlignment(),i=f.indexOf(t),r=(i+1)%f.length,u=f[r];n.setAlignment(u);this.forceSharedUpdate()},t.prototype._onTakeToFrontClick=function(){var n=this.getSharedState("operation");n.takeSpriteToFront(this.getSharedState("selectedSprite"));this.forceSharedUpdate()},t.prototype._onForegroundColorChange=function(n){var t=this.getSharedState("selectedSprite");t.setColor(n)},t.prototype._onBackgroundColorChange=function(n){var t=this.getSharedState("selectedSprite");t.setBackgroundColor(n)},t.prototype._switchToMode=function(n){n===this.state.mode&&(n=null);this.setState({mode:n})},t.prototype.renderOverlayControls=function(){switch(this.state.mode){case"size":return this._renderFontSizeOverlayControl();case"font":return this._renderFontFamilyOverlayControl();default:return null}},t.prototype._renderFontSizeOverlayControl=function(){var n=this.getSharedState("selectedSprite");if(n){var t=this.context.editor,i=t.getOutputDimensions(),u=Math.round(i.y),f=n.getFontSize();return r.ReactBEM.createElement(g.default,{value:f,maxValue:u,label:this._t("controls.text.size"),onChange:this._onFontSizeChange})}},t.prototype._renderSizeItem=function(){var n=this.getSharedState("selectedSprite"),t,i;if(n)return t=n.getFontSize(),i=this.state.mode==="size"?"is-active":null,r.ReactBEM.createElement("li",{bem:"e:item",key:"size"},r.ReactBEM.createElement("bem",{specifier:"$b:controls"},r.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",className:i,onClick:this._switchToMode.bind(this,"size")},r.ReactBEM.createElement("div",{bem:"b:fontSize e:text"},t),r.ReactBEM.createElement("div",{bem:"e:label"},this._t("controls.text.size")))))},t.prototype._renderFontFamilyOverlayControl=function(){var n=this.getSharedState("selectedSprite");if(n)return r.ReactBEM.createElement(rt.default,{fontFamily:n.getFontFamily(),fontWeight:n.getFontWeight(),fonts:this._fonts,onChange:this._onFontChange})},t.prototype._renderFontItem=function(){var n=this.getSharedState("selectedSprite"),t;if(n)return t=this.state.mode==="font"?"is-active":null,r.ReactBEM.createElement("li",{bem:"e:item",key:"font"},r.ReactBEM.createElement("bem",{specifier:"$b:controls"},r.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",className:t,onClick:this._switchToMode.bind(this,"font")},r.ReactBEM.createElement(tt.default,{fontFamily:n.getFontFamily(),fontWeight:n.getFontWeight()}),r.ReactBEM.createElement("div",{bem:"e:label"},this._t("controls.text.font")))))},t.prototype._renderAlignmentItem=function(){var n=this.getSharedState("selectedSprite"),t;if(n)return t=n.getAlignment(),r.ReactBEM.createElement("li",{bem:"e:item",key:"alignment"},r.ReactBEM.createElement("bem",{specifier:"$b:controls"},r.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",onClick:this._onAlignmentClick},r.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/text/align_"+t+".png",!0)}),r.ReactBEM.createElement("div",{bem:"e:label"},this._t("controls.text.alignment")))))},t.prototype._renderTakeToFrontItem=function(){return r.ReactBEM.createElement("li",{bem:"e:item",key:"takeToFront"},r.ReactBEM.createElement("bem",{specifier:"$b:controls"},r.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",onClick:this._onTakeToFrontClick},r.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/sprites/take_to_front.png",!0)}),r.ReactBEM.createElement("div",{bem:"e:label"},this._t("controls.text.takeToFront")))))},t.prototype.renderControls=function(){var t=[this._renderSizeItem(),this._renderFontItem(),this._renderAlignmentItem(),r.ReactBEM.createElement("li",{bem:"e:separator"}),this._renderTakeToFrontItem()],n=this.getSharedState("selectedSprite"),i=n.getColor().clone(),u=n.getBackgroundColor().clone();return[r.ReactBEM.createElement("div",{bem:"e:cell m:list"},r.ReactBEM.createElement(b.default,{ref:"scrollbar"},r.ReactBEM.createElement("ul",{bem:"$e:list"},t))),r.ReactBEM.createElement("div",{bem:"e:cell m:colorPicker"},r.ReactBEM.createElement(e.default,{initialValue:i,label:this._t("controls.text.foreground"),onChange:this._onForegroundColorChange})),r.ReactBEM.createElement("div",{bem:"e:cell m:colorPicker"},r.ReactBEM.createElement(e.default,{initialValue:u,label:this._t("controls.text.background"),onChange:this._onBackgroundColorChange}))]},t}(p.default);t.default=o},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype.renderWithBEM=function(){return r.ReactBEM.createElement("bem",{specifier:"$b:controls"},r.ReactBEM.createElement("div",{bem:"e:cell m:largeButton"},r.ReactBEM.createElement("div",{bem:"$e:largeButton",onClick:this.props.onClick},r.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/tick.png",!0)}))))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3);f=function(n){function t(){var r;o.default(this,t);for(var u=arguments.length,f=Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=h.default(this,n.call.apply(n,[this].concat(f))),r._bindAll("_onCloseClick"),r}return l.default(t,n),t.prototype._onCloseClick=function(){this.context.mediator.emit(r.Constants.EVENTS.CLOSE)},t.prototype.renderWithBEM=function(){var n=void 0;return this.context.options.showCloseButton&&(n=r.ReactBEM.createElement("div",{bem:"$e:close",onClick:this._onCloseClick},r.ReactBEM.createElement("img",{bem:"e:image",src:this._getAssetPath("close.png",!0)}))),r.ReactBEM.createElement("div",{bem:"$b:header"},r.ReactBEM.createElement("div",{bem:"e:label"},this.context.options.title),n)},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=r(e),s=i(2),h=r(s),c=i(1),l=r(c),u=i(3),a=i(220),v=r(a),y=i(221),p=r(y),w=i(219),b=r(w);f=function(n){function t(){var i;o.default(this,t);for(var u=arguments.length,f=Array(u),r=0;r<u;r++)f[r]=arguments[r];return i=h.default(this,n.call.apply(n,[this].concat(f))),i._modalManager=i.props.modalManager,i._bindAll("_onModalManagerUpdate"),i}return l.default(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._modalManager.on("update",this._onModalManagerUpdate)},t.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this);this._modalManager.off("update",this._onModalManagerUpdate)},t.prototype._onModalManagerUpdate=function(){this.forceUpdate()},t.prototype._onModalClosed=function(n){this._modalManager.removeModal(n)},t.prototype._renderModals=function(){var n=this,t=this._modalManager.getModals();return t.map(function(t){var i=void 0;switch(t.type){case"loading":i=v.default;break;case"warning":i=p.default;break;case"error":i=b.default}return u.ReactBEM.createElement(i,{modal:t,onClose:n._onModalClosed.bind(n,t)})})},t.prototype.renderWithBEM=function(){return u.ReactBEM.createElement("div",null,this._renderModals())},t}(u.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3);f=function(n){function t(){var r;o.default(this,t);for(var u=arguments.length,f=Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=h.default(this,n.call.apply(n,[this].concat(f))),r._bindAll("_onClose"),r}return l.default(t,n),t.prototype._onClose=function(){this.props.modal.close()},t.prototype.renderWithBEM=function(){var n=this.props.modal,t=r.ReactBEM.createElement("div",{bem:"e:modal m:error"},r.ReactBEM.createElement("div",{bem:"e:title"},n.title),r.ReactBEM.createElement("div",{bem:"e:text"},n.text),r.ReactBEM.createElement("div",{bem:"e:button b:button m:inline",onClick:this._onClose},"OK")),i=n.overlay?r.ReactBEM.createElement("div",{bem:"e:overlay"},t):t;return r.ReactBEM.createElement("bem",{specifier:"$b:modals"},i)},t}(r.BaseComponent);t.default=f;f.propTypes={modal:r.React.PropTypes.object}},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype.renderWithBEM=function(){var n=this.props.modal;return r.ReactBEM.createElement("bem",{specifier:"$b:modals"},r.ReactBEM.createElement("div",{bem:"e:overlay"},r.ReactBEM.createElement("div",{bem:"e:modal m:loading"},r.ReactBEM.createElement("div",{bem:"e:text"},n.text))))},t}(r.BaseComponent);t.default=f;f.propTypes={modal:r.React.PropTypes.object}},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype.renderWithBEM=function(){var n=this.props.modal;return r.ReactBEM.createElement("bem",{specifier:"$b:modals"},r.ReactBEM.createElement("div",{bem:"e:modal m:warning"},r.ReactBEM.createElement("div",{bem:"e:title"},n.title),r.ReactBEM.createElement("div",{bem:"e:text"},n.text),r.ReactBEM.createElement("div",{bem:"e:button b:button m:inline",onClick:this.props.onClose},"OK")))},t}(r.BaseComponent);t.default=f;f.propTypes={modal:r.React.PropTypes.object}},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var e;Object.defineProperty(t,"__esModule",{value:!0});var o=i(14),f=u(o),s=i(0),h=u(s),c=i(2),l=u(c),a=i(1),v=u(a),r=i(3);e=function(n){function t(){var u,i;h.default(this,t);for(var o=arguments.length,s=Array(o),e=0;e<o;e++)s[e]=arguments[e];return i=l.default(this,n.call.apply(n,[this].concat(s))),i._bindAll("_onDragStart","_onDragMove","_onDragEnd","_onWindowResize","_onFeaturesUpdated"),i._events=(u={},f.default(u,r.Constants.EVENTS.WINDOW_RESIZE,i._onWindowResize),f.default(u,r.Constants.EVENTS.FEATURES_UPDATED,i._onFeaturesUpdated),u),i._initialRenderDone=!1,i.state={canvasPosition:new r.Vector2,canvasOffset:new r.Vector2},i}return v.default(t,n),t.prototype._onWindowResize=function(){var n=this.context.editor,t=n.getSDK();t.resizeTo(this._getContainerDimensions());n.setZoom("auto")},t.prototype._onFeaturesUpdated=function(n){n.indexOf("drag")!==-1&&this.forceUpdate()},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);var f=this.context.editor,t=f.getRenderer(),i=this.refs,u=i.canvasCell,e=i.canvas,o=u.offsetWidth,s=u.offsetHeight;t.setCanvas(e);t.resizeTo(new r.Vector2(o,s))},t.prototype._onDragStart=function(n){var t=this.context.editor;t.isFeatureEnabled("drag")&&(n.preventDefault(),this._dragStartPosition=r.Utils.getEventPosition(n.nativeEvent),this._dragInitialOffset=t.getOffset().clone(),document.addEventListener("mousemove",this._onDragMove),document.addEventListener("touchmove",this._onDragMove),document.addEventListener("mouseup",this._onDragEnd),document.addEventListener("touchend",this._onDragEnd))},t.prototype._onDragMove=function(n){var i=r.Utils.getEventPosition(n),u=i.clone().subtract(this._dragStartPosition),f=this._dragInitialOffset.clone().add(u),t=this.context.editor,e=t.getOffset().clone();t.setOffset(f);t.getOffset().equals(e)||t.render()},t.prototype._onDragEnd=function(){document.removeEventListener("mousemove",this._onDragMove);document.removeEventListener("touchmove",this._onDragMove);document.removeEventListener("mouseup",this._onDragEnd);document.removeEventListener("touchend",this._onDragEnd)},t.prototype._getContainerDimensions=function(){var n=this.refs.canvasCell;return new r.Vector2(n.offsetWidth,n.offsetHeight)},t.prototype._getDraggableStyle=function(){return{top:this.state.canvasPosition.y+this.state.canvasOffset.y,left:this.state.canvasPosition.x+this.state.canvasOffset.x}},t.prototype.renderWithBEM=function(){var n=null,t=null,i;return this.props.largeControls?t=this.props.children:n=this.props.children,i=this.context.editor.isFeatureEnabled("drag"),r.ReactBEM.createElement("div",{bem:"$b:canvas e:container e:row"},r.ReactBEM.createElement("div",{bem:"e:container e:cell",ref:"canvasCell"},r.ReactBEM.createElement("div",{bem:"e:innerContainer",className:i?"is-draggable":null,onTouchStart:this._onDragStart,onMouseDown:this._onDragStart,style:this._getDraggableStyle()},r.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"canvas"}),n),t))},t}(r.BaseComponent);t.default=e},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var s,o;Object.defineProperty(t,"__esModule",{value:!0});var h=i(0),c=u(h),l=i(2),a=u(l),v=i(1),y=u(v),r=i(3),p=i(109),w=u(p),b=i(39),k=u(b),d=i(222),g=u(d),nt=i(17),e=u(nt),tt=i(200),f=u(tt),it=i(241),rt=u(it);s=500;o=function(n){function t(){var i;c.default(this,t);for(var e=arguments.length,o=Array(e),u=0;u<e;u++)o[u]=arguments[u];i=a.default(this,n.call.apply(n,[this].concat(o)));i._overviewControls=w.default;i._bindAll("switchToControls","_startEditor","_onWindowResize","_onWindowResizeDone","_onImageResize","_onNewImage","_onRenderError");i._previousControlsStack=[];i.state={zoom:null,controls:f.default,dragEnabled:!0,sharedState:new r.SharedState};i._editor=new rt.default(i.context.options,i.context.mediator);i._editor.on("new-image",i._onNewImage);i._editor.on("ready",i._startEditor);i._editor.on("resize",i._onImageResize);i._editor.on("render-error",i._onRenderError);return i}return y.default(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._editor.setImage(this.context.options.image);this._editor.render();window.addEventListener("resize",this._onWindowResize)},t.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this);this._editor.dispose();var t=this.context.options;t.responsive&&window.removeEventListener("resize",this._onWindowResize)},t.prototype._startEditor=function(){this._editor.start()},t.prototype._onRenderError=function(n){e.default.instance.displayError(this._t("errors.renderingError.title"),this._t("errors.renderingError.text"),!0);r.Log.error(this.constructor.name,"An error occurred while rendering: "+n.message);r.Log.printError(n)},t.prototype._onNewImage=function(){this.switchToControls(f.default)},t.prototype._onImageResize=function(){var n=this,t=e.default.instance.displayLoading(this._t("loading.resizing"));this._editor.once("resized",function(i){var r=i.dimensions,u=i.reason;t.close();e.default.instance.displayWarning(n._t("warnings.imageResized_"+u+".title"),n._t("warnings.imageResized_"+u+".text",{maxMegaPixels:n._editor.getMaxMegapixels(),width:r.x,height:r.y}))})},t.prototype._onWindowResize=function(){this._resizeTimeout&&(window.clearTimeout(this._resizeTimeout),this._resizeTimeout=null);this._resizeTimeout=window.setTimeout(this._onWindowResizeDone,s)},t.prototype._onWindowResizeDone=function(){this._emitEvent(r.Constants.EVENTS.WINDOW_RESIZE)},t.prototype.switchToControls=function(n){var s=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],i=arguments.length<=2||arguments[2]===undefined?null:arguments[2],t=null,e,o,u;if(n==="back"?t=this._previousControlsStack.pop():n==="home"?(t=f.default,this._previousControlsStack=[]):typeof n=="string"?(e=this.context.ui.getAvailableControls(),t=e[n]):(t=n,this._previousControlsStack.push(this.state.controls)),o=this.state.controls!==t,this.state.controls.onExit&&this.state.controls.onExit.call(this.refs.controls),this.state.sharedState.clear(),this.state.sharedState.set(s),u=r.SDKUtils.defaults(this.context.options.controlsOptions[t.identifier],t.defaultOptions),t.onEnter&&t.onEnter.call(this.refs.controls,this.state.sharedState,u),o)this.setState({controls:t,controlsOptions:u},i);else return i&&i()},t.prototype.getZoom=function(){return this.state.zoom},t.prototype.export=function(){var n;return(n=this._editor).export.apply(n,arguments)},t.prototype._showUndoButton=function(){return this._editor.historyAvailable()},t.prototype.getChildContext=function(){return{editor:this._editor,ui:this.context.ui,options:this.context.options,editorScreen:this,mediator:this.context.mediator}},t.prototype.setImage=function(n){this._editor.setImage(n)},t.prototype._renderScreen=function(){var u=this.state.controls.controlsComponent,t=this.state.controls.canvasControlsComponent,n,i;t||(t=f.default.canvasControlsComponent);n=this.state.controls.topBarControlsComponent;n||(n=f.default.topBarControlsComponent);var e=void 0,o=void 0,s=void 0;return n&&this.context.options.showTopBar&&(s=r.ReactBEM.createElement(n,{sharedState:this.state.sharedState,options:this.state.controlsOptions,app:this.props.app,ref:"topBarControls"})),u&&(e=r.ReactBEM.createElement(u,{onSwitchControls:this.switchToControls,sharedState:this.state.sharedState,options:this.state.controlsOptions,app:this.props.app,ref:"controls"})),t&&(o=r.ReactBEM.createElement(t,{onSwitchControls:this.switchToControls,sharedState:this.state.sharedState,app:this.props.app,ref:"canvasControls"})),i="$b:editorScreen",this.context.options.showHeader||(i+=" m:noHeader"),r.ReactBEM.createElement("div",{bem:i},s,r.ReactBEM.createElement(g.default,{ref:"canvas",largeControls:this.state.controls.largeCanvasControls},o),r.ReactBEM.createElement("div",{bem:"$b:controls $e:container e:row"},r.ReactBEM.createElement("div",{bem:"e:cell"},e)))},t}(k.default);t.default=o;o.childContextTypes={ui:r.React.PropTypes.object.isRequired,editor:r.React.PropTypes.object.isRequired,mediator:r.React.PropTypes.object.isRequired,options:r.React.PropTypes.object.isRequired,editorScreen:r.React.PropTypes.object.isRequired}},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype.renderWithBEM=function(){var n=this.props.category,t={backgroundImage:"url("+n.coverImage+")"};return r.ReactBEM.createElement("bem",{specifier:"b:photoRoll e:categoryList"},r.ReactBEM.createElement("li",{bem:"e:item",style:t,onClick:this.props.onClick},r.ReactBEM.createElement("div",{bem:"e:overlay"}),r.ReactBEM.createElement("div",{bem:"e:name"},n.name)))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3),a=i(224),v=u(a);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype._onCategoryClicked=function(n){this.props.onCategoryClicked&&this.props.onCategoryClicked(n)},t.prototype.renderWithBEM=function(){var n=this,t=this.props.library,i=t.categories.map(function(t){return r.ReactBEM.createElement(v.default,{onClick:n._onCategoryClicked.bind(n,t),category:t})});return r.ReactBEM.createElement("bem",{specifier:"b:photoRoll e:libraryList"},r.ReactBEM.createElement("li",{bem:"e:item"},r.ReactBEM.createElement("div",{bem:"b:photoRoll e:headline"},t.name),r.ReactBEM.createElement("ul",{bem:"b:photoRoll e:categoryList"},i)))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype.renderWithBEM=function(){var n=this.props.photo;return r.ReactBEM.createElement("bem",{specifier:"b:photoRoll e:photoList"},r.ReactBEM.createElement("li",{bem:"$e:item",onClick:this.props.onClick},r.ReactBEM.createElement("div",{bem:"e:overlay"}),r.ReactBEM.createElement("div",{bem:"e:title"},n.title),r.ReactBEM.createElement("img",{bem:"e:image",src:n.urls.thumb})))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3),a=i(17),v=u(a),y=i(225),p=u(y);f=function(n){function t(){var r;o.default(this,t);for(var u=arguments.length,f=Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=h.default(this,n.call.apply(n,[this].concat(f))),r.state={loading:!0,libraries:[]},r}return l.default(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._loadLibraries()},t.prototype._loadLibraries=function(){var t=this,i=v.default.instance.displayLoading(this._t("loading.loading")),r=this.context.options.photoRollProvider,n=new r;n.getLibraries().then(function(t){return Promise.all(t.map(function(t){return n.getCategoriesForLibrary(t).then(function(n){t.categories=n})})).then(function(){return t})}).then(function(n){t.setState({libraries:n,loading:!1});i.close()})},t.prototype._renderContent=function(){var n=this,t=this.state.libraries.map(function(t){return r.ReactBEM.createElement(p.default,{library:t,onCategoryClicked:n.props.onCategoryClicked})});return r.ReactBEM.createElement("div",{bem:"$b:photoRoll e:row m:fullHeight"},r.ReactBEM.createElement("div",{bem:"e:cell"},r.ReactBEM.createElement("div",{bem:"e:container"},r.ReactBEM.createElement("div",{bem:"e:innerContainer"},r.ReactBEM.createElement("ul",{bem:"$e:libraryList"},t)))))},t.prototype.renderWithBEM=function(){return this.state.loading?r.ReactBEM.createElement("div",null):this._renderContent()},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),s=u(o),h=i(2),c=u(h),l=i(1),a=u(l),r=i(3),v=i(39),y=u(v),p=i(231),w=u(p),b=i(227),k=u(b),d=i(111),g=u(d),nt=i(229),tt=u(nt),it=i(17),e=u(it);f=function(n){function t(){var r;s.default(this,t);for(var u=arguments.length,f=Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=c.default(this,n.call.apply(n,[this].concat(f))),r.state={section:"overview",sectionsHistory:[]},r._bindAll("_onCategoryClicked","_onPhotoClicked","_onFileUpload","_onWebcamClick","_onBackClicked","_onSearch"),r}return a.default(t,n),t.prototype.hasPreviousSection=function(){return!!this.state.sectionsHistory.length},t.prototype.switchToSection=function(n){var t=arguments.length<=1||arguments[1]===undefined?!0:arguments[1];if(n==="back"){if(!this.hasPreviousSection())return t?this.props.app.switchToScreen("back"):this.switchToSection("overview");n=this.state.sectionsHistory.pop()}else this.state.section!==n&&this.state.sectionsHistory.push(this.state.section);this.setState({section:n})},t.prototype._onCategoryClicked=function(n){this.state.category=n;this.switchToSection("category")},t.prototype._onPhotoClicked=function(n){var i=this,r=e.default.instance.displayLoading(this._t("loading.loading")),t=new window.Image;t.addEventListener("load",function(){r.close();i.props.app.setImage(t)});t.addEventListener("error",function(){r.close();e.default.instance.displayError(i._t("errors.imageLoadFail.title"),i._t("errors.imageLoadFail.text",{path:t.src}))});t.crossOrigin="Anonymous";t.src=n.urls.raw},t.prototype._onBackClicked=function(){this.switchToSection("back")},t.prototype._onSearch=function(n){if(!n.trim().length)return this.state.searchQuery=null,this.switchToSection("back",!1);this.state.searchQuery=n;this.switchToSection("search")},t.prototype._onWebcamClick=function(){this.props.app.switchToScreen("webcam")},t.prototype._onFileUpload=function(n){this.props.app.setImage(n)},t.prototype._isBackButtonVisible=function(){return this.state.sectionsHistory.length!==0||this.props.app.hasPreviousScreen()},t.prototype._renderContent=function(){switch(this.state.section){case"search":return r.ReactBEM.createElement(tt.default,{query:this.state.searchQuery,onPhotoClicked:this._onPhotoClicked});case"category":return r.ReactBEM.createElement(g.default,{category:this.state.category,onPhotoClicked:this._onPhotoClicked});case"overview":return r.ReactBEM.createElement(k.default,{onCategoryClicked:this._onCategoryClicked})}},t.prototype._renderScreen=function(){var n=this._renderContent();return r.ReactBEM.createElement("div",{bem:"$b:photoRollScreen"},r.ReactBEM.createElement(w.default,{onBackClicked:this._onBackClicked,onSearch:this._onSearch,onFileUpload:this._onFileUpload,onWebcamClick:this._onWebcamClick,backButton:this._isBackButtonVisible(),backButtonLabel:this._t("generic.back"),ref:"topBarControls"}),n)},t}(y.default);t.default=f;f.childContextTypes={ui:r.React.PropTypes.object.isRequired,editor:r.React.PropTypes.object.isRequired,mediator:r.React.PropTypes.object.isRequired,options:r.React.PropTypes.object.isRequired,editorScreen:r.React.PropTypes.object.isRequired}},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var u;Object.defineProperty(t,"__esModule",{value:!0});var f=i(0),e=r(f),o=i(2),s=r(o),h=i(1),c=r(h),l=i(111),a=r(l),v=i(17),y=r(v);u=function(n){function t(){return e.default(this,t),s.default(this,n.apply(this,arguments))}return c.default(t,n),t.prototype.componentWillReceiveProps=function(n){n.query!==this.props.query&&this._loadPhotos(n.query)},t.prototype._getHeadline=function(){return this._t("photo-roll.search.results.headline",{query:this.props.query})},t.prototype._loadPhotos=function(){var n=this,t=arguments.length<=0||arguments[0]===undefined?this.props.query:arguments[0],i=y.default.instance.displayLoading(this._t("loading.loading")),r=this.context.options.photoRollProvider,u=new r;u.searchPhotos(t).then(function(t){n.setState({photos:t,loading:!1});i.close()})},t}(a.default);t.default=u},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype.renderWithBEM=function(){return r.ReactBEM.createElement("bem",{specifier:"$b:subHeader"},r.ReactBEM.createElement("div",{bem:"$e:iconButton",onClick:this.props.onClick},r.ReactBEM.createElement("img",{bem:"e:icon",src:this.props.icon})))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var e;Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),s=u(o),h=i(2),c=u(h),l=i(1),a=u(l),r=i(3),v=i(71),y=u(v),p=i(230),f=u(p),w=i(69),b=u(w),k=i(232),d=u(k),g=i(239),nt=u(g);e=function(n){function t(){var i;s.default(this,t);for(var f=arguments.length,e=Array(f),u=0;u<f;u++)e[u]=arguments[u];return i=c.default(this,n.call.apply(n,[this].concat(e))),i._bindAll("_onUploadButtonClicked","_onWebcamButtonClicked","_onBackClicked","_onSearchValueChange","_onNewFile"),i._onSearchValueChange=r.Utils.debounce(i._onSearchValueChange,250),i}return a.default(t,n),t.prototype._onBackClicked=function(){this.props.onBackClicked&&this.props.onBackClicked()},t.prototype._onSearchValueChange=function(n){this.props.onSearch&&this.props.onSearch(n)},t.prototype._onUploadButtonClicked=function(){this.refs.upload.open()},t.prototype._onWebcamButtonClicked=function(){this.props.onWebcamClick&&this.props.onWebcamClick()},t.prototype._onNewFile=function(n){this.props.onFileUpload&&this.props.onFileUpload(n)},t.prototype._renderRightButtons=function(){var t=this.context.options,n=[];return t.enableUpload&&n.push(r.ReactBEM.createElement(f.default,{icon:this._getAssetPath("photo-roll/upload.png",!0),onClick:this._onUploadButtonClicked})),t.enableWebcam&&n.push(r.ReactBEM.createElement(f.default,{icon:this._getAssetPath("photo-roll/webcam.png",!0),onClick:this._onWebcamButtonClicked})),n},t.prototype.renderWithBEM=function(){var n=void 0;return this.props.backButton&&(n=r.ReactBEM.createElement(nt.default,{label:this.props.backButtonLabel,onClick:this._onBackClicked})),r.ReactBEM.createElement("div",{bem:"$b:subHeader e:row"},r.ReactBEM.createElement("div",{bem:"e:cell"},r.ReactBEM.createElement("div",{bem:"e:table"},r.ReactBEM.createElement("div",{bem:"e:cell m:left"},n),r.ReactBEM.createElement("div",{bem:"e:cell m:fullWidth"},r.ReactBEM.createElement(d.default,{onChange:this._onSearchValueChange}),r.ReactBEM.createElement(b.default,{onNewFile:this._onNewFile,ref:"upload"})),r.ReactBEM.createElement("div",{bem:"e:cell m:right"},this._renderRightButtons()))))},t}(y.default);t.default=e},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3);f=function(n){function t(){var i;o.default(this,t);for(var u=arguments.length,f=Array(u),r=0;r<u;r++)f[r]=arguments[r];return i=h.default(this,n.call.apply(n,[this].concat(f))),i._bindAll("_onFocus","_onBlur","_onChange","_onBarClick"),i.state={active:!1,placeholder:i._t("photo-roll.search.placeholder"),value:""},i}return l.default(t,n),t.prototype.componentDidMount=function(){var u=this,t,i;n.prototype.componentDidMount.call(this);this._hiddenInputDummy=document.createElement("div");t=r.Utils.getStyleObject(this.refs.input);i=["font","lineHeight","textAlign","textIndent","textTransform","textDecoration","textRendering","textShadow","textOverflow","wordSpacing","letterSpacing","whiteSpace"];i.forEach(function(n){u._hiddenInputDummy.style[n]=t[n]});this._hiddenInputDummy.style.position="absolute";this._hiddenInputDummy.style.top="-9999px";this._hiddenInputDummy.style.left="-9999px";this.refs.root.appendChild(this._hiddenInputDummy);this._updateInputWidth()},t.prototype._updateInputWidth=function(){var n=this;this._hiddenInputDummy.innerHTML=this.state.value||this.state.placeholder;setTimeout(function(){n.setState({inputWidth:n._hiddenInputDummy.offsetWidth+5})},0)},t.prototype._onBarClick=function(){this.refs.input.focus()},t.prototype._onFocus=function(){this.setState({active:!0})},t.prototype._onBlur=function(){this.state.value===""&&this.setState({active:!1})},t.prototype._onChange=function(n){this.state.value=n.target.value;this.props.onChange&&this.props.onChange(this.state.value)},t.prototype.renderWithBEM=function(){var t="$e:searchBar",n="photo-roll/search-light.png",i;return this.state.active&&(t+=" m:active",n="photo-roll/search-dark.png"),n=this._getAssetPath(n,!0),i={width:this.state.inputWidth+"px"},r.ReactBEM.createElement("bem",{specifier:"$b:photoRollScreen"},r.ReactBEM.createElement("div",{bem:t,ref:"root",onClick:this._onBarClick},r.ReactBEM.createElement("div",{bem:"e:content"},r.ReactBEM.createElement("div",{bem:"$e:icon"},r.ReactBEM.createElement("img",{src:n,bem:"e:image"})),r.ReactBEM.createElement("div",{bem:"e:inputContainer"},r.ReactBEM.createElement("input",{bem:"e:input",ref:"input",placeholder:this.state.placeholder,onBlur:this._onBlur,onFocus:this._onFocus,onChange:this._onChange,style:i})))))},t}(r.BaseComponent);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3),a=i(68),v=u(a);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype._renderContent=function(){var n={backgroundImage:"url("+this._getAssetPath("splash/photo-roll.png",!0,!0)+")"};return r.ReactBEM.createElement("div",{bem:"e:contentWrapper"},r.ReactBEM.createElement("div",{bem:"e:contentRow"},r.ReactBEM.createElement("div",{bem:"e:contentCell",onClick:this._onClick,style:n},r.ReactBEM.createElement("div",{bem:"e:overlay"}),r.ReactBEM.createElement("div",{bem:"e:headline"},this._t("splash.photo-roll.headline")),r.ReactBEM.createElement("div",{bem:"e:description"},this._t("splash.photo-roll.description")))))},t}(v.default);t.default=f},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=r(e),s=i(2),h=r(s),c=i(1),l=r(c),u=i(3),a=i(39),v=r(a),y=i(235),p=r(y),w=i(236),b=r(w),k=i(233),d=r(k);f=function(n){function t(){o.default(this,t);var i=h.default(this,n.call(this));return i._bindAll("_onWebcamClick","_onPhotoRollClick","_onImage"),i}return l.default(t,n),t.prototype._onPhotoRollClick=function(){this.props.app.switchToScreen("photoRoll")},t.prototype._onWebcamClick=function(){this.props.app.switchToScreen("webcam")},t.prototype._onImage=function(n){this.props.app.setImage(n)},t.prototype._isWebcamAvailable=function(){return!u.Utils.isMobile()&&this.context.options.enableWebcam!==!1},t.prototype._isPhotoRollAvailable=function(){return!!this.context.options.photoRollProvider},t.prototype._renderScreen=function(){var t=[],n=1,r=this._isWebcamAvailable(),i;return r&&n++,i=this._isPhotoRollAvailable(),i&&n++,r&&t.push(u.ReactBEM.createElement(b.default,{onClick:this._onWebcamClick,totalRows:n})),i&&t.push(u.ReactBEM.createElement(d.default,{onClick:this._onPhotoRollClick,totalRows:n})),t.unshift(u.ReactBEM.createElement(p.default,{onImage:this._onImage,totalRows:n})),u.ReactBEM.createElement("div",{bem:"$b:splashScreen"},u.ReactBEM.createElement("div",{bem:"e:container"},t))},t}(v.default);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(41),o=u(e),s=i(0),h=u(s),c=i(2),l=u(c),a=i(1),v=u(a),r=i(3),y=i(68),p=u(y),w=i(169),b=u(w),k=i(69),d=u(k);f=function(n){function t(){h.default(this,t);var i=l.default(this,n.call(this));return i._bindAll("_onImage","_onDragEnter","_onDragOver","_onDragLeave","_onDrop"),i._dragCounter=0,i.state={dragAreaHovered:!1},i}return v.default(t,n),t.prototype._onDragEnter=function(n){n.preventDefault();this._dragCounter++;this.setState({dragAreaHovered:!0})},t.prototype._onDragOver=function(n){n.preventDefault()},t.prototype._onDragLeave=function(n){n.preventDefault();this._dragCounter--;this._dragCounter===0&&this.setState({dragAreaHovered:!1})},t.prototype._onDrop=function(n){var t=this;n.stopPropagation();n.preventDefault();n=n.nativeEvent;n.returnValue=!1;this.setState({dragAreaHovered:!1},function(){n.dataTransfer&&t._handleFile(n.dataTransfer.files[0])})},t.prototype._onClick=function(){this.refs.upload.open()},t.prototype._handleFile=function(n){var i=this,t=new window.FileReader;t.onload=function(){return function(n){var r=n.target.result,t=new window.Image;t.addEventListener("load",function(){i._onImage(t)});t.src=r}}(n);t.readAsDataURL(n)},t.prototype._onImage=function(n){this.props.onImage&&this.props.onImage(n)},t.prototype._renderContent=function(){var t={onDragEnter:this._onDragEnter,onDragOver:this._onDragOver,onDragLeave:this._onDragLeave,onDrop:this._onDrop},n;return this.state.dragAreaHovered&&(t.className="is-hovered"),n="e:contentCell",this.context.options.enableWebcam!==!1&&(n+=" m:withBorder"),r.ReactBEM.createElement("div",{bem:"e:contentWrapper"},r.ReactBEM.createElement("div",{bem:"e:contentRow"},r.ReactBEM.createElement("div",o.default({bem:n,onClick:this._onClick},t),r.ReactBEM.createElement(d.default,{ref:"upload",onNewFile:this._onImage}),r.ReactBEM.createElement(b.default,{bem:"e:button",uppercase:!0},this._t("splash.upload.button")),r.ReactBEM.createElement("div",{bem:"e:description"},this._t("splash.upload.description")))))},t}(p.default);t.default=f;f.propTypes={onImage:r.React.PropTypes.func.isRequired}},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3),a=i(68),v=u(a);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype._renderContent=function(){var n={backgroundImage:"url("+this._getAssetPath("splash/webcam.png",!0,!0)+")"};return r.ReactBEM.createElement("div",{bem:"e:contentWrapper"},r.ReactBEM.createElement("div",{bem:"e:contentRow"},r.ReactBEM.createElement("div",{bem:"e:contentCell",onClick:this._onClick,style:n},r.ReactBEM.createElement("div",{bem:"e:overlay"}),r.ReactBEM.createElement("div",{bem:"e:headline"},this._t("splash.webcam.headline")),r.ReactBEM.createElement("div",{bem:"e:description"},this._t("splash.webcam.description")))))},t}(v.default);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),s=u(o),h=i(2),c=u(h),l=i(1),a=u(l),r=i(3),v=i(17),e=u(v);f=function(n){function t(){s.default(this,t);var i=c.default(this,n.call(this));return i._bindAll("_onWebcamReady"),i.state={webcamReady:!1},i}return a.default(t,n),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentWillUnmount=function(){var i,t;n.prototype.componentWillUnmount.call(this);i=this.refs.video;this._stream&&(t=this._stream.getTracks()[0],t&&t.stop(),this._stream.stop&&this._stream.stop());i.pause()},t.prototype.componentDidMount=function(){this._resizeVideo();this._initVideoStream()},t.prototype._onWebcamReady=function(){this.props.onReady&&this.props.onReady();this.setState({webcamReady:!0})},t.prototype.makePhoto=function(){if(!this.state.webcamReady)return r.Promise.reject(new Error("UserMedia stream not ready"));var n=this.refs.video;return new r.Promise(function(t){var i=document.createElement("canvas"),u,r;i.width=n.videoWidth;i.height=n.videoHeight;u=i.getContext("2d");u.drawImage(n,0,0);r=new window.Image;r.addEventListener("load",function(){t(r)});r.src=i.toDataURL("image/png")})},t.prototype._resizeVideo=function(){var n=this.refs,t=n.video,u=n.container,i=r.Utils.getInnerDimensionsForElement(u);t.width=i.x;t.height=i.y},t.prototype._initVideoStream=function(){var n=this,t=this.refs.video,i=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,r;if(!i){r=e.default.instance.displayError(this._t("errors.webcamNotSupported.title"),this._t("errors.webcamNotSupported.text"));r.on("close",function(){return n.props.onBack()});return}i.call(navigator,{video:!0},function(i){n._stream=i;t.onloadedmetadata=n._onWebcamReady;t.src=window.URL.createObjectURL(i)},function(t){console.error&&console.error(t);var i=e.default.instance.displayError(n._t("errors.webcamUnavailable.title"),n._t("errors.webcamUnavailable.text",{error:t.name}),!0);i.on("close",function(){return n.props.onBack()})})},t.prototype.renderWithBEM=function(){return r.ReactBEM.createElement("div",{bem:"$b:webcam",ref:"container"},r.ReactBEM.createElement("video",{bem:"e:video",ref:"video",autoPlay:!0}))},t}(r.BaseComponent);t.default=f;f.propTypes={onReady:r.React.PropTypes.func}},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3),a=i(39),v=u(a),y=i(71),p=u(y),w=i(237),b=u(w);f=function(n){function t(){o.default(this,t);var i=h.default(this,n.call(this));return i._bindAll("_onCancel","_onWebcamReady","_onShutterClicked"),i.state={webcamReady:!1},i}return l.default(t,n),t.prototype._onWebcamReady=function(){this.setState({webcamReady:!0})},t.prototype._onCancel=function(){this.props.app.switchToScreen("back")},t.prototype._onShutterClicked=function(){var n=this,t=this.refs.webcam;t.makePhoto().then(function(t){n.props.app.setImage(t)}).catch(function(n){console.error&&console.error(n)})},t.prototype._renderScreen=function(){return r.ReactBEM.createElement("div",{bem:"$b:webcamScreen"},r.ReactBEM.createElement(p.default,{label:this._t("webcam.headline")},r.ReactBEM.createElement("bem",{specifier:"$b:subHeader"},r.ReactBEM.createElement("div",{bem:"e:cancelButton",onClick:this._onCancel},this._t("generic.cancel")),r.ReactBEM.createElement("div",{bem:"e:label"},this._t("webcam.headline")))),r.ReactBEM.createElement("div",{bem:"$b:canvas e:container e:row"},r.ReactBEM.createElement("div",{bem:"e:container e:cell"},r.ReactBEM.createElement(b.default,{ref:"webcam",onReady:this._onWebcamReady,onBack:this._onCancel}))),r.ReactBEM.createElement("div",{bem:"$b:controls $e:container e:row"},r.ReactBEM.createElement("div",{bem:"e:cell"},r.ReactBEM.createElement("bem",{specifier:"b:webcamScreen"},r.ReactBEM.createElement("div",{bem:"$e:shutterButton",onClick:this._onShutterClicked,className:this.state.webcamReady?"is-active":!1},r.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/webcam/shutter.png",!0)}))))))},t}(v.default);t.default=f},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(0),o=u(e),s=i(2),h=u(s),c=i(1),l=u(c),r=i(3);f=function(n){function t(){return o.default(this,t),h.default(this,n.apply(this,arguments))}return l.default(t,n),t.prototype.renderWithBEM=function(){return r.ReactBEM.createElement("bem",{specifier:"$b:subHeader"},r.ReactBEM.createElement("div",{bem:"$e:backButton",onClick:this.props.onClick},r.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("top-bar/back.png",!0)}),r.ReactBEM.createElement("div",{bem:"e:label"},this.props.label)))},t}(r.BaseComponent);t.default=f},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={EVENTS:{RENDER:"render",EXPORT:"export",CLOSE:"close",ZOOM:"zoom",ZOOM_DONE:"zoom:done",ZOOM_UNDO:"zoom:undo",OPERATION_CREATED:"operation:created",OPERATION_UPDATED:"operation:updated",OPERATION_REMOVED:"operation:removed",FEATURES_DISABLED:"editor:features:disabled",FEATURES_ENABLED:"editor:features:enabled",FEATURES_UPDATED:"editor:features:updated",COLORPICKER_OPEN:"colorpicker:open",HISTORY_UPDATED:"history:update",HISTORY_UNDO:"history:undo",WINDOW_RESIZE:"window:resize",CONTROLS_SWITCHED:"controls:switched"},DEFAULTS:{TEXT:"Double-click to edit",CROP_RATIOS:[{name:"custom",ratio:"*",selected:!0},{name:"square",ratio:1},{name:"4-3",ratio:1.33},{name:"16-9",ratio:1.77}],FONTS:[{name:"helvetica",fontFamily:"Helvetica",fontWeight:"normal"},{name:"verdana",fontFamily:"Verdana",fontWeight:"normal"},{name:"timesnewroman",fontFamily:"Times New Roman",fontWeight:"normal"},{name:"impact",fontFamily:"Impact",fontWeight:"normal","default":!0}],STICKER_CATEGORIES:[{name:"glasses",label:"Glasses",stickers:[{name:"glasses-nerd",label:"Nerd glasses",images:{mediaThumb:{uri:"stickers/thumb/glasses-nerd.png",width:100,height:100},mediaBase:{uri:"stickers/base/glasses-nerd.png",width:221,height:91}}},{name:"glasses-normal",label:"Normal glasses",images:{mediaThumb:{uri:"stickers/thumb/glasses-normal.png",width:100,height:100},mediaBase:{uri:"stickers/base/glasses-normal.png",width:249,height:87}}},{name:"glasses-shutter-green",label:"Green shutter glasses",images:{mediaThumb:{uri:"stickers/thumb/glasses-shutter-green.png",width:100,height:100},mediaBase:{uri:"stickers/base/glasses-shutter-green.png",width:235,height:89}}},{name:"glasses-shutter-yellow",label:"Yellow shutter glasses",images:{mediaThumb:{uri:"stickers/thumb/glasses-shutter-yellow.png",width:100,height:100},mediaBase:{uri:"stickers/base/glasses-shutter-yellow.png",width:236,height:89}}},{name:"glasses-sun",label:"Sun glasses",images:{mediaThumb:{uri:"stickers/thumb/glasses-sun.png",width:100,height:100},mediaBase:{uri:"stickers/base/glasses-sun.png",width:250,height:87}}}]},{name:"hats",label:"Hats",stickers:[{name:"hat-cap",label:"Cap",images:{mediaThumb:{uri:"stickers/thumb/hat-cap.png",width:100,height:100},mediaBase:{uri:"stickers/base/hat-cap.png",width:237,height:189}}},{name:"hat-cylinder",label:"Cylinder",images:{mediaThumb:{uri:"stickers/thumb/hat-cylinder.png",width:100,height:100},mediaBase:{uri:"stickers/base/hat-cylinder.png",width:225,height:176}}},{name:"hat-party",label:"Party hat",images:{mediaThumb:{uri:"stickers/thumb/hat-party.png",width:100,height:100},mediaBase:{uri:"stickers/base/hat-party.png",width:140,height:226}}},{name:"hat-sheriff",label:"Sheriff hat",images:{mediaThumb:{uri:"stickers/thumb/hat-sheriff.png",width:100,height:100},mediaBase:{uri:"stickers/base/hat-sheriff.png",width:251,height:129}}}]},{name:"beards",label:"Beards",stickers:[{name:"mustache-long",label:"Long mustache",images:{mediaThumb:{uri:"stickers/thumb/mustache-long.png",width:100,height:100},mediaBase:{uri:"stickers/base/mustache-long.png",width:199,height:182}}},{name:"mustache1",label:"Brown mustache",images:{mediaThumb:{uri:"stickers/thumb/mustache1.png",width:100,height:100},mediaBase:{uri:"stickers/base/mustache1.png",width:238,height:106}}},{name:"mustache2",label:"Black mustache",images:{mediaThumb:{uri:"stickers/thumb/mustache2.png",width:100,height:100},mediaBase:{uri:"stickers/base/mustache2.png",width:250,height:82}}},{name:"mustache3",label:"Brown mustache",images:{mediaThumb:{uri:"stickers/thumb/mustache3.png",width:100,height:100},mediaBase:{uri:"stickers/base/mustache3.png",width:250,height:94}}}]},{name:"misc",label:"Misc",stickers:[{name:"heart",label:"Heart",images:{mediaThumb:{uri:"stickers/thumb/heart.png",width:100,height:100},mediaBase:{uri:"stickers/base/heart.png",width:185,height:174}}},{name:"pipe",label:"Pipe",images:{mediaThumb:{uri:"stickers/thumb/pipe.png",width:100,height:100},mediaBase:{uri:"stickers/base/pipe.png",width:240,height:112}}},{name:"snowflake",label:"Snow flake",images:{mediaThumb:{uri:"stickers/thumb/snowflake.png",width:100,height:100},mediaBase:{uri:"stickers/base/snowflake.png",width:204,height:171}}},{name:"star",label:"Star",images:{mediaThumb:{uri:"stickers/thumb/star.png",width:100,height:100},mediaBase:{uri:"stickers/base/star.png",width:201,height:191}}}]}]}}},function(n,t,i){"use strict";function d(n){var t,i;if(n&&n.__esModule)return n;if(t={},n!=null)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t.default=n,t}function u(n){return n&&n.__esModule?n:{"default":n}}var f,e;Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),s=u(o),h=i(2),c=u(h),l=i(1),a=u(l),r=i(3),v=i(196),y=d(v),p=i(242),w=u(p),b=i(245),k=u(b);f=300;e=function(n){function t(i,u){s.default(this,t);var f=c.default(this,n.call(this));f._options=i;f._mediator=u;f._isDefaultZoom=!1;f._ready=!1;f._initSDK();f._initOperations();f._initControls();f._features={drag:!0,zoom:!0};f._history=[];f._operationsMap={};f._operationsStack=f._sdk.getOperationsStack();f._preferredOperationOrder=f._options.operationsOrder;f._running=!1;f._renderRequested=!0;f._renderCallbacks=[];f._animationFrameRequest=null;f._previousZoom=null;f.setZoom=f.setZoom.bind(f);f.undoZoom=f.undoZoom.bind(f);f.render=f.render.bind(f);f._tick=f._tick.bind(f);f._mediator.on(r.Constants.EVENTS.RENDER,f.render);f._mediator.on(r.Constants.EVENTS.ZOOM,f.setZoom);f._mediator.on(r.Constants.EVENTS.ZOOM_UNDO,f.undoZoom);return f._fixOperationsStack(),f._initWatermark(),f}return a.default(t,n),t.prototype.setImage=function(){var t=this,n=arguments.length<=0||arguments[0]===undefined?this._options.image:arguments[0],e=this._sdk.getRenderer(),o=new r.Vector2(n.width,n.height),s=this.getMaxMegapixels()*1e6,h=e.getMaxDimensions(),i=new k.default(n,s,h),u=null,f=function(n){var i=arguments.length<=1||arguments[1]===undefined?o:arguments[1],r=arguments.length<=2||arguments[2]===undefined?null:arguments[2];t._setImage(n,u,i);t._ready=!0;t.emit("ready")};i.needsResize()?(this.emit("resize"),u=this._sdk.parseExif(n),i.resize().then(function(n){var i=n.canvas,r=n.dimensions,u=n.reason;i.src="data:image/jpeg;base64,";t.emit("resized",{dimensions:r,reason:u});f(i,r,u)})):f(n)},t.prototype._initWatermark=function(){this._options.watermark&&(this._watermarkOperation=this.getOrCreateOperation("watermark",{image:this._options.watermark}))},t.prototype._initSDK=function(){var n=this._options,t=n.preferredRenderer,i=n.logLevel,u=n.displayWelcomeMessage,f=n.pixelRatio,e=n.debug,o=n.smoothDownscaling,s={logLevel:i,debug:e,displayWelcomeMessage:u,pixelRatio:f,smoothDownscaling:o,transparent:!0};this._sdk=new r.SDK(t,s);window.sdk=this._sdk},t.prototype._initOperations=function(){this._availableOperations=this._sdk.getOperations()},t.prototype._fixOperationsStack=function(){var n=this,t=this._operationsStack.getStack().slice();this._operationsStack.clear();t.forEach(function(t){n.addOperation(t)})},t.prototype._initControls=function(){this._availableControls=r.SDKUtils.extend({},y,this._options.extensions.controls)},t.prototype.isFeatureEnabled=function(n){var t=n.charAt(0).toUpperCase()+n.slice(1),i=this._options["enable"+t];return this._features[n]&&i},t.prototype.enableFeatures=function(){for(var u=this,i=arguments.length,n=Array(i),t=0;t<i;t++)n[t]=arguments[t];n.forEach(function(n){u._features[n]=!0});this._mediator.emit(r.Constants.EVENTS.FEATURES_ENABLED,n);this._mediator.emit(r.Constants.EVENTS.FEATURES_UPDATED,n)},t.prototype.disableFeatures=function(){for(var u=this,i=arguments.length,n=Array(i),t=0;t<i;t++)n[t]=arguments[t];n.forEach(function(n){u._features[n]=!1});this._mediator.emit(r.Constants.EVENTS.FEATURES_DISABLED,n);this._mediator.emit(r.Constants.EVENTS.FEATURES_UPDATED,n)},t.prototype.zoomIn=function(){var n=this._sdk.getZoom();this.setZoom(n+.1)},t.prototype.zoomOut=function(){var n=this._sdk.getZoom();this.setZoom(n-.1)},t.prototype.undoZoom=function(){this._previousZoom&&(this.setZoom(this._previousZoom),this._previousZoom=null)},t.prototype.getZoom=function(){return this._sdk.getZoom()},t.prototype.setZoom=function(n,t){var o=this,i,u,f,e;this._ready&&(this._previousZoom=this._sdk.getZoom(),i=n,u=this.getDefaultZoom(),n==="auto"||i===u?(i=u,n="auto",this._isDefaultZoom=!0):this._isDefaultZoom=!1,f=Math.max(1,u*2),e=this.getMinimumZoom(),i=Math.max(e,Math.min(f,i)),this._sdk.setZoom(i),this.fixOffset(),this.render(function(){o._mediator.emit(r.Constants.EVENTS.ZOOM_DONE);t&&t()}))},t.prototype.getDefaultZoom=function(){var n=this.getFinalDimensions(),t=this.getCanvasDimensions(),i=r.SDKUtils.resizeVectorToFit(n,t);return i.divide(n).x},t.prototype.getMinimumZoom=function(){var n=this.getFinalDimensions(),t=r.SDKUtils.resizeVectorToFit(n,new r.Vector2(f,f));return t.divide(n).x},t.prototype.historyAvailable=function(){return!!this._history.length},t.prototype.undo=function(){var t=this._history.pop();if(t){var n=t.operation,i=t.existent,u=t.options;i?(n=this.getOrCreateOperation(n.constructor.identifier),n.set(u),this._mediator.emit(r.Constants.EVENTS.OPERATION_UPDATED,n)):this.removeOperation(n);this._mediator.emit(r.Constants.EVENTS.HISTORY_UPDATED,n);this._mediator.emit(r.Constants.EVENTS.HISTORY_UNDO,n);this.render()}},t.prototype.addHistory=function(n,t,i){var u={operation:n,options:t,existent:i};return this._history.push(u),this._mediator.emit(r.Constants.EVENTS.HISTORY_UPDATED,n),u},t.prototype.isControlEnabled=function(n){var t=this.getControl(n);return t?t.isAvailable&&t.isAvailable(this):(r.Log.info(this.constructor.name,"#isControlEnabled: Unknown control: "+n),!1)},t.prototype.getControl=function(n){return this._availableControls[n]},t.prototype.getAvailableControls=function(){return this._availableControls},t.prototype.isToolEnabled=function(n){return this._options.tools.indexOf(n)!==-1},t.prototype.getOrCreateOperation=function(n){var r=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],i,t;return this._operationsMap[n]?this._operationsMap[n]:(i=this._availableOperations[n],t=new i(this._sdk,r),this.addOperation(t),t)},t.prototype.addOperation=function(n){var u=this,t=n.constructor.identifier,i;n.on("updated",function(){u._mediator.emit(r.Constants.EVENTS.OPERATION_UPDATED,n)});if(i=this._preferredOperationOrder.indexOf(t),i===-1)throw new Error("Editor#addOperation: `"+t+"` does not appear in `preferredOperationOrder`");this._operationsStack.set(i,n);this._operationsMap[t]=n;this._mediator.emit(r.Constants.EVENTS.OPERATION_CREATED,n)},t.prototype.removeOperation=function(n){var e=n.constructor.identifier,u=this._operationsStack.getStack(),t,i,f;if(this._operationsMap[e]===n&&delete this._operationsMap[e],t=u.indexOf(n),t!==-1){for(this._operationsStack.removeAt(t),i=t+1;i<u.length;i++)(f=u[i],f)&&f.setDirty(!0);this._mediator.emit(r.Constants.EVENTS.OPERATION_REMOVED,n)}},t.prototype.getOperation=function(n){return this._operationsMap[n]},t.prototype.operationExists=function(n){return!!this._operationsMap[n]},t.prototype.getMaxMegapixels=function(){var n=this._options.maxMegaPixels;return r.Utils.isMobile()?n.mobile:n.desktop},t.prototype.getOutputDimensions=function(){return this._sdk.getOutputDimensions()},t.prototype.getFinalDimensions=function(){return this._sdk.getFinalDimensions()},t.prototype.getCanvasDimensions=function(){var n=this._sdk.getCanvas();return new r.Vector2(n.offsetWidth,n.offsetHeight)},t.prototype._setImage=function(){var n=arguments.length<=0||arguments[0]===undefined?this._options.image:arguments[0],t=arguments.length<=1||arguments[1]===undefined?null:arguments[1],i=arguments.length<=2||arguments[2]===undefined?null:arguments[2];this._sdk.setAllOperationsToDirty();this._options.image=n;this._sdk.setImage(n,t,i);this.setZoom("auto");this.emit("new-image")},t.prototype.export=function(){var n=this,u=arguments.length<=0||arguments[0]===undefined?!1:arguments[0],t,i;return this._watermarkOperation&&this._watermarkOperation.setEnabled(!1),this._sdk.setAllOperationsToDirty(),t=this._options.export,i=new w.default(this._sdk,t,u),i.export().then(function(t){return n.emit("export",t),n._mediator.emit(r.Constants.EVENTS.EXPORT,t,n),n._watermarkOperation&&n._watermarkOperation.setEnabled(!0),n._sdk.setAllOperationsToDirty(),t})},t.prototype.start=function(){this.setZoom("auto");this._animationFrameRequest=r.requestAnimationFrame(this._tick)},t.prototype.stop=function(){this._running=!1;this._animationFrameRequest&&(r.cancelAnimationFrame(this._animationFrameRequest),this._renderCallbacks=[])},t.prototype.render=function(n){this._renderRequested=!0;n&&this._renderCallbacks.push(n)},t.prototype.setOffset=function(n){n=this._clampOffset(n);this._sdk.setOffset(n)},t.prototype.getOffset=function(){return this._sdk.getOffset()},t.prototype.fixOffset=function(){this.setOffset(this._sdk.getOffset())},t.prototype._clampOffset=function(n){var t=this._sdk.getRenderer(),i=new r.Vector2(t.getWidth(),t.getHeight()),u=this._sdk.getOutputDimensions(),f=i.clone().subtract(u).divide(2).clamp(null,new r.Vector2(0,0)),e=u.clone().subtract(i).divide(2).clamp(new r.Vector2(0,0),null);return n.clone().clamp(f,e).round()},t.prototype._tick=function(){var n=this;this._renderRequested?function(){var t=n._renderCallbacks.slice(0);n._renderCallbacks=[];n._render().then(function(){t.forEach(function(n){return n()});n._animationFrameRequest=r.requestAnimationFrame(n._tick)});n._renderRequested=!1}():this._animationFrameRequest=r.requestAnimationFrame(this._tick)},t.prototype._render=function(){var n=this;return this._ready?this._sdk.render().then(function(){n._lastOutputBounds=n._sdk.getSprite().getBounds()}).catch(function(t){n.emit("render-error",t)}):r.Promise.resolve()},t.prototype.reset=function(){this._sdk.reset();this._history=[];this._operationsMap={}},t.prototype.dispose=function(){this.stop();this._sdk.dispose();this._mediator.off(r.Constants.EVENTS.RENDER,this.render);this._mediator.off(r.Constants.EVENTS.ZOOM,this.setZoom);this._mediator.off(r.Constants.EVENTS.ZOOM_UNDO,this.undoZoom)},t.prototype.isReady=function(){return this._ready},t.prototype.getRenderer=function(){return this._sdk.getRenderer()},t.prototype.getSDK=function(){return this._sdk},t.prototype.isDefaultZoom=function(){return this._isDefaultZoom},t.prototype.getInputDimensions=function(){return this._sdk.getInputDimensions()},t.prototype.getOperationsStack=function(){return this._operationsStack},t}(r.EventEmitter);t.default=e},function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}var e;Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),s=f(o),r=i(3),h=i(243),u=f(h);e=function(){function n(t,i,r){s.default(this,n);this._sdk=t;this._options=i;this._download=r}return n.prototype.export=function(){var n=this,t=this._getRenderType();return this._sdk.export(t,this._options.format).then(function(i){return n._download&&n._downloadData(t,i),i})},n.prototype._downloadData=function(n,t){switch(n){case r.RenderType.DATAURL:u.default.downloadDataURL(t);break;case r.RenderType.MSBLOB:u.default.downloadMSBlob(t)}},n.prototype._getRenderType=function(){var n=this._options;return n.type===r.RenderType.IMAGE&&this._download?r.Utils.supportsMSBlob()?r.RenderType.MSBLOB:r.RenderType.DATAURL:n.type},n}();t.default=e},function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}var r;Object.defineProperty(t,"__esModule",{value:!0});var u=i(0),f=o(u),e=i(3);r=function(){function n(){f.default(this,n)}return n.downloadDataURL=function(n){var i=arguments.length<=1||arguments[1]===undefined?"photoeditorsdk-export":arguments[1],r=this.createBlobURLFromDataURL(n),u=this.getExtensionFromDataURL(n),t=document.createElement("a");t.download=i+"."+u;t.href=r;document.body.appendChild(t);t.click();document.body.removeChild(t)},n.downloadMSBlob=function(n){var t=arguments.length<=1||arguments[1]===undefined?"photoeditorsdk-export":arguments[1];navigator.msSaveBlob(n,t+".png")},n.getExtensionFromDataURL=function(n){var t=n.split(",")[0].split(":")[1].split(";")[0];return t.split("/").pop()},n.createBlobURLFromDataURL=function(n){var t,u;if(!window.Blob||!window.URL||!ArrayBuffer||!Uint8Array)return n;var i=e.Base64.decode(n.split(",")[1]),f=n.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(i.length),o=new Uint8Array(r);for(t=0;t<i.length;t++)o[t]=i[t];return u=new window.Blob([r],{type:f}),window.URL.createObjectURL(u)},n}();t.default=r},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var u;Object.defineProperty(t,"__esModule",{value:!0});var f=i(0),e=r(f),o=i(2),s=r(o),h=i(1),c=r(h),l=i(3);u=function(n){function t(i){e.default(this,t);var r=s.default(this,n.call(this));return r._input=i,r._onFileChange=r._onFileChange.bind(r),r._input.addEventListener("change",r._onFileChange),r}return c.default(t,n),t.prototype.open=function(){this._input.value=null;this._input.click()},t.prototype._handleFile=function(n){var i=this,t=new window.FileReader;t.onload=function(){return function(n){var r=n.target.result,t=new window.Image;t.addEventListener("load",function(){i.emit("file",t)});t.src=r}}(n);t.readAsDataURL(n)},t.prototype._onFileChange=function(){var n=this._input.files;n.length&&this._handleFile(n[0])},t.prototype.dispose=function(){this._input.removeEventListener("change",this._onFileChange)},t}(l.EventEmitter);t.default=u},function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}var u;Object.defineProperty(t,"__esModule",{value:!0});var f=i(0),e=o(f),r=i(3);u=function(){function n(t,i,r){e.default(this,n);this._image=t;this._maxPixels=i;this._maxDimensions=r}return n.prototype.needsResize=function(){var n=new r.Vector2(this._image.width,this._image.height),t=n.x*n.y,i=t>this._maxPixels,u=this._maxDimensions!==null&&(n.x>this._maxDimensions||n.y>this._maxDimensions);return i||u},n.prototype.resize=function(){var n=this,i=null,u=null,t=this._maxDimensions;return new r.Promise(function(f){window.setTimeout(function(){var s=new r.Vector2(n._image.width,n._image.height),e=s.clone(),o;e.x*e.y>n._maxPixels&&(e.copy(n._getDimensionsByMaxPixels()),i="maxMegaPixels");t!==null&&(e.x>t||e.y>t)&&(o=Math.min(t/e.x,t/e.y),e.multiply(o),i="maxDimensions");e.floor();u=n._createResizedImageCanvas(e);f({canvas:u,dimensions:e,reason:i})},1e3)})},n.prototype._createResizedImageCanvas=function(n){var i=arguments.length<=1||arguments[1]===undefined?n:arguments[1],r=this._image,t=document.createElement("canvas"),u,f;return t.width=n.x,t.height=n.y,u=n.clone().subtract(i).divide(2),f=t.getContext("2d"),f.drawImage(r,0,0,r.width,r.height,u.x,u.y,i.x,i.y),t},n.prototype._getDimensionsByMaxPixels=function(){var n=this._image,t=this._maxPixels,i=n.width/n.height,u=n.height/n.width;return new r.Vector2(Math.sqrt(t*i),Math.sqrt(t*u)).floor()},n}();t.default=u},function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}var u,f,r;Object.defineProperty(t,"__esModule",{value:!0});u=i(0);f=e(u);r=function r(n,t){f.default(this,r);this.library=n;this.id=t.id;this.name=t.name;this.coverImage=t.coverImage};t.default=r},function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}var u,f,r;Object.defineProperty(t,"__esModule",{value:!0});u=i(0);f=e(u);r=function r(n){f.default(this,r);this.id=n.id;this.name=n.name;this.categories=n.categories};t.default=r},function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}var u,f,r;Object.defineProperty(t,"__esModule",{value:!0});u=i(0);f=e(u);r=function r(n,t){f.default(this,r);this.category=n;this.title=t.title;this.urls=t.urls};t.default=r},function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}var u;Object.defineProperty(t,"__esModule",{value:!0});var f=i(0),e=o(f),r=i(3);u=function(){function n(){e.default(this,n)}return n.prototype.getLibraries=function(){return r.Log.warn(this.constructor.name,"`getLibraries` is abstract and not implemented."),Promise.resolve([])},n.prototype.getCategoriesForLibrary=function(){return r.Log.warn(this.constructor.name,"`getCategoriesForLibrary` is abstract and not implemented."),Promise.resolve([])},n.prototype.getPhotosForCategory=function(){return r.Log.warn(this.constructor.name,"`getPhotosForCategory` is abstract and not implemented."),Promise.resolve([])},n.prototype.searchPhotos=function(){return r.Log.warn(this.constructor.name,"`searchPhotos` is abstract and not implemented."),Promise.resolve([])},n}();t.default=u},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var f=i(50),e=r(f),o=i(0),s=r(o),h=i(2),c=r(h),l=i(1),a=r(l),v=i(63),u=r(v);var y=u.default.EventEmitter,p=u.default.Utils,w=function(n){function t(){var r=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],i;return s.default(this,t),i=c.default(this,n.call(this)),i._state=r,i}return a.default(t,n),t.prototype.set=function(){var n=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],t=arguments.length<=1||arguments[1]===undefined?!0:arguments[1];(typeof n=="undefined"?"undefined":e.default(n))!=="object"&&console&&console.warn("SharedState#set expects an object as first parameter");this._state=p.extend(this._state,n);t&&this.broadcastUpdate(n)},t.prototype.get=function(n){return this._state[n]},t.prototype.broadcastUpdate=function(){var n=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.emit("update",n)},t.prototype.clear=function(){this._state={}},t}(y);t.default=w},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var u,f;Object.defineProperty(t,"__esModule",{value:!0});var e=i(63),o=r(e),s=i(114),h=r(s),c=i(107),l=r(c);u=o.default.Math.Vector2;f={getInnerDimensionsForElement:function(n){var t=new u(n.offsetWidth,n.offsetHeight),i=window.getComputedStyle(n,null);return t.x-=parseInt(i.getPropertyValue("padding-left"),10),t.x-=parseInt(i.getPropertyValue("padding-right"),10),t.y-=parseInt(i.getPropertyValue("padding-top"),10),t.y-=parseInt(i.getPropertyValue("padding-bottom"),10),t},getEventPosition:function(n){var t=n.clientX,i=n.clientY;return n.type.indexOf("touch")!==-1&&(t=n.touches[0].clientX,i=n.touches[0].clientY),new u(t,i)},createTransparentPatternCanvas:function(){var n=document.createElement("canvas"),t=n.getContext("2d");return n.width=10,n.height=10,t.fillStyle="white",t.fillRect(0,0,n.width,n.height),t.fillStyle="#cccccc",t.fillRect(0,0,n.width/2,n.height/2),t.fillRect(n.width/2,n.height/2,n.width,n.height),n},supportsMSBlob:function(){var n=document.createElement("canvas");return typeof n.msToBlob!="undefined"},translate:function(n,t){var u=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],i=this.fetch(n,t),r;if(!i)return h.default.warn("Utils#translate","Unable to translate `"+t+"`"),t;for(r in u)i=i.replace("${"+r+"}",u[r]);return i},fetch:function(n,t){var r,i,u;for(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),r=t.split("."),i=0;i<r.length;i++)if(u=r[i],n=n[u],!n)break;return typeof n=="undefined"?!1:n},isMobile:function(){var n=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4))},select:function(n,t){var i=arguments.length<=2||arguments[2]===undefined?null:arguments[2],r;return i||(i=function(n){return n}),r=[],t.forEach(function(t){n.forEach(function(n){var u=i(n);u===t&&r.push(n)})}),r},getJSONP:function(n){var t=new l.default(n);return t.load()},mergeCategories:function(n,t,i){n=n.slice(0);var r=null;return t.forEach(function(t){n.forEach(function(n){t.name===n.name&&(r=n)});r?r[i]=r[i].concat(t[i]):n.push(t)}),n},getStyleObject:function(n){var r=window.getComputedStyle(n),u={},t,i,f;for(t in r)i=r.getPropertyValue(t),f=t.replace(/\-([a-z])/g,function(n,t){return t.toUpperCase()}),i!==""&&(u[f]=i);return u},debounce:function(n,t,i){var r;return function(){var f=this,u=arguments,e=function(){r=null;i||n.apply(f,u)},o=i&&!r;clearTimeout(r);r=setTimeout(e,t);o&&n.apply(this,u)}}};t.default=f},function(n,t,i){"use strict";function et(n){var t,i;if(n&&n.__esModule)return n;if(t={},n!=null)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t.default=n,t}function f(n){return n&&n.__esModule?n:{"default":n}}var c=i(0),e=f(c),l=i(2),o=f(l),a=i(1),s=f(a),r=i(3),v=i(163),y=f(v),p=i(16),w=f(p),b=i(10),k=f(b),d=i(17),g=f(d),nt=i(107),tt=f(nt),it=i(164),rt=et(it),ut=i(11),ft=f(ut),u,h;
/*!
	 * This file is part of PhotoEditorSDK.
	 *
	 * Copyright (C) 2016 9elements GmbH <contact@9elements.com>
	 * All rights reserved.
	 *
	 * Redistribution and use in source and binary forms, without
	 * modification, are permitted provided that the following license agreement
	 * is approved and a legal/financial contract was signed by the user.
	 * The license agreement can be found under following link:
	 *
	 * https://www.photoeditorsdk.com/LICENSE.txt
	 */
u=function(n){function t(){var u=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],i;return e.default(this,t),i=o.default(this,n.call(this)),i._mediator=new r.EventEmitter,i._options=u,i._initOptions(),i._initLanguage(),i._initEvents(),i._disposed=!1,i.run(),i}return s.default(t,n),t.prototype.run=function(){this._registerWebFonts();this._options.container.style.position="relative";this._render()},t.prototype._render=function(){var n=r.React.createElement(y.default,{ui:this,mediator:this._mediator,options:this._options});if(this._options.renderReturnsComponent)return n;this._component=r.ReactDOM.render(n,this._options.container)},t.prototype.export=function(){var n;return(n=this._component).export.apply(n,arguments)},t.prototype._initOptions=function(){this._options=r.SDKUtils.defaults(this._options,{preferredRenderer:"webgl",language:"en",title:"PhotoEditor SDK",maxMegaPixels:{},responsive:!1,enableZoom:!0,enableDrag:!0,enableWebcam:!0,pixelRatio:typeof window!="undefined"&&window.devicePixelRatio||1,assets:{},tools:["crop","rotation","flip","filter","brightness","saturation","contrast","clarity","exposure","shadows","highlights","text","sticker","brush","radial-focus","linear-focus","border"],smoothDownscaling:!1,controlsOrder:[["crop","orientation"],["filter","adjustments"],["text","sticker","brush"],["focus","border"]],operationsOrder:["exif-orientation","orientation","crop","filter","adjustments","radial-focus","linear-focus","border","sprite","brush","watermark"],controlsOptions:{},enableUpload:!0,showCloseButton:!1,showHeader:!0,showTopBar:!0});typeof this._options.maxMegaPixels!="number"&&(this._options.maxMegaPixels=r.SDKUtils.defaults(this._options.maxMegaPixels,{mobile:5,desktop:10}));this._options.extensions=r.SDKUtils.defaults(this._options.extensions||{},{languages:{},operations:[],controls:[]});this._options.assets=r.SDKUtils.defaults(this._options.assets||{},{baseUrl:"/assets",resolver:null});this._options.export=r.SDKUtils.defaults(this._options.export||{},{showButton:!0,format:"image/png",type:r.RenderType.IMAGE,download:!0})},t.prototype._registerWebFonts=function(){var t=this.getAssetPath("fonts/montserrat-regular.woff",!0,!0),i=this.getAssetPath("fonts/montserrat-light.woff",!0,!0),r='\n      // Injected by PhotoEditorSDK\n      @font-face {\n        font-family: "__pesdk_Montserrat";\n        src: url(\''+t+"') format('woff');\n        font-weight: normal;\n        font-style: normal;\n      }\n\n      @font-face {\n        font-family: \"__pesdk_Montserrat\";\n        src: url('"+i+"') format('woff');\n        font-weight: 100;\n        font-style: normal;\n      }\n    ",n;this._webFontsStyle=document.createElement("style");this._webFontsStyle.innerHTML=r;n=document.getElementsByTagName("head")[0];n.appendChild(this._webFontsStyle)},t.prototype._initEvents=function(){this._mediator.pipeEvents(this)},t.prototype._disposeEvents=function(){this._mediator.unpipeEvents(this)},t.prototype._initLanguage=function(){this._languages=r.SDKUtils.deepDefaults(this._options.extensions.languages,{de:i(165),en:i(166)});this._language=this._languages[this._options.language];this._language||r.Log.error(this.constructor.name,"Language `"+this._options.language+"` not found!")},t.prototype.translate=function(n,t){return r.Utils.translate(this._language,n,t)},t.prototype.setImage=function(n){if(this._component)return this._component.setImage(n),this},t.prototype.getAssetPath=function(n){var o=arguments.length<=1||arguments[1]===undefined?!1:arguments[1],s=arguments.length<=2||arguments[2]===undefined?!1:arguments[2],r=this._options.assets,u=r.baseUrl,i=r.resolver,t=u+"/"+n,f,e;return o&&(s||(f=typeof window!="undefined"&&window.devicePixelRatio||1,f>1&&(e=/\.[\w\?=]+$/,n=n.replace(e,function(n){return"@2x"+n}))),t=u+"/ui/react/"+n),typeof i!="undefined"&&i!==null&&(t=i(t)),t},t.prototype.dispose=function(){if(this._disposed)throw new Error("This instance of PhotoEditorSDK is already disposed.");this._disposed=!0;this._webFontsStyle.parentNode.removeChild(this._webFontsStyle);r.ReactDOM.unmountComponentAtNode(this._options.container);this._disposeEvents()},t}(r.EventEmitter);u.prototype.identifier="react";u.BaseComponent=r.BaseComponent;u.Controls=ft.default;u.ControlsComponent=k.default;u.React=r.React;u.ReactBEM=r.ReactBEM;u.SharedState=r.SharedState;u.Constants=r.Constants;u.Utils=r.Utils;u.ScrollbarComponent=w.default;u.ModalManager=g.default;u.JSONLoader=tt.default;u.PhotoRoll=rt;h=function(n){function t(){var r;e.default(this,t);for(var f=arguments.length,s=Array(f),i=0;i<f;i++)s[i]=arguments[i];return r=o.default(this,n.call.apply(n,[this].concat(s))),r._ui=new u(r.props),r}return s.default(t,n),t.prototype.render=function(){return this._ui.render()},t}(r.React.Component);u.ReactComponent=h;r.PhotoEditorSDK.UI=r.PhotoEditorSDK.UI||{};r.PhotoEditorSDK.UI.ReactUI=u;n.exports=u},function(n,t,i){"use strict";(function(n){var i;Object.defineProperty(t,"__esModule",{value:!0});
/*!
	 * http://paulirish.com/2011/requestanimationframe-for-smart-animating/
	 * http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating
	 * requestAnimationFrame polyfill by Erik Mller. fixes from Paul Irish and Tino Zijdel
	 * MIT license
	 */
var r=typeof window=="undefined"?n:window,u=r.requestAnimationFrame,f=r.cancelAnimationFrame,o=0,e=["ms","moz","webkit","o"];for(i=0;i<e.length&&!u;++i)t.requestAnimationFrame=u=r[e[i]+"RequestAnimationFrame"],t.cancelAnimationFrame=f=r[e[i]+"CancelAnimationFrame"]||r[e[i]+"CancelRequestAnimationFrame"];u||(t.requestAnimationFrame=u=function(n){var t=(new Date).getTime(),i=Math.max(0,16-(t-o)),r=setTimeout(function(){n(t+i)},i);return o=t+i,r});f||(t.cancelAnimationFrame=f=function(n){clearTimeout(n)});t.requestAnimationFrame=u;t.cancelAnimationFrame=f}).call(t,i(162))},function(n,t,i){n.exports={"default":i(261),__esModule:!0}},function(n,t,i){n.exports={"default":i(262),__esModule:!0}},function(n,t,i){n.exports={"default":i(263),__esModule:!0}},function(n,t,i){n.exports={"default":i(265),__esModule:!0}},function(n,t,i){n.exports={"default":i(266),__esModule:!0}},function(n,t,i){n.exports={"default":i(267),__esModule:!0}},function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var r=i(254),u=f(r);t.default=function(n){if(Array.isArray(n)){for(var t=0,i=Array(n.length);t<n.length;t++)i[t]=n[t];return i}return u.default(n)}},function(n,t,i){i(127);i(291);n.exports=i(21).Array.from},function(n,t,i){i(293);n.exports=i(21).Object.assign},function(n,t,i){i(294);var r=i(21).Object;n.exports=function(n,t){return r.create(n,t)}},function(n,t,i){i(295);var r=i(21).Object;n.exports=function(n,t,i){return r.defineProperty(n,t,i)}},function(n,t,i){i(296);n.exports=i(21).Object.setPrototypeOf},function(n,t,i){i(298);i(297);i(299);i(300);n.exports=i(21).Symbol},function(n,t,i){i(127);i(301);n.exports=i(86).f("iterator")},function(n){n.exports=function(n){if(typeof n!="function")throw TypeError(n+" is not a function!");return n}},function(n){n.exports=function(){}},function(n,t,i){var r=i(32),u=i(126),f=i(289);n.exports=function(n){return function(t,i,e){var s=r(t),h=u(s.length),o=f(e,h),c;if(n&&i!=i){while(h>o)if(c=s[o++],c!=c)return!0}else for(;h>o;o++)if((n||o in s)&&s[o]===i)return n||o||0;return!n&&-1}}},function(n,t,i){var r=i(72),u=i(19)("toStringTag"),f=r(function(){return arguments}())=="Arguments",e=function(n,t){try{return n[t]}catch(i){}};n.exports=function(n){var t,i,o;return n===undefined?"Undefined":n===null?"Null":typeof(i=e(t=Object(n),u))=="string"?i:f?r(t):(o=r(t))=="Object"&&typeof t.callee=="function"?"Arguments":o}},function(n,t,i){"use strict";var r=i(25),u=i(46);n.exports=function(n,t,i){t in n?r.f(n,t,u(0,i)):n[t]=i}},function(n,t,i){var r=i(45),u=i(78),f=i(51);n.exports=function(n){var t=r(n),i=u.f;if(i)for(var e=i(n),h=f.f,o=0,s;e.length>o;)h.call(n,s=e[o++])&&t.push(s);return t}},function(n,t,i){n.exports=i(24).document&&document.documentElement},function(n,t,i){var r=i(44),u=i(19)("iterator"),f=Array.prototype;n.exports=function(n){return n!==undefined&&(r.Array===n||f[u]===n)}},function(n,t,i){var r=i(72);n.exports=Array.isArray||function(n){return r(n)=="Array"}},function(n,t,i){var r=i(34);n.exports=function(n,t,i,u){try{return u?t(r(i)[0],i[1]):t(i)}catch(e){var f=n["return"];f!==undefined&&r(f.call(n));throw e;}}},function(n,t,i){"use strict";var u=i(77),f=i(46),e=i(79),r={};i(35)(r,i(19)("iterator"),function(){return this});n.exports=function(n,t,i){n.prototype=u(r,{next:f(1,i)});e(n,t+" Iterator")}},function(n,t,i){var r=i(19)("iterator"),f=!1,u;try{u=[7][r]();u["return"]=function(){f=!0};Array.from(u,function(){throw 2;})}catch(e){}n.exports=function(n,t){var u,i,e;if(!t&&!f)return!1;u=!1;try{i=[7];e=i[r]();e.next=function(){return{done:u=!0}};i[r]=function(){return e};n(i)}catch(o){}return u}},function(n){n.exports=function(n,t){return{value:t,done:!!n}}},function(n,t,i){var r=i(45),u=i(32);n.exports=function(n,t){for(var i=u(n),f=r(i),s=f.length,e=0,o;s>e;)if(i[o=f[e++]]===t)return o}},function(n,t,i){var r=i(52)("meta"),o=i(43),f=i(31),s=i(25).f,h=0,u=Object.isExtensible||function(){return!0},c=!i(42)(function(){return u(Object.preventExtensions({}))}),e=function(n){s(n,r,{value:{i:"O"+ ++h,w:{}}})},l=function(n,t){if(!o(n))return typeof n=="symbol"?n:(typeof n=="string"?"S":"P")+n;if(!f(n,r)){if(!u(n))return"F";if(!t)return"E";e(n)}return n[r].i},a=function(n,t){if(!f(n,r)){if(!u(n))return!0;if(!t)return!1;e(n)}return n[r].w},v=function(n){return c&&y.NEED&&u(n)&&!f(n,r)&&e(n),n},y=n.exports={KEY:r,NEED:!1,fastKey:l,getWeak:a,onFreeze:v}},function(n,t,i){"use strict";var u=i(45),f=i(78),e=i(51),o=i(83),s=i(120),r=Object.assign;n.exports=!r||i(42)(function(){var n={},t={},i=Symbol(),u="abcdefghijklmnopqrst";return n[i]=7,u.split("").forEach(function(n){t[n]=n}),r({},n)[i]!=7||Object.keys(r({},t)).join("")!=u})?function(n){for(var r=o(n),v=arguments.length,h=1,c=f.f,y=e.f;v>h;)for(var t=s(arguments[h++]),l=c?u(t).concat(c(t)):u(t),p=l.length,a=0,i;p>a;)y.call(t,i=l[a++])&&(r[i]=t[i]);return r}:r},function(n,t,i){var r=i(25),u=i(34),f=i(45);n.exports=i(29)?Object.defineProperties:function(n,t){u(n);for(var i=f(t),s=i.length,e=0,o;s>e;)r.f(n,o=i[e++],t[o]);return n}},function(n,t,i){var f=i(32),r=i(123).f,e={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(n){try{return r(n)}catch(t){return u.slice()}};n.exports.f=function(n){return u&&e.call(n)=="[object Window]"?o(n):r(f(n))}},function(n,t,i){var u=i(31),f=i(83),r=i(80)("IE_PROTO"),e=Object.prototype;n.exports=Object.getPrototypeOf||function(n){return(n=f(n),u(n,r))?n[r]:typeof n.constructor=="function"&&n instanceof n.constructor?n.constructor.prototype:n instanceof Object?e:null}},function(n,t,i){var u=i(43),f=i(34),r=function(n,t){if(f(n),!u(t)&&t!==null)throw TypeError(t+": can't set as prototype!");};n.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(n,t,u){try{u=i(73)(Function.call,i(122).f(Object.prototype,"__proto__").set,2);u(n,[]);t=!(n instanceof Array)}catch(f){t=!0}return function(n,i){return r(n,i),t?n.__proto__=i:u(n,i),n}}({},!1):undefined),check:r}},function(n,t,i){var r=i(82),u=i(74);n.exports=function(n){return function(t,i){var e=String(u(t)),f=r(i),h=e.length,o,s;return f<0||f>=h?n?"":undefined:(o=e.charCodeAt(f),o<55296||o>56319||f+1===h||(s=e.charCodeAt(f+1))<56320||s>57343?n?e.charAt(f):o:n?e.slice(f,f+2):(o-55296<<10)+(s-56320)+65536)}}},function(n,t,i){var r=i(82),u=Math.max,f=Math.min;n.exports=function(n,t){return n=r(n),n<0?u(n+t,0):f(n,t)}},function(n,t,i){var r=i(271),u=i(19)("iterator"),f=i(44);n.exports=i(21).getIteratorMethod=function(n){if(n!=undefined)return n[u]||n["@@iterator"]||f[r(n)]}},function(n,t,i){"use strict";var f=i(73),r=i(30),e=i(83),o=i(277),s=i(275),h=i(126),u=i(272),c=i(290);r(r.S+r.F*!i(279)(function(n){Array.from(n)}),"Array",{from:function(n){var r=e(n),a=typeof this=="function"?this:Array,k=arguments.length,l=k>1?arguments[1]:undefined,v=l!==undefined,t=0,y=c(r),p,i,w,b;if(v&&(l=f(l,k>2?arguments[2]:undefined,2)),y==undefined||a==Array&&s(y))for(p=h(r.length),i=new a(p);p>t;t++)u(i,t,v?l(r[t],t):r[t]);else for(b=y.call(r),i=new a;!(w=b.next()).done;t++)u(i,t,v?o(b,l,[w.value,t],!0):w.value);return i.length=t,i}})},function(n,t,i){"use strict";var u=i(269),r=i(280),f=i(44),e=i(32);n.exports=i(121)(Array,"Array",function(n,t){this._t=e(n);this._i=0;this._k=t},function(){var t=this._t,i=this._k,n=this._i++;return!t||n>=t.length?(this._t=undefined,r(1)):i=="keys"?r(0,n):i=="values"?r(0,t[n]):r(0,[n,t[n]])},"values");f.Arguments=f.Array;u("keys");u("values");u("entries")},function(n,t,i){var r=i(30);r(r.S+r.F,"Object",{assign:i(283)})},function(n,t,i){var r=i(30);r(r.S,"Object",{create:i(77)})},function(n,t,i){var r=i(30);r(r.S+r.F*!i(29),"Object",{defineProperty:i(25).f})},function(n,t,i){var r=i(30);r(r.S,"Object",{setPrototypeOf:i(287).set})},function(){},function(n,t,i){"use strict";var b=i(24),r=i(31),it=i(29),e=i(30),at=i(125),fi=i(282).KEY,vt=i(42),rt=i(81),ut=i(79),ei=i(52),y=i(19),oi=i(86),si=i(85),hi=i(281),ci=i(273),li=i(276),ft=i(34),k=i(32),et=i(84),ot=i(46),p=i(77),yt=i(285),pt=i(122),wt=i(25),ai=i(45),bt=pt.f,c=wt.f,kt=yt.f,u=b.Symbol,d=b.JSON,g=d&&d.stringify,h="prototype",f=y("_hidden"),dt=y("toPrimitive"),vi={}.propertyIsEnumerable,nt=rt("symbol-registry"),s=rt("symbols"),w=rt("op-symbols"),o=Object[h],l=typeof u=="function",st=b.QObject,ht=!st||!st[h]||!st[h].findChild,ct=it&&vt(function(){return p(c({},"a",{get:function(){return c(this,"a",{value:7}).a}})).a!=7})?function(n,t,i){var r=bt(o,t);r&&delete o[t];c(n,t,i);r&&n!==o&&c(o,t,r)}:c,gt=function(n){var t=s[n]=p(u[h]);return t._k=n,t},lt=l&&typeof u.iterator=="symbol"?function(n){return typeof n=="symbol"}:function(n){return n instanceof u},tt=function(n,t,i){return(n===o&&tt(w,t,i),ft(n),t=et(t,!0),ft(i),r(s,t))?(i.enumerable?(r(n,f)&&n[f][t]&&(n[f][t]=!1),i=p(i,{enumerable:ot(0,!1)})):(r(n,f)||c(n,f,ot(1,{})),n[f][t]=!0),ct(n,t,i)):c(n,t,i)},ni=function(n,t){ft(n);for(var i=ci(t=k(t)),r=0,f=i.length,u;f>r;)tt(n,u=i[r++],t[u]);return n},yi=function(n,t){return t===undefined?p(n):ni(p(n),t)},ti=function(n){var t=vi.call(this,n=et(n,!0));return this===o&&r(s,n)&&!r(w,n)?!1:t||!r(this,n)||!r(s,n)||r(this,f)&&this[f][n]?t:!0},ii=function(n,t){if(n=k(n),t=et(t,!0),n!==o||!r(s,t)||r(w,t)){var i=bt(n,t);return!i||!r(s,t)||r(n,f)&&n[f][t]||(i.enumerable=!0),i}},ri=function(n){for(var i=kt(k(n)),u=[],e=0,t;i.length>e;)r(s,t=i[e++])||t==f||t==fi||u.push(t);return u},ui=function(n){for(var i=n===o,u=kt(i?w:k(n)),f=[],e=0,t;u.length>e;)r(s,t=u[e++])&&(i?r(o,t):!0)&&f.push(s[t]);return f},a,v;for(l||(u=function(){if(this instanceof u)throw TypeError("Symbol is not a constructor!");var n=ei(arguments.length>0?arguments[0]:undefined),t=function(i){this===o&&t.call(w,i);r(this,f)&&r(this[f],n)&&(this[f][n]=!1);ct(this,n,ot(1,i))};return it&&ht&&ct(o,n,{configurable:!0,set:t}),gt(n)},at(u[h],"toString",function(){return this._k}),pt.f=ii,wt.f=tt,i(123).f=yt.f=ri,i(51).f=ti,i(78).f=ui,it&&!i(76)&&at(o,"propertyIsEnumerable",ti,!0),oi.f=function(n){return gt(y(n))}),e(e.G+e.W+e.F*!l,{Symbol:u}),a="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),v=0;a.length>v;)y(a[v++]);for(a=ai(y.store),v=0;a.length>v;)si(a[v++]);e(e.S+e.F*!l,"Symbol",{"for":function(n){return r(nt,n+="")?nt[n]:nt[n]=u(n)},keyFor:function(n){if(lt(n))return hi(nt,n);throw TypeError(n+" is not a symbol!");},useSetter:function(){ht=!0},useSimple:function(){ht=!1}});e(e.S+e.F*!l,"Object",{create:yi,defineProperty:tt,defineProperties:ni,getOwnPropertyDescriptor:ii,getOwnPropertyNames:ri,getOwnPropertySymbols:ui});d&&e(e.S+e.F*(!l||vt(function(){var n=u();return g([n])!="[null]"||g({a:n})!="{}"||g(Object(n))!="{}"})),"JSON",{stringify:function(n){if(n!==undefined&&!lt(n)){for(var i=[n],u=1,t,r;arguments.length>u;)i.push(arguments[u++]);return t=i[1],typeof t=="function"&&(r=t),(r||!li(t))&&(t=function(n,t){return r&&(t=r.call(this,n,t)),lt(t)?void 0:t}),i[1]=t,g.apply(d,i)}}});u[h][dt]||i(35)(u[h],dt,u[h].valueOf);ut(u,"Symbol");ut(Math,"Math",!0);ut(b.JSON,"JSON",!0)},function(n,t,i){i(85)("asyncIterator")},function(n,t,i){i(85)("observable")},function(n,t,i){var s,r;i(292);var c=i(24),l=i(35),e=i(44),o=i(19)("toStringTag");for(s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],r=0;r<5;r++){var u=s[r],h=c[u],f=h&&h.prototype;f&&!f[o]&&l(f,o,u);e[u]=e.Array}},function(n){"use strict";function i(n){return n.replace(t,function(n,t){return t.toUpperCase()})}var t=/-(.)/g;n.exports=i},function(n,t,i){"use strict";function f(n){return r(n.replace(u,"ms-"))}var r=i(302),u=/^-ms-/;n.exports=f},function(n,t,i){"use strict";function u(n,t){return n&&t?n===t?!0:r(n)?!1:r(t)?u(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}var r=i(311);n.exports=u},function(n,t,i){"use strict";(function(t){function u(n){var i=n.length,f,u;if((!Array.isArray(n)&&(typeof n=="object"||typeof n=="function"))?void 0:t.env.NODE_ENV!=="production"?r(!1,"toArray: Array-like object expected"):r(!1),(typeof i=="number")?void 0:t.env.NODE_ENV!=="production"?r(!1,"toArray: Object needs a length property"):r(!1),(i===0||i-1 in n)?void 0:t.env.NODE_ENV!=="production"?r(!1,"toArray: Object should have keys for indices"):r(!1),(typeof n.callee!="function")?void 0:t.env.NODE_ENV!=="production"?r(!1,"toArray: Object can't be `arguments`. Use rest params (function(...args) {}) or Array.from() instead."):r(!1),n.hasOwnProperty)try{return Array.prototype.slice.call(n)}catch(e){}for(f=Array(i),u=0;u<i;u++)f[u]=n[u];return f}function f(n){return!!n&&(typeof n=="object"||typeof n=="function")&&"length"in n&&!("setInterval"in n)&&typeof n.nodeType!="number"&&(Array.isArray(n)||"callee"in n||"item"in n)}function e(n){return f(n)?Array.isArray(n)?n.slice():u(n):[n]}var r=i(5);n.exports=e}).call(t,i(4))},function(n,t,i){"use strict";(function(t){function h(n){var t=n.match(s);return t&&t[1].toLowerCase()}function c(n,i){var f=u,c,s,a,l,v;if(!!u?void 0:t.env.NODE_ENV!=="production"?r(!1,"createNodesFromMarkup dummy not initialized"):r(!1),c=h(n),s=c&&o(c),s)for(f.innerHTML=s[1]+n+s[2],a=s[0];a--;)f=f.lastChild;else f.innerHTML=n;for(l=f.getElementsByTagName("script"),l.length&&(i?void 0:t.env.NODE_ENV!=="production"?r(!1,"createNodesFromMarkup(...): Unexpected <script> element rendered."):r(!1),e(l).forEach(i)),v=Array.from(f.childNodes);f.lastChild;)f.removeChild(f.lastChild);return v}var f=i(9),e=i(305),o=i(131),r=i(5),u=f.canUseDOM?document.createElement("div"):null,s=/^\s*<(\w+)/;n.exports=c}).call(t,i(4))},function(n){"use strict";function t(n){return n===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:n.scrollLeft,y:n.scrollTop}}n.exports=t},function(n){"use strict";function i(n){return n.replace(t,"-$1").toLowerCase()}var t=/([A-Z])/g;n.exports=i},function(n,t,i){"use strict";function f(n){return r(n).replace(u,"-ms-")}var r=i(308),u=/^ms-/;n.exports=f},function(n){"use strict";function t(n){return!!(n&&(typeof Node=="function"?n instanceof Node:typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.nodeName=="string"))}n.exports=t},function(n,t,i){"use strict";function u(n){return r(n)&&n.nodeType==3}var r=i(310);n.exports=u},function(n){"use strict";function i(n,i,r){var f,u;if(!n)return null;f={};for(u in n)t.call(n,u)&&(f[u]=i.call(r,n[u],u,n));return f}var t=Object.prototype.hasOwnProperty;n.exports=i},function(n){"use strict";function t(n){var t={};return function(i){return t.hasOwnProperty(i)||(t[i]=n.call(this,i)),t[i]}}n.exports=t},function(n,t,i){"use strict";var u=i(9),r;u.canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance);n.exports=r||{}},function(n,t,i){"use strict";var r=i(314),u;u=r.now?function(){return r.now()}:function(){return Date.now()};n.exports=u},function(n,t,i){(function(t){(function(){var r,u,i;typeof performance!="undefined"&&performance!==null&&performance.now?n.exports=function(){return performance.now()}:typeof t!="undefined"&&t!==null&&t.hrtime?(n.exports=function(){return(r()-i)/1e6},u=t.hrtime,r=function(){var n;return n=u(),n[0]*1e9+n[1]},i=r()):Date.now?(n.exports=function(){return Date.now()-i},i=Date.now()):(n.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(t,i(4))},function(n,t,i){(function(n,r){var u;
/*! https://mths.be/punycode v1.4.1 by @mathias */
(function(f){function c(n){throw new RangeError(yt[n]);}function tt(n,t){for(var i=n.length,r=[];i--;)r[i]=t(n[i]);return r}function it(n,t){var i=n.split("@"),r="",u,f;return i.length>1&&(r=i[0]+"@",n=i[1]),n=n.replace(vt,"."),u=n.split("."),f=tt(u,t).join("."),r+f}function rt(n){for(var r=[],i=0,f=n.length,t,u;i<f;)t=n.charCodeAt(i++),t>=55296&&t<=56319&&i<f?(u=n.charCodeAt(i++),(u&64512)==56320?r.push(((t&1023)<<10)+(u&1023)+65536):(r.push(t),i--)):r.push(t);return r}function ut(n){return tt(n,function(n){var t="";return n>65535&&(n-=65536,t+=v(n>>>10&1023|55296),n=56320|n&1023),t+v(n)}).join("")}function pt(n){return n-48<10?n-22:n-65<26?n-65:n-97<26?n-97:e}function ft(n,t){return n+22+75*(n<26)-((t!=0)<<5)}function et(n,t,i){var r=0;for(n=i?o(n/ct):n>>1,n+=o(n/t);n>b*a>>1;r+=e)n=o(n/b);return o(r+(b+1)*n/(n+ht))}function ot(n){var v=[],rt=n.length,r,t=0,b=g,y=d,i,u,p,k,f,s,h,tt,it;for(i=n.lastIndexOf(nt),i<0&&(i=0),u=0;u<i;++u)n.charCodeAt(u)>=128&&c("not-basic"),v.push(n.charCodeAt(u));for(p=i>0?i+1:0;p<rt;){for(k=t,f=1,s=e;;s+=e){if(p>=rt&&c("invalid-input"),h=pt(n.charCodeAt(p++)),(h>=e||h>o((l-t)/f))&&c("overflow"),t+=h*f,tt=s<=y?w:s>=y+a?a:s-y,h<tt)break;it=e-tt;f>o(l/it)&&c("overflow");f*=it}r=v.length+1;y=et(t-k,r,k==0);o(t/r)>l-b&&c("overflow");b+=o(t/r);t%=r;v.splice(t++,0,b)}return ut(v)}function st(n){var r,u,h,ut,y,t,f,p,b,k,i,s=[],tt,it,ot,st;for(n=rt(n),tt=n.length,r=g,u=0,y=d,t=0;t<tt;++t)i=n[t],i<128&&s.push(v(i));for(h=ut=s.length,ut&&s.push(nt);h<tt;){for(f=l,t=0;t<tt;++t)i=n[t],i>=r&&i<f&&(f=i);for(it=h+1,f-r>o((l-u)/it)&&c("overflow"),u+=(f-r)*it,r=f,t=0;t<tt;++t)if(i=n[t],i<r&&++u>l&&c("overflow"),i==r){for(p=u,b=e;;b+=e){if(k=b<=y?w:b>=y+a?a:b-y,p<k)break;st=p-k;ot=e-k;s.push(v(ft(k+st%ot,0)));p=o(st/ot)}s.push(v(ft(p,0)));y=et(u,it,h==ut);u=0;++h}++u;++r}return s.join("")}function wt(n){return it(n,function(n){return lt.test(n)?ot(n.slice(4).toLowerCase()):n})}function bt(n){return it(n,function(n){return at.test(n)?"xn--"+st(n):n})}var p=typeof t=="object"&&t&&!t.nodeType&&t,k=typeof n=="object"&&n&&!n.nodeType&&n,s=typeof r=="object"&&r;(s.global===s||s.window===s||s.self===s)&&(f=s);var h,l=2147483647,e=36,w=1,a=26,ht=38,ct=700,d=72,g=128,nt="-",lt=/^xn--/,at=/[^\x20-\x7E]/,vt=/[\x2E\u3002\uFF0E\uFF61]/g,yt={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=e-w,o=Math.floor,v=String.fromCharCode,y;if(h={version:"1.4.1",ucs2:{decode:rt,encode:ut},decode:ot,encode:st,toASCII:bt,toUnicode:wt},!0)!(u=function(){return h}.call(t,i,t,n),u!==undefined&&(n.exports=u));else if(p&&k)if(n.exports==p)k.exports=h;else for(y in h)h.hasOwnProperty(y)&&(p[y]=h[y]);else f.punycode=h})(this)}).call(t,i(391)(n),i(162))},function(n){"use strict";function t(n,t){return Object.prototype.hasOwnProperty.call(n,t)}n.exports=function(n,r,u,f){var e,w,s,c,l,h,a,y,p,o,v;if(r=r||"&",u=u||"=",e={},typeof n!="string"||n.length===0)return e;for(w=/\+/g,n=n.split(r),s=1e3,f&&typeof f.maxKeys=="number"&&(s=f.maxKeys),c=n.length,s>0&&c>s&&(c=s),l=0;l<c;++l)h=n[l].replace(w,"%20"),a=h.indexOf(u),a>=0?(y=h.substr(0,a),p=h.substr(a+1)):(y=h,p=""),o=decodeURIComponent(y),v=decodeURIComponent(p),t(e,o)?i(e[o])?e[o].push(v):e[o]=[e[o],v]:e[o]=v;return e};var i=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"}},function(n){"use strict";function r(n,t){var r,i;if(n.map)return n.map(t);for(r=[],i=0;i<n.length;i++)r.push(t(n[i],i));return r}var t=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}},i,u;n.exports=function(n,f,e,o){return(f=f||"&",e=e||"=",n===null&&(n=undefined),typeof n=="object")?r(u(n),function(u){var o=encodeURIComponent(t(u))+e;return i(n[u])?r(n[u],function(n){return o+encodeURIComponent(t(n))}).join(f):o+encodeURIComponent(t(n[u]))}).join(f):o?encodeURIComponent(t(o))+e+encodeURIComponent(t(n)):""};i=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};u=Object.keys||function(n){var t=[];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.push(i);return t}},function(n,t,i){"use strict";t.decode=t.parse=i(318);t.encode=t.stringify=i(319)},function(n,t,i){"use strict";n.exports=i(335)},function(n,t,i){"use strict";var r=i(8),u=i(129),f={focusDOMComponent:function(){u(r.getNodeFromInstance(this))}};n.exports=f},function(n,t,i){"use strict";function ut(){var n=window.opera;return typeof n=="object"&&typeof n.version=="function"&&parseInt(n.version(),10)<=12}function ft(n){return(n.ctrlKey||n.altKey||n.metaKey)&&!(n.ctrlKey&&n.altKey)}function et(n){switch(n){case r.topCompositionStart:return f.compositionStart;case r.topCompositionEnd:return f.compositionEnd;case r.topCompositionUpdate:return f.compositionUpdate}}function ot(n,t){return n===r.topKeyDown&&t.keyCode===a}function k(n,t){switch(n){case r.topKeyUp:return rt.indexOf(t.keyCode)!==-1;case r.topKeyDown:return t.keyCode!==a;case r.topKeyPress:case r.topMouseDown:case r.topBlur:return!0;default:return!1}}function d(n){var t=n.detail;return typeof t=="object"&&"data"in t?t.data:null}function st(n,t,i,r){var e,s,o,a;return(v?e=et(n):u?k(n,i)&&(e=f.compositionEnd):ot(n,i)&&(e=f.compositionStart),!e)?null:(h&&(u||e!==f.compositionStart?e===f.compositionEnd&&u&&(s=u.getData()):u=l.getPooled(r)),o=tt.getPooled(e,t,i,r),s?o.data=s:(a=d(i),a!==null&&(o.data=a)),c.accumulateTwoPhaseDispatches(o),o)}function ht(n,t){var u,i;switch(n){case r.topCompositionEnd:return d(t);case r.topKeyPress:return(u=t.which,u!==p)?null:(b=!0,w);case r.topTextInput:return(i=t.data,i===w&&b)?null:i;default:return null}}function ct(n,t){if(u){if(n===r.topCompositionEnd||k(n,t)){var i=u.getData();return l.release(u),u=null,i}return null}switch(n){case r.topPaste:return null;case r.topKeyPress:return t.which&&!ft(t)?String.fromCharCode(t.which):null;case r.topCompositionEnd:return h?null:t.data;default:return null}}function lt(n,t,i,r){var e,u;return(e=y?ht(n,i):ct(n,i),!e)?null:(u=it.getPooled(f.beforeInput,t,i,r),u.data=e,c.accumulateTwoPhaseDispatches(u),u)}var nt=i(22),c=i(48),s=i(9),l=i(329),tt=i(371),it=i(374),e=i(26),rt=[9,13,27,32],a=229,v=s.canUseDOM&&"CompositionEvent"in window,o=null,y,h,u,g;s.canUseDOM&&"documentMode"in document&&(o=document.documentMode);y=s.canUseDOM&&"TextEvent"in window&&!o&&!ut();h=s.canUseDOM&&(!v||o&&o>8&&o<=11);var p=32,w=String.fromCharCode(p),r=nt.topLevelTypes,f={beforeInput:{phasedRegistrationNames:{bubbled:e({onBeforeInput:null}),captured:e({onBeforeInputCapture:null})},dependencies:[r.topCompositionEnd,r.topKeyPress,r.topTextInput,r.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:e({onCompositionEnd:null}),captured:e({onCompositionEndCapture:null})},dependencies:[r.topBlur,r.topCompositionEnd,r.topKeyDown,r.topKeyPress,r.topKeyUp,r.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:e({onCompositionStart:null}),captured:e({onCompositionStartCapture:null})},dependencies:[r.topBlur,r.topCompositionStart,r.topKeyDown,r.topKeyPress,r.topKeyUp,r.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:e({onCompositionUpdate:null}),captured:e({onCompositionUpdateCapture:null})},dependencies:[r.topBlur,r.topCompositionUpdate,r.topKeyDown,r.topKeyPress,r.topKeyUp,r.topMouseDown]}},b=!1;u=null;g={eventTypes:f,extractEvents:function(n,t,i,r){return[st(n,t,i,r),lt(n,t,i,r)]}};n.exports=g},function(n,t,i){"use strict";(function(t){var p=i(133),w=i(9),b=i(13),k=i(303),o=i(380),d=i(309),g=i(313),u=i(6),nt=g(function(n){return d(n)}),s=!1,h="cssFloat",c,y;if(w.canUseDOM){c=document.createElement("div").style;try{c.font=""}catch(et){s=!0}document.documentElement.style.cssFloat===undefined&&(h="styleFloat")}if(t.env.NODE_ENV!=="production")var tt=/^(?:webkit|moz|o)[A-Z]/,l=/;\s*$/,r={},e={},a=!1,it=function(n,i){r.hasOwnProperty(n)&&r[n]||(r[n]=!0,t.env.NODE_ENV!=="production"?u(!1,"Unsupported style property %s. Did you mean %s?%s",n,k(n),f(i)):void 0)},rt=function(n,i){r.hasOwnProperty(n)&&r[n]||(r[n]=!0,t.env.NODE_ENV!=="production"?u(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?%s",n,n.charAt(0).toUpperCase()+n.slice(1),f(i)):void 0)},ut=function(n,i,r){e.hasOwnProperty(i)&&e[i]||(e[i]=!0,t.env.NODE_ENV!=="production"?u(!1,'Style property values shouldn\'t contain a semicolon.%s Try "%s: %s" instead.',f(r),n,i.replace(l,"")):void 0)},ft=function(n,i,r){a||(a=!0,t.env.NODE_ENV!=="production"?u(!1,"`NaN` is an invalid value for the `%s` css style property.%s",n,f(r)):void 0)},f=function(n){if(n){var t=n.getName();if(t)return" Check the render method of `"+t+"`."}return""},v=function(n,t,i){var r;i&&(r=i._currentElement._owner);n.indexOf("-")>-1?it(n,r):tt.test(n)?rt(n,r):l.test(t)&&ut(n,t,r);typeof t=="number"&&isNaN(t)&&ft(n,t,r)};y={createMarkupForStyles:function(n,i){var f="",r,u;for(r in n)n.hasOwnProperty(r)&&(u=n[r],t.env.NODE_ENV!=="production"&&v(r,u,i),u!=null&&(f+=nt(r)+":",f+=o(r,u,i)+";"));return f||null},setValueForStyles:function(n,i,r){var f,u,e,c,l;if(t.env.NODE_ENV!=="production")b.debugTool.onNativeOperation(r._debugID,"update styles",i);f=n.style;for(u in i)if(i.hasOwnProperty(u))if(t.env.NODE_ENV!=="production"&&v(u,i[u],r),e=o(u,i[u],r),(u==="float"||u==="cssFloat")&&(u=h),e)f[u]=e;else if(c=s&&p.shorthandPropertyExpansions[u],c)for(l in c)f[l]="";else f[u]=""}};n.exports=y}).call(t,i(4))},function(n,t,i){"use strict";function ot(n){var t=n.nodeName&&n.nodeName.toLowerCase();return t==="select"||t==="input"&&n.type==="file"}function c(n){var t=p.getPooled(h.change,e,n,ft(n));v.accumulateTwoPhaseDispatches(t);ut.batchedUpdates(st,t)}function st(n){a.enqueueEvents(n);a.processEventQueue(!1)}function ht(n,t){r=n;e=t;r.attachEvent("onchange",c)}function d(){r&&(r.detachEvent("onchange",c),r=null,e=null)}function ct(n,t){if(n===u.topChange)return t}function lt(n,t,i){n===u.topFocus?(d(),ht(t,i)):n===u.topBlur&&d()}function at(n,t){r=n;e=t;f=n.value;o=Object.getOwnPropertyDescriptor(n.constructor.prototype,"value");Object.defineProperty(r,"value",g);r.attachEvent?r.attachEvent("onpropertychange",s):r.addEventListener("propertychange",s,!1)}function nt(){r&&(delete r.value,r.detachEvent?r.detachEvent("onpropertychange",s):r.removeEventListener("propertychange",s,!1),r=null,e=null,f=null,o=null)}function s(n){if(n.propertyName==="value"){var t=n.srcElement.value;t!==f&&(f=t,c(n))}}function vt(n,t){if(n===u.topInput)return t}function yt(n,t,i){n===u.topFocus?(nt(),at(t,i)):n===u.topBlur&&nt()}function pt(n){if((n===u.topSelectionChange||n===u.topKeyUp||n===u.topKeyDown)&&r&&r.value!==f)return f=r.value,e}function wt(n){return n.nodeName&&n.nodeName.toLowerCase()==="input"&&(n.type==="checkbox"||n.type==="radio")}function bt(n,t){if(n===u.topClick)return t}var it=i(22),a=i(47),v=i(48),y=i(9),rt=i(8),ut=i(20),p=i(23),ft=i(99),w=i(101),et=i(160),b=i(26),u=it.topLevelTypes,h={change:{phasedRegistrationNames:{bubbled:b({onChange:null}),captured:b({onChangeCapture:null})},dependencies:[u.topBlur,u.topChange,u.topClick,u.topFocus,u.topInput,u.topKeyDown,u.topKeyUp,u.topSelectionChange]}},r=null,e=null,f=null,o=null,k=!1,l,g,tt;y.canUseDOM&&(k=w("change")&&(!("documentMode"in document)||document.documentMode>8));l=!1;y.canUseDOM&&(l=w("input")&&(!("documentMode"in document)||document.documentMode>11));g={get:function(){return o.get.call(this)},set:function(n){f=""+n;o.set.call(this,n)}};tt={eventTypes:h,extractEvents:function(n,t,i,r){var f=t?rt.getNodeFromInstance(t):window,u,e,s,o;if(ot(f)?k?u=ct:e=lt:et(f)?l?u=vt:(u=pt,e=yt):wt(f)&&(u=bt),u&&(s=u(n,t),s))return o=p.getPooled(h.change,s,i,r),o.type="change",v.accumulateTwoPhaseDispatches(o),o;e&&e(n,f,t)}};n.exports=tt},function(n,t,i){"use strict";(function(t){function l(n){return n.substring(1,n.indexOf(" "))}var s=i(36),f=i(9),e=i(306),o=i(12),h=i(131),r=i(5),c=/^(<[^ \/>]+)/,u="data-danger-index",a={dangerouslyRenderMarkup:function(n){var i,a,v,y,k,w,s,g,d,b,p;for(f.canUseDOM?void 0:t.env.NODE_ENV!=="production"?r(!1,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString for server rendering."):r(!1),a={},v=0;v<n.length;v++)n[v]?void 0:t.env.NODE_ENV!=="production"?r(!1,"dangerouslyRenderMarkup(...): Missing markup."):r(!1),i=l(n[v]),i=h(i)?i:"*",a[i]=a[i]||[],a[i][v]=n[v];y=[];k=0;for(i in a)if(a.hasOwnProperty(i)){w=a[i];for(s in w)w.hasOwnProperty(s)&&(g=w[s],w[s]=g.replace(c,"$1 "+u+'="'+s+'" '));for(d=e(w.join(""),o),b=0;b<d.length;++b)p=d[b],p.hasAttribute&&p.hasAttribute(u)?(s=+p.getAttribute(u),p.removeAttribute(u),!y.hasOwnProperty(s)?void 0:t.env.NODE_ENV!=="production"?r(!1,"Danger: Assigning to an already-occupied result index."):r(!1),y[s]=p,k+=1):t.env.NODE_ENV!=="production"&&console.error("Danger: Discarding unexpected node:",p)}return(k===y.length)?void 0:t.env.NODE_ENV!=="production"?r(!1,"Danger: Did not assign to every index of resultList."):r(!1),(y.length===n.length)?void 0:t.env.NODE_ENV!=="production"?r(!1,"Danger: Expected markup to render %s nodes, but rendered %s.",n.length,y.length):r(!1),y},dangerouslyReplaceNodeWithMarkup:function(n,i){if(f.canUseDOM?void 0:t.env.NODE_ENV!=="production"?r(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."):r(!1),i?void 0:t.env.NODE_ENV!=="production"?r(!1,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):r(!1),(n.nodeName!=="HTML")?void 0:t.env.NODE_ENV!=="production"?r(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."):r(!1),typeof i=="string"){var u=e(i,o)[0];n.parentNode.replaceChild(u,n)}else s.replaceChildWithTree(n,i)}};n.exports=a}).call(t,i(4))},function(n,t,i){"use strict";var r=i(26),u=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];n.exports=u},function(n,t,i){"use strict";var s=i(22),h=i(48),u=i(8),e=i(60),o=i(26),r=s.topLevelTypes,f={mouseEnter:{registrationName:o({onMouseEnter:null}),dependencies:[r.topMouseOut,r.topMouseOver]},mouseLeave:{registrationName:o({onMouseLeave:null}),dependencies:[r.topMouseOut,r.topMouseOver]}},c={eventTypes:f,extractEvents:function(n,t,i,o){var v,y,s,c,p,l;if(n===r.topMouseOver&&(i.relatedTarget||i.fromElement)||n!==r.topMouseOut&&n!==r.topMouseOver||(o.window===o?v=o:(y=o.ownerDocument,v=y?y.defaultView||y.parentWindow:window),n===r.topMouseOut?(s=t,p=i.relatedTarget||i.toElement,c=p?u.getClosestInstanceFromNode(p):null):(s=null,c=t),s===c))return null;var w=s==null?v:u.getNodeFromInstance(s),b=c==null?v:u.getNodeFromInstance(c),a=e.getPooled(f.mouseLeave,s,i,o);return a.type="mouseleave",a.target=w,a.relatedTarget=b,l=e.getPooled(f.mouseEnter,c,i,o),l.type="mouseenter",l.target=b,l.relatedTarget=w,h.accumulateEnterLeaveDispatches(a,l,s,c),[a,l]}};n.exports=c},function(n,t,i){"use strict";function r(n){this._root=n;this._startText=this.getText();this._fallbackText=null}var u=i(7),f=i(27),e=i(158);u(r.prototype,{destructor:function(){this._root=null;this._startText=null;this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[e()]},getData:function(){var f,e;if(this._fallbackText)return this._fallbackText;for(var r=this._startText,u=r.length,t,i=this.getText(),o=i.length,n=0;n<u;n++)if(r[n]!==i[n])break;for(f=u-n,t=1;t<=f;t++)if(r[u-t]!==i[o-t])break;return e=t>1?1-t:undefined,this._fallbackText=i.slice(n,e),this._fallbackText}});f.addPoolingTo(r);n.exports=r},function(n,t,i){"use strict";var u=i(33),f=u.injection.MUST_USE_PROPERTY,r=u.injection.HAS_BOOLEAN_VALUE,s=u.injection.HAS_SIDE_EFFECTS,o=u.injection.HAS_NUMERIC_VALUE,e=u.injection.HAS_POSITIVE_NUMERIC_VALUE,h=u.injection.HAS_OVERLOADED_BOOLEAN_VALUE,c={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+u.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:r,allowTransparency:0,alt:0,async:r,autoComplete:0,autoPlay:r,capture:r,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:f|r,cite:0,classID:0,className:0,cols:e,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:r,coords:0,crossOrigin:0,data:0,dateTime:0,"default":r,defer:r,dir:0,disabled:r,download:h,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:r,formTarget:0,frameBorder:0,headers:0,height:0,hidden:r,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:r,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:f|r,muted:f|r,name:0,nonce:0,noValidate:r,open:r,optimum:0,pattern:0,placeholder:0,poster:0,preload:0,profile:0,radioGroup:0,readOnly:r,rel:0,required:r,reversed:r,role:0,rows:e,rowSpan:o,sandbox:0,scope:0,scoped:r,scrolling:0,seamless:r,selected:f|r,shape:0,size:e,sizes:0,span:e,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:o,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:f|s,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,"typeof":0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:r,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};n.exports=c},function(n,t,i){"use strict";(function(t){var s=i(7),r=i(136),v=i(138),y=i(137),p=i(341),u=i(15),f=i(142),w=i(151),b=i(153),k=i(386),d=i(6),h=u.createElement,c=u.createFactory,l=u.cloneElement,e,o,a;t.env.NODE_ENV!=="production"&&(h=f.createElement,c=f.createFactory,l=f.cloneElement);e=s;t.env.NODE_ENV!=="production"&&(o=!1,e=function(){return t.env.NODE_ENV!=="production"?d(o,"React.__spread is deprecated and should not be used. Use Object.assign directly or another helper function with similar semantics. You may be seeing this warning due to your compiler. See https://fb.me/react-spread-deprecation for more details."):void 0,o=!0,s.apply(null,arguments)});a={Children:{map:r.map,forEach:r.forEach,count:r.count,toArray:r.toArray,only:k},Component:v,createElement:h,cloneElement:l,isValidElement:u.isValidElement,PropTypes:w,createClass:y.createClass,createFactory:c,createMixin:function(n){return n},DOM:p,version:b,__spread:e};n.exports=a}).call(t,i(4))},function(n,t,i){"use strict";(function(t){function h(n,i,r){var e=n[r]===undefined;t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?s(e,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",f.unescape(r)):void 0);i!=null&&e&&(n[r]=u(i))}var r=i(37),u=i(159),f=i(90),e=i(103),o=i(104),s=i(6),c={instantiateChildren:function(n){if(n==null)return null;var t={};return o(n,h,t),t},updateChildren:function(n,t,i,f,o){var s,h,l,c,a;if(t||n){for(s in t)t.hasOwnProperty(s)&&(h=n&&n[s],l=h&&h._currentElement,c=t[s],h!=null&&e(l,c)?(r.receiveComponent(h,c,f,o),t[s]=h):(h&&(i[s]=r.getNativeNode(h),r.unmountComponent(h,!1)),a=u(c),t[s]=a));for(s in n)!n.hasOwnProperty(s)||t&&t.hasOwnProperty(s)||(h=n[s],i[s]=r.getNativeNode(h),r.unmountComponent(h,!1))}},unmountChildren:function(n,t){var i,u;for(i in n)n.hasOwnProperty(i)&&(u=n[i],r.unmountComponent(u,t))}};n.exports=c}).call(t,i(4))},function(n,t,i){"use strict";(function(t){function f(n,t){r[n]||(r[n]={parentID:null,ownerID:null,text:null,childIDs:[],displayName:"Unknown",isMounted:!1,updateCount:0});t(r[n])}function o(n){var t=r[n],i;t&&(i=t.childIDs,delete r[n],i.forEach(o))}var u=i(5),r={},e=[],s={onSetDisplayName:function(n,t){f(n,function(n){return n.displayName=t})},onSetChildren:function(n,i){f(n,function(f){var e=f.childIDs;f.childIDs=i;i.forEach(function(i){var f=r[i];f?void 0:t.env.NODE_ENV!=="production"?u(!1,"Expected devtool events to fire for the child before its parent includes it in onSetChildren()."):u(!1);(f.displayName!=null)?void 0:t.env.NODE_ENV!=="production"?u(!1,"Expected onSetDisplayName() to fire for the child before its parent includes it in onSetChildren()."):u(!1);(f.childIDs!=null||f.text!=null)?void 0:t.env.NODE_ENV!=="production"?u(!1,"Expected onSetChildren() or onSetText() to fire for the child before its parent includes it in onSetChildren()."):u(!1);f.isMounted?void 0:t.env.NODE_ENV!=="production"?u(!1,"Expected onMountComponent() to fire for the child before its parent includes it in onSetChildren()."):u(!1);e.indexOf(i)===-1&&(f.parentID=n)})})},onSetOwner:function(n,t){f(n,function(n){return n.ownerID=t})},onSetText:function(n,t){f(n,function(n){return n.text=t})},onMountComponent:function(n){f(n,function(n){return n.isMounted=!0})},onMountRootComponent:function(n){e.push(n)},onUpdateComponent:function(n){f(n,function(n){return n.updateCount++})},onUnmountComponent:function(n){f(n,function(n){return n.isMounted=!1});e=e.filter(function(t){return t!==n})},purgeUnmountedComponents:function(){s._preventPurging||Object.keys(r).filter(function(n){return!r[n].isMounted}).forEach(o)},isMounted:function(n){var t=r[n];return t?t.isMounted:!1},getChildIDs:function(n){var t=r[n];return t?t.childIDs:[]},getDisplayName:function(n){var t=r[n];return t?t.displayName:"Unknown"},getOwnerID:function(n){var t=r[n];return t?t.ownerID:null},getParentID:function(n){var t=r[n];return t?t.parentID:null},getText:function(n){var t=r[n];return t?t.text:null},getUpdateCount:function(n){var t=r[n];return t?t.updateCount:0},getRootIDs:function(){return e},getRegisteredIDs:function(){return Object.keys(r)}};n.exports=s}).call(t,i(4))},function(n,t,i){"use strict";(function(t){function tt(n){var i=n._currentElement._owner||null,t;return i&&(t=i.getName(),t)?" Check the render method of `"+t+"`.":""}function y(){}function w(n,i){t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?f(i===null||i===!1||c.isValidElement(i),"%s(...): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.",n.displayName||n.name||"Component"):void 0)}function it(){var n=this._instance;if(this._debugID!==0)r.debugTool.onBeginLifeCycleTimer(this._debugID,"componentDidMount");if(n.componentDidMount(),this._debugID!==0)r.debugTool.onEndLifeCycleTimer(this._debugID,"componentDidMount")}function rt(n,t,i){var u=this._instance;if(this._debugID!==0)r.debugTool.onBeginLifeCycleTimer(this._debugID,"componentDidUpdate");if(u.componentDidUpdate(n,t,i),this._debugID!==0)r.debugTool.onEndLifeCycleTimer(this._debugID,"componentDidUpdate")}function b(n){return n.prototype&&n.prototype.isReactComponent}var h=i(7),k=i(92),o=i(28),c=i(15),d=i(93),l=i(94),r=i(13),p=i(149),s=i(59),g=i(58),e=i(37),a=i(152),v=i(53),u=i(5),nt=i(103),f=i(6);y.prototype.render=function(){var n=l.get(this)._currentElement.type,t=n(this.props,this.context,this.updater);return w(n,t),t};var ut=1,ft={construct:function(n){this._currentElement=n;this._rootNodeID=null;this._instance=null;this._nativeParent=null;this._nativeContainerInfo=null;this._updateBatchNumber=null;this._pendingElement=null;this._pendingStateQueue=null;this._pendingReplaceState=!1;this._pendingForceUpdate=!1;this._renderedNodeType=null;this._renderedComponent=null;this._context=null;this._mountOrder=0;this._topLevelWrapper=null;this._pendingCallbacks=null;this._calledComponentWillUnmount=!1},mountComponent:function(n,i,r,e){var nt,d,h,tt;this._context=e;this._mountOrder=ut++;this._nativeParent=i;this._nativeContainerInfo=r;var k=this._processProps(this._currentElement.props),g=this._processContext(e),s=this._currentElement.type,o=this._constructComponent(k,g),p;return b(s)||o!=null&&o.render!=null||(p=o,w(s,p),(o===null||o===!1||c.isValidElement(o))?void 0:t.env.NODE_ENV!=="production"?u(!1,"%s(...): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.",s.displayName||s.name||"Component"):u(!1),o=new y(s)),t.env.NODE_ENV!=="production"&&(o.render==null&&(t.env.NODE_ENV!=="production"?f(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",s.displayName||s.name||"Component"):void 0),nt=o.props!==k,d=s.displayName||s.name||"Component",t.env.NODE_ENV!=="production"?f(o.props===undefined||!nt,"%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",d,d):void 0),o.props=k,o.context=g,o.refs=v,o.updater=a,this._instance=o,l.set(o,this),t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?f(!o.getInitialState||o.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"):void 0,t.env.NODE_ENV!=="production"?f(!o.getDefaultProps||o.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"):void 0,t.env.NODE_ENV!=="production"?f(!o.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"):void 0,t.env.NODE_ENV!=="production"?f(!o.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"):void 0,t.env.NODE_ENV!=="production"?f(typeof o.componentShouldUpdate!="function","%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"):void 0,t.env.NODE_ENV!=="production"?f(typeof o.componentDidUnmount!="function","%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",this.getName()||"A component"):void 0,t.env.NODE_ENV!=="production"?f(typeof o.componentWillRecieveProps!="function","%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component"):void 0),h=o.state,h===undefined&&(o.state=h=null),(typeof h=="object"&&!Array.isArray(h))?void 0:t.env.NODE_ENV!=="production"?u(!1,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):u(!1),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,tt=o.unstable_handleError?this.performInitialMountWithErrorHandling(p,i,r,n,e):this.performInitialMount(p,i,r,n,e),o.componentDidMount&&(t.env.NODE_ENV!=="production"?n.getReactMountReady().enqueue(it,this):n.getReactMountReady().enqueue(o.componentDidMount,o)),tt},_constructComponent:function(n,i){if(t.env.NODE_ENV!=="production"){o.current=this;try{return this._constructComponentWithoutOwner(n,i)}finally{o.current=null}}else return this._constructComponentWithoutOwner(n,i)},_constructComponentWithoutOwner:function(n,i){var u=this._currentElement.type,f;if(b(u)){if(t.env.NODE_ENV!=="production"&&this._debugID!==0)r.debugTool.onBeginLifeCycleTimer(this._debugID,"ctor");if(f=new u(n,i,a),t.env.NODE_ENV!=="production"&&this._debugID!==0)r.debugTool.onEndLifeCycleTimer(this._debugID,"ctor")}else{if(t.env.NODE_ENV!=="production"&&this._debugID!==0)r.debugTool.onBeginLifeCycleTimer(this._debugID,"render");if(f=u(n,i,a),t.env.NODE_ENV!=="production"&&this._debugID!==0)r.debugTool.onEndLifeCycleTimer(this._debugID,"render")}return f},performInitialMountWithErrorHandling:function(n,t,i,r,u){var f,e=r.checkpoint();try{f=this.performInitialMount(n,t,i,r,u)}catch(o){r.rollback(e);this._instance.unstable_handleError(o);this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context));e=r.checkpoint();this._renderedComponent.unmountComponent(!0);r.rollback(e);f=this.performInitialMount(n,t,i,r,u)}return f},performInitialMount:function(n,i,u,f,o){var s=this._instance,h;if(s.componentWillMount){if(t.env.NODE_ENV!=="production"&&this._debugID!==0)r.debugTool.onBeginLifeCycleTimer(this._debugID,"componentWillMount");if(s.componentWillMount(),t.env.NODE_ENV!=="production"&&this._debugID!==0)r.debugTool.onEndLifeCycleTimer(this._debugID,"componentWillMount");this._pendingStateQueue&&(s.state=this._processPendingState(s.props,s.context))}if(n===undefined&&(n=this._renderValidatedComponent()),this._renderedNodeType=p.getType(n),this._renderedComponent=this._instantiateReactComponent(n),h=e.mountComponent(this._renderedComponent,f,i,u,this._processChildContext(o)),t.env.NODE_ENV!=="production"&&this._debugID!==0)r.debugTool.onSetChildren(this._debugID,this._renderedComponent._debugID!==0?[this._renderedComponent._debugID]:[]);return h},getNativeNode:function(){return e.getNativeNode(this._renderedComponent)},unmountComponent:function(n){var i,u;if(this._renderedComponent){if(i=this._instance,i.componentWillUnmount&&!i._calledComponentWillUnmount){if(i._calledComponentWillUnmount=!0,t.env.NODE_ENV!=="production"&&this._debugID!==0)r.debugTool.onBeginLifeCycleTimer(this._debugID,"componentWillUnmount");if(n?(u=this.getName()+".componentWillUnmount()",d.invokeGuardedCallback(u,i.componentWillUnmount.bind(i))):i.componentWillUnmount(),t.env.NODE_ENV!=="production"&&this._debugID!==0)r.debugTool.onEndLifeCycleTimer(this._debugID,"componentWillUnmount")}this._renderedComponent&&(e.unmountComponent(this._renderedComponent,n),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null);this._pendingStateQueue=null;this._pendingReplaceState=!1;this._pendingForceUpdate=!1;this._pendingCallbacks=null;this._pendingElement=null;this._context=null;this._rootNodeID=null;this._topLevelWrapper=null;l.remove(i)}},_maskContext:function(n){var u=this._currentElement.type,r=u.contextTypes,t,i;if(!r)return v;t={};for(i in r)t[i]=n[i];return t},_processContext:function(n){var r=this._maskContext(n),i;return t.env.NODE_ENV!=="production"&&(i=this._currentElement.type,i.contextTypes&&this._checkPropTypes(i.contextTypes,r,s.context)),r},_processChildContext:function(n){var f=this._currentElement.type,o=this._instance,i,e;if(t.env.NODE_ENV!=="production"&&r.debugTool.onBeginProcessingChildContext(),i=o.getChildContext&&o.getChildContext(),t.env.NODE_ENV!=="production"&&r.debugTool.onEndProcessingChildContext(),i){(typeof f.childContextTypes=="object")?void 0:t.env.NODE_ENV!=="production"?u(!1,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):u(!1);t.env.NODE_ENV!=="production"&&this._checkPropTypes(f.childContextTypes,i,s.childContext);for(e in i)(e in f.childContextTypes)?void 0:t.env.NODE_ENV!=="production"?u(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",e):u(!1);return h({},n,i)}return n},_processProps:function(n){if(t.env.NODE_ENV!=="production"){var i=this._currentElement.type;i.propTypes&&this._checkPropTypes(i.propTypes,n,s.prop)}return n},_checkPropTypes:function(n,i,r){var c=this.getName(),e,o,h;for(e in n)if(n.hasOwnProperty(e)){try{(typeof n[e]=="function")?void 0:t.env.NODE_ENV!=="production"?u(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",c||"React class",g[r],e):u(!1);o=n[e](i,e,c,r)}catch(l){o=l}o instanceof Error&&(h=tt(this),r===s.prop?t.env.NODE_ENV!=="production"?f(!1,"Failed Composite propType: %s%s",o.message,h):void 0:t.env.NODE_ENV!=="production"?f(!1,"Failed Context Types: %s%s",o.message,h):void 0)}},receiveComponent:function(n,t,i){var r=this._currentElement,u=this._context;this._pendingElement=null;this.updateComponent(t,r,n,u,i)},performUpdateIfNecessary:function(n){this._pendingElement!=null?e.receiveComponent(this,this._pendingElement,n,this._context):this._pendingStateQueue!==null||this._pendingForceUpdate?this.updateComponent(n,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(n,i,u,e,o){var s=this._instance,v=!1,h,c,l,a;if(this._context===o?h=s.context:(h=this._processContext(o),v=!0),i===u?c=u.props:(c=this._processProps(u.props),v=!0),v&&s.componentWillReceiveProps){if(t.env.NODE_ENV!=="production"&&this._debugID!==0)r.debugTool.onBeginLifeCycleTimer(this._debugID,"componentWillReceiveProps");if(s.componentWillReceiveProps(c,h),t.env.NODE_ENV!=="production"&&this._debugID!==0)r.debugTool.onEndLifeCycleTimer(this._debugID,"componentWillReceiveProps")}if(l=this._processPendingState(c,h),a=!0,!this._pendingForceUpdate&&s.shouldComponentUpdate){if(t.env.NODE_ENV!=="production"&&this._debugID!==0)r.debugTool.onBeginLifeCycleTimer(this._debugID,"shouldComponentUpdate");if(a=s.shouldComponentUpdate(c,l,h),t.env.NODE_ENV!=="production"&&this._debugID!==0)r.debugTool.onEndLifeCycleTimer(this._debugID,"shouldComponentUpdate")}t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?f(a!==undefined,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"):void 0);this._updateBatchNumber=null;a?(this._pendingForceUpdate=!1,this._performComponentUpdate(u,c,l,h,n,o)):(this._currentElement=u,this._context=o,s.props=c,s.state=l,s.context=h)},_processPendingState:function(n,t){var e=this._instance,i=this._pendingStateQueue,o=this._pendingReplaceState,r,u,f;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!i)return e.state;if(o&&i.length===1)return i[0];for(r=h({},o?i[0]:e.state),u=o?1:0;u<i.length;u++)f=i[u],h(r,typeof f=="function"?f.call(e,r,n,t):f);return r},_performComponentUpdate:function(n,i,u,f,e,o){var s=this._instance,a=Boolean(s.componentDidUpdate),h,c,l;if(a&&(h=s.props,c=s.state,l=s.context),s.componentWillUpdate){if(t.env.NODE_ENV!=="production"&&this._debugID!==0)r.debugTool.onBeginLifeCycleTimer(this._debugID,"componentWillUpdate");if(s.componentWillUpdate(i,u,f),t.env.NODE_ENV!=="production"&&this._debugID!==0)r.debugTool.onEndLifeCycleTimer(this._debugID,"componentWillUpdate")}this._currentElement=n;this._context=o;s.props=i;s.state=u;s.context=f;this._updateRenderedComponent(e,o);a&&(t.env.NODE_ENV!=="production"?e.getReactMountReady().enqueue(rt.bind(this,h,c,l),this):e.getReactMountReady().enqueue(s.componentDidUpdate.bind(s,h,c,l),s))},_updateRenderedComponent:function(n,i){var u=this._renderedComponent,h=u._currentElement,f=this._renderValidatedComponent(),o,s;if(nt(h,f))e.receiveComponent(u,f,n,this._processChildContext(i));else{if(o=e.getNativeNode(u),e.unmountComponent(u,!1),this._renderedNodeType=p.getType(f),this._renderedComponent=this._instantiateReactComponent(f),s=e.mountComponent(this._renderedComponent,n,this._nativeParent,this._nativeContainerInfo,this._processChildContext(i)),t.env.NODE_ENV!=="production"&&this._debugID!==0)r.debugTool.onSetChildren(this._debugID,this._renderedComponent._debugID!==0?[this._renderedComponent._debugID]:[]);this._replaceNodeWithMarkup(o,s,u)}},_replaceNodeWithMarkup:function(n,t,i){k.replaceNodeWithMarkup(n,t,i)},_renderValidatedComponentWithoutOwnerOrContext:function(){var i=this._instance,n;if(t.env.NODE_ENV!=="production"&&this._debugID!==0)r.debugTool.onBeginLifeCycleTimer(this._debugID,"render");if(n=i.render(),t.env.NODE_ENV!=="production"&&this._debugID!==0)r.debugTool.onEndLifeCycleTimer(this._debugID,"render");return t.env.NODE_ENV!=="production"&&n===undefined&&i.render._isMockFunction&&(n=null),n},_renderValidatedComponent:function(){var n;o.current=this;try{n=this._renderValidatedComponentWithoutOwnerOrContext()}finally{o.current=null}return(n===null||n===!1||c.isValidElement(n))?void 0:t.env.NODE_ENV!=="production"?u(!1,"%s.render(): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"):u(!1),n},attachRef:function(n,i){var r=this.getPublicInstance(),e,o,s;(r!=null)?void 0:t.env.NODE_ENV!=="production"?u(!1,"Stateless function components cannot have refs."):u(!1);e=i.getPublicInstance();t.env.NODE_ENV!=="production"&&(o=i&&i.getName?i.getName():"a component",t.env.NODE_ENV!=="production"?f(e!=null,'Stateless function components cannot be given refs (See ref "%s" in %s created by %s). Attempts to access this ref will fail.',n,o,this.getName()):void 0);s=r.refs===v?r.refs={}:r.refs;s[n]=e},detachRef:function(n){var t=this.getPublicInstance().refs;delete t[n]},getName:function(){var t=this._currentElement.type,n=this._instance&&this._instance.constructor;return t.displayName||n&&n.displayName||t.name||n&&n.name||null},getPublicInstance:function(){var n=this._instance;return n instanceof y?null:n},_instantiateReactComponent:null},et={Mixin:ft};n.exports=et}).call(t,i(4))},function(n,t,i){"use strict";(function(t){var s=i(8),v=i(354),u=i(146),y=i(37),p=i(20),w=i(153),b=i(381),k=i(157),d=i(388),f=i(6),h,c,l,e,a,o,r;if(v.inject(),h={findDOMNode:b,render:u.render,unmountComponentAtNode:u.unmountComponentAtNode,version:w,unstable_batchedUpdates:p.batchedUpdates,unstable_renderSubtreeIntoContainer:d},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:s.getClosestInstanceFromNode,getNodeFromInstance:function(n){return n._renderedComponent&&(n=k(n)),n?s.getNodeFromInstance(n):null}},Mount:u,Reconciler:y}),t.env.NODE_ENV!=="production"&&(c=i(9),c.canUseDOM&&window.top===window.self))for(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)&&(l=window.location.protocol.indexOf("http")===-1&&navigator.userAgent.indexOf("Firefox")===-1,console.debug("Download the React DevTools "+(l?"and use an HTTP server (instead of a file: URL) ":"")+"for a better development experience: https://fb.me/react-devtools")),e=function(){},t.env.NODE_ENV!=="production"?f((e.name||e.toString()).indexOf("testFn")!==-1,"It looks like you're using a minified copy of the development build of React. When deploying React apps to production, make sure to use the production build which skips development warnings and is faster. See https://fb.me/react-minification for more details."):void 0,a=document.documentMode&&document.documentMode<8,t.env.NODE_ENV!=="production"?f(!a,'Internet Explorer is running in compatibility mode; please add the following tag to your HTML to prevent this from happening: <meta http-equiv="X-UA-Compatible" content="IE=edge" />'):void 0,o=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim],r=0;r<o.length;r++)if(!o[r]){t.env.NODE_ENV!=="production"?f(!1,"One or more ES5 shims expected by React are not available: https://fb.me/react-warning-polyfills"):void 0;break}n.exports=h}).call(t,i(4))},function(n,t,i){"use strict";var r=i(55),u={getNativeProps:r.getNativeProps};n.exports=u},function(n,t,i){"use strict";(function(t){function vi(n){var t,i;return n&&(t=n._currentElement._owner||null,t&&(i=t.getName(),i))?" This DOM node was rendered by `"+i+"`.":""}function nt(n){var i,t,r;if(typeof n=="object"){if(Array.isArray(n))return"["+n.map(nt).join(", ")+"]";i=[];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r=/^[a-z$_][\w$_]*$/i.test(t)?t:JSON.stringify(t),i.push(r+": "+nt(n[t])));return"{"+i.join(", ")+"}"}return typeof n=="string"?JSON.stringify(n):typeof n=="function"?"[function object]":String(n)}function yi(n,i,r){var u,f,e,o;n!=null&&i!=null&&(si(n,i)||(u=r._tag,f=r._currentElement._owner,f&&(e=f.getName()),o=e+"|"+u,vt.hasOwnProperty(o))||(vt[o]=!0,t.env.NODE_ENV!=="production"?y(!1,"`%s` was passed a style object that has previously been mutated. Mutating `style` is deprecated. Consider cloning it beforehand. Check the `render` %s. Previous style: %s. Mutated style: %s.",u,f?"of `"+e+"`":"using <"+u+">",nt(n),nt(i)):void 0))}function yt(n,i){i&&(di[n._tag]&&((i.children==null&&i.dangerouslySetInnerHTML==null)?void 0:t.env.NODE_ENV!=="production"?r(!1,"%s is a void element tag and must not have `children` or use `props.dangerouslySetInnerHTML`.%s",n._tag,n._currentElement._owner?" Check the render method of "+n._currentElement._owner.getName()+".":""):r(!1)),i.dangerouslySetInnerHTML!=null&&((i.children==null)?void 0:t.env.NODE_ENV!=="production"?r(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):r(!1),(typeof i.dangerouslySetInnerHTML=="object"&&li in i.dangerouslySetInnerHTML)?void 0:t.env.NODE_ENV!=="production"?r(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information."):r(!1)),t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?y(i.innerHTML==null,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."):void 0,t.env.NODE_ENV!=="production"?y(i.suppressContentEditableWarning||!i.contentEditable||i.children==null,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."):void 0,t.env.NODE_ENV!=="production"?y(i.onFocusIn==null&&i.onFocusOut==null,"React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."):void 0),(i.style==null||typeof i.style=="object")?void 0:t.env.NODE_ENV!=="production"?r(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",vi(n)):r(!1))}function pt(n,i,r,u){if(!(u instanceof ui)){t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?y(i!=="onScroll"||oi("scroll",!0),"This browser doesn't support the `onScroll` event"):void 0);var f=n._nativeContainerInfo,e=f._node&&f._node.nodeType===ai,o=e?f._node:f._ownerDocument;ci(i,o);u.getReactMountReady().enqueue(pi,{inst:n,registrationName:i,listener:r})}}function pi(){var n=this;ut.putListener(n.inst,n.registrationName,n.listener)}function wi(){var n=this;l.postMountWrapper(n)}function rt(){var n=this,i,u;n._rootNodeID?void 0:t.env.NODE_ENV!=="production"?r(!1,"Must be mounted to trap events"):r(!1);i=s(n);i?void 0:t.env.NODE_ENV!=="production"?r(!1,"trapBubbledEvent(...): Requires node to be rendered."):r(!1);switch(n._tag){case"iframe":case"object":n._wrapperState.listeners=[f.trapBubbledEvent(o.topLevelTypes.topLoad,"load",i)];break;case"video":case"audio":n._wrapperState.listeners=[];for(u in it)it.hasOwnProperty(u)&&n._wrapperState.listeners.push(f.trapBubbledEvent(o.topLevelTypes[u],it[u],i));break;case"img":n._wrapperState.listeners=[f.trapBubbledEvent(o.topLevelTypes.topError,"error",i),f.trapBubbledEvent(o.topLevelTypes.topLoad,"load",i)];break;case"form":n._wrapperState.listeners=[f.trapBubbledEvent(o.topLevelTypes.topReset,"reset",i),f.trapBubbledEvent(o.topLevelTypes.topSubmit,"submit",i)];break;case"input":case"select":case"textarea":n._wrapperState.listeners=[f.trapBubbledEvent(o.topLevelTypes.topInvalid,"invalid",i)]}}function bi(){a.postUpdateWrapper(this)}function tr(n){nr.call(bt,n)||(gi.test(n)?void 0:t.env.NODE_ENV!=="production"?r(!1,"Invalid tag: %s",n):r(!1),bt[n]=!0)}function kt(n,t){return n.indexOf("-")>=0||t.is!=null}function p(n){var i=n.type;tr(i);this._currentElement=n;this._tag=i.toLowerCase();this._namespaceURI=null;this._renderedChildren=null;this._previousStyle=null;this._previousStyleCopy=null;this._nativeNode=null;this._nativeParent=null;this._rootNodeID=null;this._domID=null;this._nativeContainerInfo=null;this._wrapperState=null;this._topLevelWrapper=null;this._flags=0;t.env.NODE_ENV!=="production"&&(this._ancestorInfo=null,this._contentDebugID=null)}var w=i(7),gt=i(322),st=i(324),b=i(36),h=i(135),k=i(33),u=i(88),o=i(22),ut=i(47),ni=i(56),f=i(57),ti=i(139),ft=i(336),ii=i(140),et=i(8),c=i(344),l=i(346),a=i(141),v=i(349),e=i(13),ri=i(360),ui=i(365),fi=i(12),ei=i(62),r=i(5),oi=i(101),ht=i(26),si=i(132),ct=i(105),y=i(6),hi=ii,lt=ut.deleteListener,s=et.getNodeFromInstance,ci=f.listenTo,ot=ni.registrationNameModules,d={string:!0,number:!0},g=ht({style:null}),li=ht({__html:null}),at={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},ai=11,vt={},tt=fi,it,dt;t.env.NODE_ENV!=="production"&&(tt=function(n){var i=this._debugID,t=i+"#text";this._contentDebugID=t;e.debugTool.onSetDisplayName(t,"#text");e.debugTool.onSetText(t,""+n);e.debugTool.onMountComponent(t);e.debugTool.onSetChildren(i,[t])});it={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"};var wt={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ki={listing:!0,pre:!0,textarea:!0},di=w({menuitem:!0},wt),gi=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,bt={},nr={}.hasOwnProperty;dt=1;p.displayName="ReactDOMComponent";p.Mixin={mountComponent:function(n,i,r,f){var e,o,k,y,d,p,s,w,g,nt,tt,it;this._rootNodeID=dt++;this._domID=r._idCounter++;this._nativeParent=i;this._nativeContainerInfo=r;e=this._currentElement.props;switch(this._tag){case"iframe":case"object":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null};n.getReactMountReady().enqueue(rt,this);break;case"button":e=ft.getNativeProps(this,e,i);break;case"input":c.mountWrapper(this,e,i);e=c.getNativeProps(this,e);n.getReactMountReady().enqueue(rt,this);break;case"option":l.mountWrapper(this,e,i);e=l.getNativeProps(this,e);break;case"select":a.mountWrapper(this,e,i);e=a.getNativeProps(this,e);n.getReactMountReady().enqueue(rt,this);break;case"textarea":v.mountWrapper(this,e,i);e=v.getNativeProps(this,e);n.getReactMountReady().enqueue(rt,this)}yt(this,e);i!=null?(o=i._namespaceURI,k=i._tag):r._tag&&(o=r._namespaceURI,k=r._tag);(o==null||o===h.svg&&k==="foreignobject")&&(o=h.html);o===h.html&&(this._tag==="svg"?o=h.svg:this._tag==="math"&&(o=h.mathml));this._namespaceURI=o;t.env.NODE_ENV!=="production"&&(i!=null?y=i._ancestorInfo:r._tag&&(y=r._ancestorInfo),y&&ct(this._tag,this,y),this._ancestorInfo=ct.updatedAncestorInfo(y,this._tag,this));n.useCreateElement?(p=r._ownerDocument,o===h.html?this._tag==="script"?(w=p.createElement("div"),g=this._currentElement.type,w.innerHTML="<"+g+"><\/"+g+">",s=w.removeChild(w.firstChild)):s=p.createElement(this._currentElement.type,e.is||null):s=p.createElementNS(o,this._currentElement.type),et.precacheNode(this,s),this._flags|=hi.hasCachedChildNodes,this._nativeParent||u.setAttributeForRoot(s),this._updateDOMProperties(null,e,n),nt=b(s),this._createInitialChildren(n,e,f,nt),d=nt):(tt=this._createOpenTagMarkupAndPutListeners(n,e),it=this._createContentMarkup(n,e,f),d=!it&&wt[this._tag]?tt+"/>":tt+">"+it+"<\/"+this._currentElement.type+">");switch(this._tag){case"button":case"input":case"select":case"textarea":e.autoFocus&&n.getReactMountReady().enqueue(gt.focusDOMComponent,this);break;case"option":n.getReactMountReady().enqueue(wi,this)}return d},_createOpenTagMarkupAndPutListeners:function(n,i){var o="<"+this._currentElement.type,f,r,e;for(f in i)i.hasOwnProperty(f)&&(r=i[f],r!=null)&&(ot.hasOwnProperty(f)?r&&pt(this,f,r,n):(f===g&&(r&&(t.env.NODE_ENV!=="production"&&(this._previousStyle=r),r=this._previousStyleCopy=w({},i.style)),r=st.createMarkupForStyles(r,this)),e=null,this._tag!=null&&kt(this._tag,i)?at.hasOwnProperty(f)||(e=u.createMarkupForCustomAttribute(f,r)):e=u.createMarkupForProperty(f,r),e&&(o+=" "+e)));return n.renderToStaticMarkup?o:(this._nativeParent||(o+=" "+u.createMarkupForRoot()),o+(" "+u.createMarkupForID(this._domID)))},_createContentMarkup:function(n,i,r){var u="",e=i.dangerouslySetInnerHTML,f,o,s;return e!=null?e.__html!=null&&(u=e.__html):(f=d[typeof i.children]?i.children:null,o=f!=null?null:i.children,f!=null?(u=ei(f),t.env.NODE_ENV!=="production"&&tt.call(this,f)):o!=null&&(s=this.mountChildren(o,n,r),u=s.join(""))),ki[this._tag]&&u.charAt(0)==="\n"?"\n"+u:u},_createInitialChildren:function(n,i,r,u){var o=i.dangerouslySetInnerHTML,f,s,h,e;if(o!=null)o.__html!=null&&b.queueHTML(u,o.__html);else if(f=d[typeof i.children]?i.children:null,s=f!=null?null:i.children,f!=null)t.env.NODE_ENV!=="production"&&tt.call(this,f),b.queueText(u,f);else if(s!=null)for(h=this.mountChildren(s,n,r),e=0;e<h.length;e++)b.queueChild(u,h[e])},receiveComponent:function(n,t,i){var r=this._currentElement;this._currentElement=n;this.updateComponent(t,r,n,i)},updateComponent:function(n,t,i,r){var f=t.props,u=this._currentElement.props;switch(this._tag){case"button":f=ft.getNativeProps(this,f);u=ft.getNativeProps(this,u);break;case"input":c.updateWrapper(this);f=c.getNativeProps(this,f);u=c.getNativeProps(this,u);break;case"option":f=l.getNativeProps(this,f);u=l.getNativeProps(this,u);break;case"select":f=a.getNativeProps(this,f);u=a.getNativeProps(this,u);break;case"textarea":v.updateWrapper(this);f=v.getNativeProps(this,f);u=v.getNativeProps(this,u)}yt(this,u);this._updateDOMProperties(f,u,n);this._updateDOMChildren(f,u,n,r);this._tag==="select"&&n.getReactMountReady().enqueue(bi,this)},_updateDOMProperties:function(n,i,r){var f,o,h,l,e,c,a;for(f in n)if(!i.hasOwnProperty(f)&&n.hasOwnProperty(f)&&n[f]!=null)if(f===g){l=this._previousStyleCopy;for(o in l)l.hasOwnProperty(o)&&(h=h||{},h[o]="");this._previousStyleCopy=null}else ot.hasOwnProperty(f)?n[f]&&lt(this,f):(k.properties[f]||k.isCustomAttribute(f))&&u.deleteValueForProperty(s(this),f);for(f in i)if(e=i[f],c=f===g?this._previousStyleCopy:n!=null?n[f]:undefined,i.hasOwnProperty(f)&&e!==c&&(e!=null||c!=null))if(f===g)if(e?(t.env.NODE_ENV!=="production"&&(yi(this._previousStyleCopy,this._previousStyle,this),this._previousStyle=e),e=this._previousStyleCopy=w({},e)):this._previousStyleCopy=null,c){for(o in c)!c.hasOwnProperty(o)||e&&e.hasOwnProperty(o)||(h=h||{},h[o]="");for(o in e)e.hasOwnProperty(o)&&c[o]!==e[o]&&(h=h||{},h[o]=e[o])}else h=e;else ot.hasOwnProperty(f)?e?pt(this,f,e,r):c&&lt(this,f):kt(this._tag,i)?at.hasOwnProperty(f)||u.setValueForAttribute(s(this),f,e):(k.properties[f]||k.isCustomAttribute(f))&&(a=s(this),e!=null?u.setValueForProperty(a,f,e):u.deleteValueForProperty(a,f));h&&st.setValueForStyles(s(this),h,this)},_updateDOMChildren:function(n,i,r,u){var s=d[typeof n.children]?n.children:null,f=d[typeof i.children]?i.children:null,c=n.dangerouslySetInnerHTML&&n.dangerouslySetInnerHTML.__html,o=i.dangerouslySetInnerHTML&&i.dangerouslySetInnerHTML.__html,l=s!=null?null:n.children,h=f!=null?null:i.children,a=s!=null||c!=null,v=f!=null||o!=null;if(l!=null&&h==null)this.updateChildren(null,r,u);else if(a&&!v&&(this.updateTextContent(""),t.env.NODE_ENV!=="production"))e.debugTool.onSetChildren(this._debugID,[]);if(f!=null)s!==f&&(this.updateTextContent(""+f),t.env.NODE_ENV!=="production"&&(this._contentDebugID=this._debugID+"#text",tt.call(this,f)));else if(o!=null){if(c!==o&&this.updateMarkup(""+o),t.env.NODE_ENV!=="production")e.debugTool.onSetChildren(this._debugID,[])}else if(h!=null){if(t.env.NODE_ENV!=="production"&&this._contentDebugID){e.debugTool.onUnmountComponent(this._contentDebugID);this._contentDebugID=null}this.updateChildren(h,r,u)}},getNativeNode:function(){return s(this)},unmountComponent:function(n){var i,u;switch(this._tag){case"iframe":case"object":case"img":case"form":case"video":case"audio":if(i=this._wrapperState.listeners,i)for(u=0;u<i.length;u++)i[u].remove();break;case"html":case"head":case"body":t.env.NODE_ENV!=="production"?r(!1,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this._tag):r(!1)}if(this.unmountChildren(n),et.uncacheNode(this),ut.deleteAllListeners(this),ti.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._domID=null,this._wrapperState=null,t.env.NODE_ENV!=="production"&&this._contentDebugID){e.debugTool.onUnmountComponent(this._contentDebugID);this._contentDebugID=null}},getPublicInstance:function(){return s(this)}};w(p.prototype,p.Mixin,ri.Mixin);n.exports=p}).call(t,i(4))},function(n,t,i){"use strict";(function(t){function f(n,i){var f={_topLevelWrapper:n,_idCounter:1,_ownerDocument:i?i.nodeType===u?i:i.ownerDocument:null,_node:i,_tag:i?i.nodeName.toLowerCase():null,_namespaceURI:i?i.namespaceURI:null};return t.env.NODE_ENV!=="production"&&(f._ancestorInfo=i?r.updatedAncestorInfo(null,f._tag,null):null),f}var r=i(105),u=9;n.exports=f}).call(t,i(4))},function(n,t,i){"use strict";(function(t){function u(n,i,u,e,o,h){t.env.NODE_ENV!=="production"&&r.forEach(function(r){try{r[n]&&r[n](i,u,e,o,h)}catch(c){t.env.NODE_ENV!=="production"?s(!f[n],"exception thrown by devtool while handling %s: %s",n,c.message):void 0;f[n]=!0}})}var o=i(351),s=i(6),r=[],f={},e={addDevtool:function(n){r.push(n)},removeDevtool:function(n){for(var t=0;t<r.length;t++)r[t]===n&&(r.splice(t,1),t--)},onCreateMarkupForProperty:function(n,t){u("onCreateMarkupForProperty",n,t)},onSetValueForProperty:function(n,t,i){u("onSetValueForProperty",n,t,i)},onDeleteValueForProperty:function(n,t){u("onDeleteValueForProperty",n,t)}};e.addDevtool(o);n.exports=e}).call(t,i(4))},function(n,t,i){"use strict";var f=i(7),e=i(36),r=i(8),u=function(){this._currentElement=null;this._nativeNode=null;this._nativeParent=null;this._nativeContainerInfo=null;this._domID=null};f(u.prototype,{mountComponent:function(n,t,i){var s=i._idCounter++,u,o,f;return this._domID=s,this._nativeParent=t,this._nativeContainerInfo=i,u=" react-empty: "+this._domID+" ",n.useCreateElement?(o=i._ownerDocument,f=o.createComment(u),r.precacheNode(this,f),e(f)):n.renderToStaticMarkup?"":"<!--"+u+"-->"},receiveComponent:function(){},getNativeNode:function(){return r.getNodeFromInstance(this)},unmountComponent:function(){r.uncacheNode(this)}});n.exports=u},function(n,t,i){"use strict";(function(t){function e(n){return t.env.NODE_ENV!=="production"?u.createFactory(n):r.createFactory(n)}var r=i(15),u=i(142),f=i(312),o=f({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},e);n.exports=o}).call(t,i(4))},function(n){"use strict";n.exports={useCreateElement:!0}},function(n,t,i){"use strict";var r=i(87),u=i(8),f={dangerouslyProcessChildrenUpdates:function(n,t){var i=u.getNodeFromInstance(n);r.processUpdates(i,t)}};n.exports=f},function(n,t,i){"use strict";(function(t){function w(){this._rootNodeID&&k.updateWrapper(this)}function b(n){n==null||n.value!==null||l||(t.env.NODE_ENV!=="production"?r(!1,"`value` prop on `input` should not be null. Consider using the empty string to clear the component or `undefined` for uncontrolled components."):void 0,l=!0)}function nt(n){var c=this._currentElement.props,y=u.executeOnChange(c,n),l,r,i,a,e,h,v;if(o.asap(w,this),l=c.name,c.type==="radio"&&l!=null){for(r=f.getNodeFromInstance(this),i=r;i.parentNode;)i=i.parentNode;for(a=i.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),e=0;e<a.length;e++)(h=a[e],h!==r&&h.form===r.form)&&(v=f.getInstanceFromNode(h),v?void 0:t.env.NODE_ENV!=="production"?s(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."):s(!1),o.asap(w,v))}return y}var d=i(7),g=i(55),e=i(88),u=i(91),f=i(8),o=i(20),s=i(5),r=i(6),h=!1,c=!1,l=!1,a=!1,v=!1,y=!1,p=!1,k={getNativeProps:function(n,t){var i=u.getValue(t),r=u.getChecked(t);return d({type:undefined},g.getNativeProps(n,t),{defaultChecked:undefined,defaultValue:undefined,value:i!=null?i:n._wrapperState.initialValue,checked:r!=null?r:n._wrapperState.initialChecked,onChange:n._wrapperState.onChange})},mountWrapper:function(n,i){var f,e;t.env.NODE_ENV!=="production"&&(u.checkPropTypes("input",i,n._currentElement._owner),f=n._currentElement._owner,i.valueLink===undefined||h||(t.env.NODE_ENV!=="production"?r(!1,"`valueLink` prop on `input` is deprecated; set `value` and `onChange` instead."):void 0,h=!0),i.checkedLink===undefined||c||(t.env.NODE_ENV!=="production"?r(!1,"`checkedLink` prop on `input` is deprecated; set `value` and `onChange` instead."):void 0,c=!0),i.checked===undefined||i.defaultChecked===undefined||v||(t.env.NODE_ENV!=="production"?r(!1,"%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://fb.me/react-controlled-components",f&&f.getName()||"A component",i.type):void 0,v=!0),i.value===undefined||i.defaultValue===undefined||a||(t.env.NODE_ENV!=="production"?r(!1,"%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://fb.me/react-controlled-components",f&&f.getName()||"A component",i.type):void 0,a=!0),b(i));e=i.defaultValue;n._wrapperState={initialChecked:i.defaultChecked||!1,initialValue:e!=null?e:null,listeners:null,onChange:nt.bind(n)};t.env.NODE_ENV!=="production"&&(n._wrapperState.controlled=i.checked!==undefined||i.value!==undefined)},updateWrapper:function(n){var i=n._currentElement.props,s,h;if(t.env.NODE_ENV!=="production"){b(i);var l=n._wrapperState.initialChecked||n._wrapperState.initialValue,a=i.defaultChecked||i.defaultValue,c=i.checked!==undefined||i.value!==undefined,o=n._currentElement._owner;(l||!n._wrapperState.controlled)&&c&&!p&&(t.env.NODE_ENV!=="production"?r(!1,"%s is changing an uncontrolled input of type %s to be controlled. Input elements should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components",o&&o.getName()||"A component",i.type):void 0,p=!0);n._wrapperState.controlled&&(a||!c)&&!y&&(t.env.NODE_ENV!=="production"?r(!1,"%s is changing a controlled input of type %s to be uncontrolled. Input elements should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components",o&&o.getName()||"A component",i.type):void 0,y=!0)}s=i.checked;s!=null&&e.setValueForProperty(f.getNodeFromInstance(n),"checked",s||!1);h=u.getValue(i);h!=null&&e.setValueForProperty(f.getNodeFromInstance(n),"value",""+h)}};n.exports=k}).call(t,i(4))},function(n,t,i){"use strict";var r=i(339);n.exports={debugTool:r}},function(n,t,i){"use strict";(function(t){var u=i(7),f=i(136),e=i(8),o=i(141),r=i(6),s={mountWrapper:function(n,i,u){var f,e,s,h;if(t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?r(i.selected==null,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."):void 0),f=null,u!=null&&(e=u,e._tag==="optgroup"&&(e=e._nativeParent),e!=null&&e._tag==="select"&&(f=o.getSelectValueContext(e))),s=null,f!=null)if(s=!1,Array.isArray(f)){for(h=0;h<f.length;h++)if(""+f[h]==""+i.value){s=!0;break}}else s=""+f==""+i.value;n._wrapperState={selected:s}},postMountWrapper:function(n){var t=n._currentElement.props,i;t.value!=null&&(i=e.getNodeFromInstance(n),i.setAttribute("value",t.value))},getNativeProps:function(n,i){var o=u({selected:undefined,children:undefined},i),e;return n._wrapperState.selected!=null&&(o.selected=n._wrapperState.selected),e="",f.forEach(i.children,function(n){n!=null&&(typeof n=="string"||typeof n=="number"?e+=n:t.env.NODE_ENV!=="production"?r(!1,"Only strings and numbers are supported as <option> children."):void 0)}),e&&(o.children=e),o}};n.exports=s}).call(t,i(4))},function(n,t,i){"use strict";function u(n,t,i,r){return n===i&&t===r}function s(n){var f=document.selection,t=f.createRange(),e=t.text.length,i=t.duplicate(),r,u;return i.moveToElementText(n),i.setEndPoint("EndToStart",t),r=i.text.length,u=r+e,{start:r,end:u}}function h(n){var t=window.getSelection&&window.getSelection(),o;if(!t||t.rangeCount===0)return null;var h=t.anchorNode,c=t.anchorOffset,l=t.focusNode,a=t.focusOffset,r=t.getRangeAt(0);try{r.startContainer.nodeType;r.endContainer.nodeType}catch(w){return null}var v=u(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),y=v?0:r.toString().length,i=r.cloneRange();i.selectNodeContents(n);i.setEnd(r.startContainer,r.startOffset);var p=u(i.startContainer,i.startOffset,i.endContainer,i.endOffset),f=p?0:i.toString().length,s=f+y,e=document.createRange();return e.setStart(h,c),e.setEnd(l,a),o=e.collapsed,{start:o?s:f,end:o?f:s}}function c(n,t){var i=document.selection.createRange().duplicate(),r,u;t.end===undefined?(r=t.start,u=r):t.start>t.end?(r=t.end,u=t.start):(r=t.start,u=t.end);i.moveToElementText(n);i.moveStart("character",r);i.setEndPoint("EndToStart",i);i.moveEnd("character",u-r);i.select()}function l(n,t){var l,h,u,s;if(window.getSelection){var f=window.getSelection(),c=n[o()].length,i=Math.min(t.start,c),e=t.end===undefined?i:Math.min(t.end,c);!f.extend&&i>e&&(l=e,e=i,i=l);h=r(n,i);u=r(n,e);h&&u&&(s=document.createRange(),s.setStart(h.node,h.offset),f.removeAllRanges(),i>e?(f.addRange(s),f.extend(u.node,u.offset)):(s.setEnd(u.node,u.offset),f.addRange(s)))}}var e=i(9),r=i(384),o=i(158),f=e.canUseDOM&&"selection"in document&&!("getSelection"in window),a={getOffsets:f?s:h,setOffsets:f?c:l};n.exports=a},function(n,t,i){"use strict";(function(t){var s=i(7),h=i(87),r=i(36),u=i(8),f=i(13),c=i(62),e=i(5),l=i(105),o=function(n){this._currentElement=n;this._stringText=""+n;this._nativeNode=null;this._nativeParent=null;this._domID=null;this._mountIndex=0;this._closingComment=null;this._commentNodes=null};s(o.prototype,{mountComponent:function(n,i,e){var o,a;if(t.env.NODE_ENV!=="production"){f.debugTool.onSetText(this._debugID,this._stringText);i!=null?o=i._ancestorInfo:e!=null&&(o=e._ancestorInfo);o&&l("#text",this,o)}var v=e._idCounter++,y=" react-text: "+v+" ",p=" /react-text ";if(this._domID=v,this._nativeParent=i,n.useCreateElement){var s=e._ownerDocument,w=s.createComment(y),b=s.createComment(p),h=r(s.createDocumentFragment());return r.queueChild(h,r(w)),this._stringText&&r.queueChild(h,r(s.createTextNode(this._stringText))),r.queueChild(h,r(b)),u.precacheNode(this,w),this._closingComment=b,h}return(a=c(this._stringText),n.renderToStaticMarkup)?a:"<!--"+y+"-->"+a+"<!--"+p+"-->"},receiveComponent:function(n){var i,r;if(n!==this._currentElement&&(this._currentElement=n,i=""+n,i!==this._stringText&&(this._stringText=i,r=this.getNativeNode(),h.replaceDelimitedText(r[0],r[1],i),t.env.NODE_ENV!=="production")))f.debugTool.onSetText(this._debugID,i)},getNativeNode:function(){var i=this._commentNodes,r,n;if(i)return i;if(!this._closingComment)for(r=u.getNodeFromInstance(this),n=r.nextSibling;;){if((n!=null)?void 0:t.env.NODE_ENV!=="production"?e(!1,"Missing closing comment for text component %s",this._domID):e(!1),n.nodeType===8&&n.nodeValue===" /react-text "){this._closingComment=n;break}n=n.nextSibling}return i=[this._nativeNode,this._closingComment],this._commentNodes=i,i},unmountComponent:function(){this._closingComment=null;this._commentNodes=null;u.uncacheNode(this)}});n.exports=o}).call(t,i(4))},function(n,t,i){"use strict";(function(t){function w(){this._rootNodeID&&c.updateWrapper(this)}function h(n){n==null||n.value!==null||o||(t.env.NODE_ENV!=="production"?f(!1,"`value` prop on `textarea` should not be null. Consider using the empty string to clear the component or `undefined` for uncontrolled components."):void 0,o=!0)}function b(n){var t=this._currentElement.props,i=u.executeOnChange(t,n);return p.asap(w,this),i}var l=i(7),a=i(55),v=i(88),u=i(91),y=i(8),p=i(20),r=i(5),f=i(6),e=!1,o=!1,s=!1,c={getNativeProps:function(n,i){(i.dangerouslySetInnerHTML==null)?void 0:t.env.NODE_ENV!=="production"?r(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):r(!1);return l({},a.getNativeProps(n,i),{defaultValue:undefined,value:undefined,children:n._wrapperState.initialValue,onChange:n._wrapperState.onChange})},mountWrapper:function(n,i){var c,o,l;t.env.NODE_ENV!=="production"&&(u.checkPropTypes("textarea",i,n._currentElement._owner),i.valueLink===undefined||e||(t.env.NODE_ENV!=="production"?f(!1,"`valueLink` prop on `textarea` is deprecated; set `value` and `onChange` instead."):void 0,e=!0),i.value===undefined||i.defaultValue===undefined||s||(t.env.NODE_ENV!=="production"?f(!1,"Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://fb.me/react-controlled-components"):void 0,s=!0),h(i));c=i.defaultValue;o=i.children;o!=null&&(t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?f(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."):void 0),(c==null)?void 0:t.env.NODE_ENV!=="production"?r(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."):r(!1),Array.isArray(o)&&((o.length<=1)?void 0:t.env.NODE_ENV!=="production"?r(!1,"<textarea> can only have at most one child."):r(!1),o=o[0]),c=""+o);c==null&&(c="");l=u.getValue(i);n._wrapperState={initialValue:""+(l!=null?l:c),listeners:null,onChange:b.bind(n)}},updateWrapper:function(n){var r=n._currentElement.props,i;t.env.NODE_ENV!=="production"&&h(r);i=u.getValue(r);i!=null&&v.setValueForProperty(y.getNodeFromInstance(n),"value",""+i)}};n.exports=c}).call(t,i(4))},function(n,t,i){"use strict";(function(t){function u(n,i){var u,e,f,o,s;for((("_nativeNode"in n))?void 0:t.env.NODE_ENV!=="production"?r(!1,"getNodeFromInstance: Invalid argument."):r(!1),(("_nativeNode"in i))?void 0:t.env.NODE_ENV!=="production"?r(!1,"getNodeFromInstance: Invalid argument."):r(!1),u=0,e=n;e;e=e._nativeParent)u++;for(f=0,o=i;o;o=o._nativeParent)f++;while(u-f>0)n=n._nativeParent,u--;while(f-u>0)i=i._nativeParent,f--;for(s=u;s--;){if(n===i)return n;n=n._nativeParent;i=i._nativeParent}return null}function f(n,i){for((("_nativeNode"in n))?void 0:t.env.NODE_ENV!=="production"?r(!1,"isAncestor: Invalid argument."):r(!1),(("_nativeNode"in i))?void 0:t.env.NODE_ENV!=="production"?r(!1,"isAncestor: Invalid argument."):r(!1);i;){if(i===n)return!0;i=i._nativeParent}return!1}function e(n){return("_nativeNode"in n)?void 0:t.env.NODE_ENV!=="production"?r(!1,"getParentInstance: Invalid argument."):r(!1),n._nativeParent}function o(n,t,i){for(var u=[],r;n;)u.push(n),n=n._nativeParent;for(r=u.length;r-->0;)t(u[r],!1,i);for(r=0;r<u.length;r++)t(u[r],!0,i)}function s(n,t,i,r,f){for(var h=n&&t?u(n,t):null,s=[],o,e;n&&n!==h;)s.push(n),n=n._nativeParent;for(o=[];t&&t!==h;)o.push(t),t=t._nativeParent;for(e=0;e<s.length;e++)i(s[e],!0,r);for(e=o.length;e-->0;)i(o[e],!1,f)}var r=i(5);n.exports={isAncestor:f,getLowestCommonAncestor:u,getParentInstance:e,traverseTwoPhase:o,traverseEnterLeave:s}}).call(t,i(4))},function(n,t,i){"use strict";(function(t){var r=i(33),e=i(56),o=i(6),h;if(t.env.NODE_ENV!=="production")var s={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},u={},f=function(n){var i,f,h;r.properties.hasOwnProperty(n)||r.isCustomAttribute(n)||s.hasOwnProperty(n)&&s[n]||u.hasOwnProperty(n)&&u[n]||(u[n]=!0,i=n.toLowerCase(),f=r.isCustomAttribute(i)?i:r.getPossibleStandardName.hasOwnProperty(i)?r.getPossibleStandardName[i]:null,t.env.NODE_ENV!=="production"?o(f==null,"Unknown DOM property %s. Did you mean %s?",n,f):void 0,h=e.possibleRegistrationNames.hasOwnProperty(i)?e.possibleRegistrationNames[i]:null,t.env.NODE_ENV!=="production"?o(h==null,"Unknown event handler property %s. Did you mean `%s`?",n,h):void 0)};h={onCreateMarkupForProperty:function(n){f(n)},onSetValueForProperty:function(n,t){f(t)},onDeleteValueForProperty:function(n,t){f(t)}};n.exports=h}).call(t,i(4))},function(n,t,i){"use strict";(function(t){function r(n,i,r,u,f,e){t.env.NODE_ENV!=="production"&&s.forEach(function(o){try{o[n]&&o[n](i,r,u,f,e)}catch(s){t.env.NODE_ENV!=="production"?a(!g[n],"exception thrown by devtool while handling %s: %s",n,s.message):void 0;g[n]=!0}})}function nt(){f.purgeUnmountedComponents();d.clearHistory()}function rt(n){return n.reduce(function(n,t){var r=f.getOwnerID(t),i=f.getParentID(t);return n[t]={displayName:f.getDisplayName(t),text:f.getText(t),updateCount:f.getUpdateCount(t),childIDs:f.getChildIDs(t),ownerID:r||f.getOwnerID(i),parentID:i},n},{})}function p(){var r;if(t.env.NODE_ENV!=="production"){var u=b,n=v||[],i=d.getHistory();if(!e||h===0){b=null;v=null;nt();return}(n.length||i.length)&&(r=f.getRegisteredIDs(),w.push({duration:l()-u,measurements:n||[],operations:i||[],treeSnapshot:rt(r)}));nt();b=l();v=[]}}function u(n){t.env.NODE_ENV!=="production"?a(n,"ReactDebugTool: debugID may not be empty."):void 0}var it=i(9),l=i(315),a=i(6),s=[],g={},e=!1,w=[],h=0,v=null,b=null,y=null,k=null,o=null,c={addDevtool:function(n){s.push(n)},removeDevtool:function(n){for(var t=0;t<s.length;t++)s[t]===n&&(s.splice(t,1),t--)},beginProfiling:function(){if(t.env.NODE_ENV!=="production"){if(e)return;e=!0;w.length=0;p()}},endProfiling:function(){if(t.env.NODE_ENV!=="production"){if(!e)return;e=!1;p()}},getFlushHistory:function(){if(t.env.NODE_ENV!=="production")return w},onBeginFlush:function(){t.env.NODE_ENV!=="production"&&(h++,p());r("onBeginFlush")},onEndFlush:function(){t.env.NODE_ENV!=="production"&&(p(),h--);r("onEndFlush")},onBeginLifeCycleTimer:function(n,i){u(n);r("onBeginLifeCycleTimer",n,i);t.env.NODE_ENV!=="production"&&e&&h>0&&(t.env.NODE_ENV!=="production"?a(!o,"There is an internal error in the React performance measurement code. Did not expect %s timer to start while %s timer is still in progress for %s instance.",i,o||"no",n===y?"the same":"another"):void 0,k=l(),y=n,o=i)},onEndLifeCycleTimer:function(n,i){u(n);t.env.NODE_ENV!=="production"&&e&&h>0&&(t.env.NODE_ENV!=="production"?a(o===i,"There is an internal error in the React performance measurement code. We did not expect %s timer to stop while %s timer is still in progress for %s instance. Please report this as a bug in React.",i,o||"no",n===y?"the same":"another"):void 0,v.push({timerType:i,instanceID:n,duration:l()-k}),k=null,y=null,o=null);r("onEndLifeCycleTimer",n,i)},onBeginReconcilerTimer:function(n,t){u(n);r("onBeginReconcilerTimer",n,t)},onEndReconcilerTimer:function(n,t){u(n);r("onEndReconcilerTimer",n,t)},onBeginProcessingChildContext:function(){r("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){r("onEndProcessingChildContext")},onNativeOperation:function(n,t,i){u(n);r("onNativeOperation",n,t,i)},onSetState:function(){r("onSetState")},onSetDisplayName:function(n,t){u(n);r("onSetDisplayName",n,t)},onSetChildren:function(n,t){u(n);r("onSetChildren",n,t)},onSetOwner:function(n,t){u(n);r("onSetOwner",n,t)},onSetText:function(n,t){u(n);r("onSetText",n,t)},onMountRootComponent:function(n){u(n);r("onMountRootComponent",n)},onMountComponent:function(n){u(n);r("onMountComponent",n)},onUpdateComponent:function(n){u(n);r("onUpdateComponent",n)},onUnmountComponent:function(n){u(n);r("onUnmountComponent",n)}},tt;if(t.env.NODE_ENV!=="production"){var ut=i(358),d=i(361),f=i(333);c.addDevtool(ut);c.addDevtool(f);c.addDevtool(d);tt=it.canUseDOM&&window.location.href||"";/[?&]react_perf\b/.test(tt)&&c.beginProfiling()}n.exports=c}).call(t,i(4))},function(n,t,i){"use strict";function e(){this.reinitializeTransaction()}var s=i(7),u=i(20),h=i(61),f=i(12),c={initialize:f,close:function(){r.isBatchingUpdates=!1}},l={initialize:f,close:u.flushBatchedUpdates.bind(u)},a=[l,c],o,r;s(e.prototype,h.Mixin,{getTransactionWrappers:function(){return a}});o=new e;r={isBatchingUpdates:!1,batchedUpdates:function(n,t,i,u,f,e){var s=r.isBatchingUpdates;r.isBatchingUpdates=!0;s?n(t,i,u,f,e):o.perform(n,null,t,i,u,f,e)}};n.exports=r},function(n,t,i){"use strict";function tt(){u||(u=!0,r.EventEmitter.injectReactEventListener(b),r.EventPluginHub.injectEventPluginOrder(o),r.EventPluginUtils.injectComponentTree(a),r.EventPluginUtils.injectTreeTraversal(y),r.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:nt,EnterLeaveEventPlugin:s,ChangeEventPlugin:e,SelectEventPlugin:g,BeforeInputEventPlugin:f}),r.NativeComponent.injectGenericComponentClass(l),r.NativeComponent.injectTextComponentClass(p),r.DOMProperty.injectDOMPropertyConfig(h),r.DOMProperty.injectDOMPropertyConfig(d),r.EmptyComponent.injectEmptyComponentFactory(function(n){return new v(n)}),r.Updates.injectReconcileTransaction(k),r.Updates.injectBatchingStrategy(w),r.Component.injectEnvironment(c))}var f=i(323),e=i(325),o=i(327),s=i(328),h=i(330),c=i(139),l=i(337),a=i(8),v=i(340),y=i(350),p=i(348),w=i(353),b=i(356),r=i(357),k=i(363),d=i(366),g=i(367),nt=i(368),u=!1;n.exports={inject:tt}},function(n,t,i){"use strict";function u(n){r.enqueueEvents(n);r.processEventQueue(!1)}var r=i(47),f={handleTopLevel:function(n,t,i,f){var e=r.extractEvents(n,t,i,f);u(e)}};n.exports=f},function(n,t,i){"use strict";function v(n){while(n._nativeParent)n=n._nativeParent;var t=e.getNodeFromInstance(n),i=t.parentNode;return e.getClosestInstanceFromNode(i)}function u(n,t){this.topLevelType=n;this.nativeEvent=t;this.ancestors=[]}function y(n){var f=s(n.nativeEvent),u=e.getClosestInstanceFromNode(f),t=u,i;do n.ancestors.push(t),t=t&&v(t);while(t);for(i=0;i<n.ancestors.length;i++)u=n.ancestors[i],r._handleTopLevel(n.topLevelType,u,n.nativeEvent,s(n.nativeEvent))}function p(n){var t=a(window);n(t)}var h=i(7),f=i(128),c=i(9),o=i(27),e=i(8),l=i(20),s=i(99),a=i(307),r;h(u.prototype,{destructor:function(){this.topLevelType=null;this.nativeEvent=null;this.ancestors.length=0}});o.addPoolingTo(u,o.twoArgumentPooler);r={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:c.canUseDOM?window:null,setHandleTopLevel:function(n){r._handleTopLevel=n},setEnabled:function(n){r._enabled=!!n},isEnabled:function(){return r._enabled},trapBubbledEvent:function(n,t,i){var u=i;return u?f.listen(u,t,r.dispatchEvent.bind(null,n)):null},trapCapturedEvent:function(n,t,i){var u=i;return u?f.capture(u,t,r.dispatchEvent.bind(null,n)):null},monitorScrollValue:function(n){var t=p.bind(null,n);f.listen(window,"scroll",t)},dispatchEvent:function(n,t){if(r._enabled){var i=u.getPooled(n,t);try{l.batchedUpdates(y,i)}finally{u.release(i)}}}};n.exports=r},function(n,t,i){"use strict";var r=i(33),u=i(47),f=i(89),e=i(92),o=i(137),s=i(143),h=i(57),c=i(148),l=i(20),a={Component:e.injection,Class:o.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:u.injection,EventPluginUtils:f.injection,EventEmitter:h.injection,NativeComponent:c.injection,Updates:l.injection};n.exports=a},function(n,t,i){"use strict";(function(t){var e=i(6),r,u,f;t.env.NODE_ENV!=="production"&&(r=!1,u=function(){t.env.NODE_ENV!=="production"?e(!r,"setState(...): Cannot call setState() inside getChildContext()"):void 0});f={onBeginProcessingChildContext:function(){r=!0},onEndProcessingChildContext:function(){r=!1},onSetState:function(){u()}};n.exports=f}).call(t,i(4))},function(n,t,i){"use strict";var u=i(379),f=/\/?>/,e=/^<\!\-\-/,r={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(n){var t=u(n);return e.test(n)?n:n.replace(f," "+r.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(n,t){var i=t.getAttribute(r.CHECKSUM_ATTR_NAME),f;return i=i&&parseInt(i,10),f=u(n),f===i}};n.exports=r},function(n,t,i){"use strict";(function(t){function w(n,t,i){return{type:u.INSERT_MARKUP,content:n,fromIndex:null,fromNode:null,toIndex:i,afterNode:t}}function b(n,t,i){return{type:u.MOVE_EXISTING,content:null,fromIndex:n._mountIndex,fromNode:e.getNativeNode(n),toIndex:i,afterNode:t}}function k(n,t){return{type:u.REMOVE_NODE,content:null,fromIndex:n._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function d(n){return{type:u.SET_MARKUP,content:n,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function g(n){return{type:u.TEXT_CONTENT,content:n,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(n,t){return t&&(n=n||[],n.push(t)),n}function h(n,t){v.processChildrenUpdates(n,t)}var v=i(92),y=i(13),u=i(147),f=i(28),e=i(37),r=i(332),p=i(12),l=i(382),o=i(5),c=p,a;t.env.NODE_ENV!=="production"&&(c=function(n){y.debugTool.onSetChildren(this._debugID,n?Object.keys(n).map(function(t){return n[t]._debugID}):[])});a={Mixin:{_reconcilerInstantiateChildren:function(n,i,u){if(t.env.NODE_ENV!=="production"&&this._currentElement)try{return f.current=this._currentElement._owner,r.instantiateChildren(n,i,u)}finally{f.current=null}return r.instantiateChildren(n,i,u)},_reconcilerUpdateChildren:function(n,i,u,e,o){var s;if(t.env.NODE_ENV!=="production"&&this._currentElement){try{f.current=this._currentElement._owner;s=l(i)}finally{f.current=null}return r.updateChildren(n,s,u,e,o),s}return s=l(i),r.updateChildren(n,s,u,e,o),s},mountChildren:function(n,i,r){var u=this._reconcilerInstantiateChildren(n,i,r),f,h,o,s,l;this._renderedChildren=u;f=[];h=0;for(o in u)u.hasOwnProperty(o)&&(s=u[o],l=e.mountComponent(s,i,this,this._nativeContainerInfo,r),s._mountIndex=h++,f.push(l));return t.env.NODE_ENV!=="production"&&c.call(this,u),f},updateTextContent:function(n){var i=this._renderedChildren,u,f;r.unmountChildren(i,!1);for(u in i)i.hasOwnProperty(u)&&(t.env.NODE_ENV!=="production"?o(!1,"updateTextContent called on non-empty component."):o(!1));f=[g(n)];h(this,f)},updateMarkup:function(n){var i=this._renderedChildren,u,f;r.unmountChildren(i,!1);for(u in i)i.hasOwnProperty(u)&&(t.env.NODE_ENV!=="production"?o(!1,"updateTextContent called on non-empty component."):o(!1));f=[d(n)];h(this,f)},updateChildren:function(n,t,i){this._updateChildren(n,t,i)},_updateChildren:function(n,i,r){var a=this._renderedChildren,y={},l=this._reconcilerUpdateChildren(a,n,y,i,r),o,w;if(l||a){var u=null,f,v=0,p=0,b=null;for(f in l)l.hasOwnProperty(f)&&(o=a&&a[f],w=l[f],o===w?(u=s(u,this.moveChild(o,b,p,v)),v=Math.max(o._mountIndex,v),o._mountIndex=p):(o&&(v=Math.max(o._mountIndex,v)),u=s(u,this._mountChildAtIndex(w,b,p,i,r))),p++,b=e.getNativeNode(w));for(f in y)y.hasOwnProperty(f)&&(u=s(u,this._unmountChild(a[f],y[f])));u&&h(this,u);this._renderedChildren=l;t.env.NODE_ENV!=="production"&&c.call(this,l)}},unmountChildren:function(n){var t=this._renderedChildren;r.unmountChildren(t,n);this._renderedChildren=null},moveChild:function(n,t,i,r){if(n._mountIndex<r)return b(n,t,i)},createChild:function(n,t,i){return w(i,t,n._mountIndex)},removeChild:function(n,t){return k(n,t)},_mountChildAtIndex:function(n,t,i,r,u){var f=e.mountComponent(n,r,this,this._nativeContainerInfo,u);return n._mountIndex=i,this.createChild(n,t,f)},_unmountChild:function(n,t){var i=this.removeChild(n,t);return n._mountIndex=null,i}}};n.exports=a}).call(t,i(4))},function(n){"use strict";var t=[],i={onNativeOperation:function(n,i,r){t.push({instanceID:n,type:i,payload:r})},clearHistory:function(){i._preventClearing||(t=[])},getHistory:function(){return t}};n.exports=i},function(n,t,i){"use strict";(function(t){var r=i(5),u={isValidOwner:function(n){return!!(n&&typeof n.attachRef=="function"&&typeof n.detachRef=="function")},addComponentAsRefTo:function(n,i,f){u.isValidOwner(f)?void 0:t.env.NODE_ENV!=="production"?r(!1,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):r(!1);f.attachRef(i,n)},removeComponentAsRefFrom:function(n,i,f){u.isValidOwner(f)?void 0:t.env.NODE_ENV!=="production"?r(!1,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):r(!1);var e=f.getPublicInstance();e&&e.refs[i]===n.getPublicInstance()&&f.detachRef(i)}};n.exports=u}).call(t,i(4))},function(n,t,i){"use strict";function u(n){this.reinitializeTransaction();this.renderToStaticMarkup=!1;this.reactMountReady=f.getPooled(null);this.useCreateElement=n}var o=i(7),f=i(134),s=i(27),r=i(57),e=i(145),h=i(61),c={initialize:e.getSelectionInformation,close:e.restoreSelection},l={initialize:function(){var n=r.isEnabled();return r.setEnabled(!1),n},close:function(n){r.setEnabled(n)}},a={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},v=[c,l,a],y={getTransactionWrappers:function(){return v},getReactMountReady:function(){return this.reactMountReady},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(n){this.reactMountReady.rollback(n)},destructor:function(){f.release(this.reactMountReady);this.reactMountReady=null}};o(u.prototype,h.Mixin,y);s.addPoolingTo(u);n.exports=u},function(n,t,i){"use strict";function f(n,t,i){typeof n=="function"?n(t.getPublicInstance()):u.addComponentAsRefTo(t,n,i)}function e(n,t,i){typeof n=="function"?n(null):u.removeComponentAsRefFrom(t,n,i)}var u=i(362),r={};r.attachRefs=function(n,t){if(t!==null&&t!==!1){var i=t.ref;i!=null&&f(i,n,t._owner)}};r.shouldUpdateRefs=function(n,t){var i=n===null||n===!1,r=t===null||t===!1;return i||r||t._owner!==n._owner||t.ref!==n.ref};r.detachRefs=function(n,t){if(t!==null&&t!==!1){var i=t.ref;i!=null&&e(i,n,t._owner)}};n.exports=r},function(n,t,i){"use strict";function r(n){this.reinitializeTransaction();this.renderToStaticMarkup=n;this.useCreateElement=!1}var u=i(7),f=i(27),e=i(61),o=[],s={enqueue:function(){}},h={getTransactionWrappers:function(){return o},getReactMountReady:function(){return s},destructor:function(){},checkpoint:function(){},rollback:function(){}};u(r.prototype,e.Mixin,h);f.addPoolingTo(r);n.exports=r},function(n){"use strict";var t={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},i={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering","in":0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},r={Properties:{},DOMAttributeNamespaces:{xlinkActuate:t.xlink,xlinkArcrole:t.xlink,xlinkHref:t.xlink,xlinkRole:t.xlink,xlinkShow:t.xlink,xlinkTitle:t.xlink,xlinkType:t.xlink,xmlBase:t.xml,xmlLang:t.xml,xmlSpace:t.xml},DOMAttributeNames:{}};Object.keys(i).forEach(function(n){r.Properties[n]=0;i[n]&&(r.DOMAttributeNames[n]=i[n])});n.exports=r},function(n,t,i){"use strict";function it(n){var t,i;return"selectionStart"in n&&w.hasSelectionCapabilities(n)?{start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(t=window.getSelection(),{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}):document.selection?(i=document.selection.createRange(),{parentElement:i.parentElement(),text:i.text,top:i.boundingTop,left:i.boundingLeft}):void 0}function l(n,t){var r,i;return s||u==null||u!==k()?null:(r=it(u),!f||!g(f,r))?(f=r,i=b.getPooled(h.select,o,n,t),i.type="select",i.target=u,v.accumulateTwoPhaseDispatches(i),i):null}var a=i(22),v=i(48),y=i(9),p=i(8),w=i(145),b=i(23),k=i(130),d=i(160),e=i(26),g=i(132),r=a.topLevelTypes,nt=y.canUseDOM&&"documentMode"in document&&document.documentMode<=11,h={select:{phasedRegistrationNames:{bubbled:e({onSelect:null}),captured:e({onSelectCapture:null})},dependencies:[r.topBlur,r.topContextMenu,r.topFocus,r.topKeyDown,r.topMouseDown,r.topMouseUp,r.topSelectionChange]}},u=null,o=null,f=null,s=!1,c=!1,tt=e({onSelect:null}),rt={eventTypes:h,extractEvents:function(n,t,i,e){if(!c)return null;var h=t?p.getNodeFromInstance(t):window;switch(n){case r.topFocus:(d(h)||h.contentEditable==="true")&&(u=h,o=t,f=null);break;case r.topBlur:u=null;o=null;f=null;break;case r.topMouseDown:s=!0;break;case r.topContextMenu:case r.topMouseUp:return s=!1,l(i,e);case r.topSelectionChange:if(nt)break;case r.topKeyDown:case r.topKeyUp:return l(i,e)}return null},didPutListener:function(n,t){t===tt&&(c=!0)}};n.exports=rt},function(n,t,i){"use strict";(function(t){var l=i(22),a=i(128),v=i(48),y=i(8),p=i(369),w=i(370),b=i(23),k=i(373),d=i(375),g=i(60),nt=i(372),tt=i(376),it=i(377),rt=i(49),ut=i(378),ft=i(12),et=i(97),s=i(5),r=i(26),f=l.topLevelTypes,u={abort:{phasedRegistrationNames:{bubbled:r({onAbort:!0}),captured:r({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:r({onAnimationEnd:!0}),captured:r({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:r({onAnimationIteration:!0}),captured:r({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:r({onAnimationStart:!0}),captured:r({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:r({onBlur:!0}),captured:r({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:r({onCanPlay:!0}),captured:r({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:r({onCanPlayThrough:!0}),captured:r({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:r({onClick:!0}),captured:r({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:r({onContextMenu:!0}),captured:r({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:r({onCopy:!0}),captured:r({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:r({onCut:!0}),captured:r({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:r({onDoubleClick:!0}),captured:r({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:r({onDrag:!0}),captured:r({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:r({onDragEnd:!0}),captured:r({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:r({onDragEnter:!0}),captured:r({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:r({onDragExit:!0}),captured:r({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:r({onDragLeave:!0}),captured:r({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:r({onDragOver:!0}),captured:r({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:r({onDragStart:!0}),captured:r({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:r({onDrop:!0}),captured:r({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:r({onDurationChange:!0}),captured:r({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:r({onEmptied:!0}),captured:r({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:r({onEncrypted:!0}),captured:r({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:r({onEnded:!0}),captured:r({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:r({onError:!0}),captured:r({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:r({onFocus:!0}),captured:r({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:r({onInput:!0}),captured:r({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:r({onInvalid:!0}),captured:r({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:r({onKeyDown:!0}),captured:r({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:r({onKeyPress:!0}),captured:r({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:r({onKeyUp:!0}),captured:r({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:r({onLoad:!0}),captured:r({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:r({onLoadedData:!0}),captured:r({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:r({onLoadedMetadata:!0}),captured:r({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:r({onLoadStart:!0}),captured:r({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:r({onMouseDown:!0}),captured:r({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:r({onMouseMove:!0}),captured:r({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:r({onMouseOut:!0}),captured:r({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:r({onMouseOver:!0}),captured:r({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:r({onMouseUp:!0}),captured:r({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:r({onPaste:!0}),captured:r({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:r({onPause:!0}),captured:r({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:r({onPlay:!0}),captured:r({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:r({onPlaying:!0}),captured:r({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:r({onProgress:!0}),captured:r({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:r({onRateChange:!0}),captured:r({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:r({onReset:!0}),captured:r({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:r({onScroll:!0}),captured:r({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:r({onSeeked:!0}),captured:r({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:r({onSeeking:!0}),captured:r({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:r({onStalled:!0}),captured:r({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:r({onSubmit:!0}),captured:r({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:r({onSuspend:!0}),captured:r({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:r({onTimeUpdate:!0}),captured:r({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:r({onTouchCancel:!0}),captured:r({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:r({onTouchEnd:!0}),captured:r({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:r({onTouchMove:!0}),captured:r({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:r({onTouchStart:!0}),captured:r({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:r({onTransitionEnd:!0}),captured:r({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:r({onVolumeChange:!0}),captured:r({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:r({onWaiting:!0}),captured:r({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:r({onWheel:!0}),captured:r({onWheelCapture:!0})}}},o={topAbort:u.abort,topAnimationEnd:u.animationEnd,topAnimationIteration:u.animationIteration,topAnimationStart:u.animationStart,topBlur:u.blur,topCanPlay:u.canPlay,topCanPlayThrough:u.canPlayThrough,topClick:u.click,topContextMenu:u.contextMenu,topCopy:u.copy,topCut:u.cut,topDoubleClick:u.doubleClick,topDrag:u.drag,topDragEnd:u.dragEnd,topDragEnter:u.dragEnter,topDragExit:u.dragExit,topDragLeave:u.dragLeave,topDragOver:u.dragOver,topDragStart:u.dragStart,topDrop:u.drop,topDurationChange:u.durationChange,topEmptied:u.emptied,topEncrypted:u.encrypted,topEnded:u.ended,topError:u.error,topFocus:u.focus,topInput:u.input,topInvalid:u.invalid,topKeyDown:u.keyDown,topKeyPress:u.keyPress,topKeyUp:u.keyUp,topLoad:u.load,topLoadedData:u.loadedData,topLoadedMetadata:u.loadedMetadata,topLoadStart:u.loadStart,topMouseDown:u.mouseDown,topMouseMove:u.mouseMove,topMouseOut:u.mouseOut,topMouseOver:u.mouseOver,topMouseUp:u.mouseUp,topPaste:u.paste,topPause:u.pause,topPlay:u.play,topPlaying:u.playing,topProgress:u.progress,topRateChange:u.rateChange,topReset:u.reset,topScroll:u.scroll,topSeeked:u.seeked,topSeeking:u.seeking,topStalled:u.stalled,topSubmit:u.submit,topSuspend:u.suspend,topTimeUpdate:u.timeUpdate,topTouchCancel:u.touchCancel,topTouchEnd:u.touchEnd,topTouchMove:u.touchMove,topTouchStart:u.touchStart,topTransitionEnd:u.transitionEnd,topVolumeChange:u.volumeChange,topWaiting:u.waiting,topWheel:u.wheel};for(var h in o)o[h].dependencies=[h];var c=r({onClick:null}),e={},ot={eventTypes:u,extractEvents:function(n,i,r,u){var c=o[n],e,h;if(!c)return null;switch(n){case f.topAbort:case f.topCanPlay:case f.topCanPlayThrough:case f.topDurationChange:case f.topEmptied:case f.topEncrypted:case f.topEnded:case f.topError:case f.topInput:case f.topInvalid:case f.topLoad:case f.topLoadedData:case f.topLoadedMetadata:case f.topLoadStart:case f.topPause:case f.topPlay:case f.topPlaying:case f.topProgress:case f.topRateChange:case f.topReset:case f.topSeeked:case f.topSeeking:case f.topStalled:case f.topSubmit:case f.topSuspend:case f.topTimeUpdate:case f.topVolumeChange:case f.topWaiting:e=b;break;case f.topKeyPress:if(et(r)===0)return null;case f.topKeyDown:case f.topKeyUp:e=d;break;case f.topBlur:case f.topFocus:e=k;break;case f.topClick:if(r.button===2)return null;case f.topContextMenu:case f.topDoubleClick:case f.topMouseDown:case f.topMouseMove:case f.topMouseOut:case f.topMouseOver:case f.topMouseUp:e=g;break;case f.topDrag:case f.topDragEnd:case f.topDragEnter:case f.topDragExit:case f.topDragLeave:case f.topDragOver:case f.topDragStart:case f.topDrop:e=nt;break;case f.topTouchCancel:case f.topTouchEnd:case f.topTouchMove:case f.topTouchStart:e=tt;break;case f.topAnimationEnd:case f.topAnimationIteration:case f.topAnimationStart:e=p;break;case f.topTransitionEnd:e=it;break;case f.topScroll:e=rt;break;case f.topWheel:e=ut;break;case f.topCopy:case f.topCut:case f.topPaste:e=w}return e?void 0:t.env.NODE_ENV!=="production"?s(!1,"SimpleEventPlugin: Unhandled event type, `%s`.",n):s(!1),h=e.getPooled(c,i,r,u),v.accumulateTwoPhaseDispatches(h),h},didPutListener:function(n,t){if(t===c){var i=n._rootNodeID,r=y.getNodeFromInstance(n);e[i]||(e[i]=a.listen(r,"click",ft))}},willDeleteListener:function(n,t){if(t===c){var i=n._rootNodeID;e[i].remove();delete e[i]}}};n.exports=ot}).call(t,i(4))},function(n,t,i){"use strict";function u(n,t,i,u){return r.call(this,n,t,i,u)}var r=i(23);r.augmentClass(u,{animationName:null,elapsedTime:null,pseudoElement:null});n.exports=u},function(n,t,i){"use strict";function u(n,t,i,u){return r.call(this,n,t,i,u)}var r=i(23),f={clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}};r.augmentClass(u,f);n.exports=u},function(n,t,i){"use strict";function u(n,t,i,u){return r.call(this,n,t,i,u)}var r=i(23);r.augmentClass(u,{data:null});n.exports=u},function(n,t,i){"use strict";function u(n,t,i,u){return r.call(this,n,t,i,u)}var r=i(60);r.augmentClass(u,{dataTransfer:null});n.exports=u},function(n,t,i){"use strict";function u(n,t,i,u){return r.call(this,n,t,i,u)}var r=i(49);r.augmentClass(u,{relatedTarget:null});n.exports=u},function(n,t,i){"use strict";function u(n,t,i,u){return r.call(this,n,t,i,u)}var r=i(23);r.augmentClass(u,{data:null});n.exports=u},function(n,t,i){"use strict";function f(n,t,i,u){return r.call(this,n,t,i,u)}var r=i(49),u=i(97),e=i(383),o=i(98),s={key:e,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:o,charCode:function(n){return n.type==="keypress"?u(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?u(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}};r.augmentClass(f,s);n.exports=f},function(n,t,i){"use strict";function u(n,t,i,u){return r.call(this,n,t,i,u)}var r=i(49),f=i(98),e={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:f};r.augmentClass(u,e);n.exports=u},function(n,t,i){"use strict";function u(n,t,i,u){return r.call(this,n,t,i,u)}var r=i(23);r.augmentClass(u,{propertyName:null,elapsedTime:null,pseudoElement:null});n.exports=u},function(n,t,i){"use strict";function u(n,t,i,u){return r.call(this,n,t,i,u)}var r=i(60),f={deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(u,f);n.exports=u},function(n){"use strict";function i(n){for(var r=1,u=0,i=0,f=n.length,e=f&-4,o;i<e;){for(o=Math.min(i+4096,e);i<o;i+=4)u+=(r+=n.charCodeAt(i))+(r+=n.charCodeAt(i+1))+(r+=n.charCodeAt(i+2))+(r+=n.charCodeAt(i+3));r%=t;u%=t}for(;i<f;i++)u+=r+=n.charCodeAt(i);return r%=t,u%=t,r|u<<16}var t=65521;n.exports=i},function(n,t,i){"use strict";(function(t){function o(n,i,f){var a=i==null||typeof i=="boolean"||i==="",l,h,o,s,c;return a?"":(l=isNaN(i),l||i===0||u.hasOwnProperty(n)&&u[n])?""+i:(typeof i=="string"&&(t.env.NODE_ENV!=="production"&&f&&(h=f._currentElement._owner,o=h?h.getName():null,o&&!r[o]&&(r[o]={}),s=!1,o&&(c=r[o],s=c[n],s||(c[n]=!0)),s||(t.env.NODE_ENV!=="production"?e(!1,"a `%s` tag (owner: `%s`) was passed a numeric string value for CSS property `%s` (value: `%s`) which will be treated as a unitless number in a future version of React.",f._currentElement.type,o||"unknown",n,i):void 0)),i=i.trim()),i+"px")}var f=i(133),e=i(6),u=f.isUnitlessNumber,r={};n.exports=o}).call(t,i(4))},function(n,t,i){"use strict";(function(t){function h(n){var h,i;if(t.env.NODE_ENV!=="production"&&(h=u.current,h!==null&&(t.env.NODE_ENV!=="production"?s(h._warnedAboutRefsInRender,"%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",h.getName()||"A component"):void 0,h._warnedAboutRefsInRender=!0)),n==null)return null;if(n.nodeType===1)return n;if(i=e.get(n),i)return i=o(i),i?f.getNodeFromInstance(i):null;typeof n.render=="function"?t.env.NODE_ENV!=="production"?r(!1,"findDOMNode was called on an unmounted component."):r(!1):t.env.NODE_ENV!=="production"?r(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(n)):r(!1)}var u=i(28),f=i(8),e=i(94),o=i(157),r=i(5),s=i(6);n.exports=h}).call(t,i(4))},function(n,t,i){"use strict";(function(t){function e(n,i,u){var e=n,o=e[u]===undefined;t.env.NODE_ENV!=="production"&&(t.env.NODE_ENV!=="production"?f(o,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",r.unescape(u)):void 0);o&&i!=null&&(e[u]=i)}function o(n){if(n==null)return n;var t={};return u(n,e,t),t}var r=i(90),u=i(104),f=i(6);n.exports=o}).call(t,i(4))},function(n,t,i){"use strict";function e(n){var t,i;return n.key&&(t=u[n.key]||n.key,t!=="Unidentified")?t:n.type==="keypress"?(i=r(n),i===13?"Enter":String.fromCharCode(i)):n.type==="keydown"||n.type==="keyup"?f[n.keyCode]||"Unidentified":""}var r=i(97),u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};n.exports=e},function(n){"use strict";function t(n){while(n&&n.firstChild)n=n.firstChild;return n}function i(n){while(n){if(n.nextSibling)return n.nextSibling;n=n.parentNode}}function r(n,r){for(var u=t(n),f=0,e=0;u;){if(u.nodeType===3){if(e=f+u.textContent.length,f<=r&&e>=r)return{node:u,offset:r-f};f=e}u=t(i(u))}}n.exports=r},function(n,t,i){"use strict";function u(n,t){var i={};return i[n.toLowerCase()]=t.toLowerCase(),i["Webkit"+n]="webkit"+t,i["Moz"+n]="moz"+t,i["ms"+n]="MS"+t,i["O"+n]="o"+t.toLowerCase(),i}function s(n){var t,i;if(f[n])return f[n];if(!r[n])return n;t=r[n];for(i in t)if(t.hasOwnProperty(i)&&i in e)return f[n]=t[i];return""}var o=i(9),r={animationend:u("Animation","AnimationEnd"),animationiteration:u("Animation","AnimationIteration"),animationstart:u("Animation","AnimationStart"),transitionend:u("Transition","TransitionEnd")},f={},e={};o.canUseDOM&&(e=document.createElement("div").style,"AnimationEvent"in window||(delete r.animationend.animation,delete r.animationiteration.animation,delete r.animationstart.animation),"TransitionEvent"in window||delete r.transitionend.transition);n.exports=s},function(n,t,i){"use strict";(function(t){function f(n){return u.isValidElement(n)?void 0:t.env.NODE_ENV!=="production"?r(!1,"onlyChild must be passed a children with exactly one child."):r(!1),n}var u=i(15),r=i(5);n.exports=f}).call(t,i(4))},function(n,t,i){"use strict";function u(n){return'"'+r(n)+'"'}var r=i(62);n.exports=u},function(n,t,i){"use strict";var r=i(146);n.exports=r.renderSubtreeIntoContainer},function(n,t,i){"use strict";function r(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}function e(n,t,i){if(n&&u.isObject(n)&&n instanceof r)return n;var f=new r;return f.parse(n,t,i),f}function nt(n){return(u.isString(n)&&(n=e(n)),!(n instanceof r))?r.prototype.format.call(n):n.format()}function tt(n,t){return e(n,!1,!0).resolve(t)}function it(n,t){return n?e(n,!1,!0).resolveObject(t):t}var v=i(317),u=i(390);t.parse=e;t.resolve=tt;t.resolveObject=it;t.format=nt;t.Url=r;var y=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,w=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,b=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),o=["'"].concat(b),c=["%","/","?",";","#"].concat(o),l=["/","?","#"],k=255,a=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},s={javascript:!0,"javascript:":!0},f={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},h=i(320);r.prototype.parse=function(n,t,i){var r,rt,b,ot,pt,p,ni,st,nt,ht,ut,tt,wt,ft,ti,ri,e,ct,it,at,vt,et,lt,ui;if(!u.isString(n))throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var dt=n.indexOf("?"),gt=dt!==-1&&dt<n.indexOf("#")?"?":"#",yt=n.split(gt);if(yt[0]=yt[0].replace(/\\/g,"/"),n=yt.join(gt),r=n,r=r.trim(),!i&&n.split("#").length===1&&(rt=w.exec(r),rt))return this.path=r,this.href=r,this.pathname=rt[1],rt[2]?(this.search=rt[2],this.query=t?h.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this;if(b=y.exec(r),b&&(b=b[0],ot=b.toLowerCase(),this.protocol=ot,r=r.substr(b.length)),(i||b||r.match(/^\/\/[^@\/]+@[^@\/]+/))&&(pt=r.substr(0,2)==="//",!pt||b&&s[b]||(r=r.substr(2),this.slashes=!0)),!s[b]&&(pt||b&&!f[b])){for(p=-1,e=0;e<l.length;e++)nt=r.indexOf(l[e]),nt!==-1&&(p===-1||nt<p)&&(p=nt);for(st=p===-1?r.lastIndexOf("@"):r.lastIndexOf("@",p),st!==-1&&(ni=r.slice(0,st),r=r.slice(st+1),this.auth=decodeURIComponent(ni)),p=-1,e=0;e<c.length;e++)nt=r.indexOf(c[e]),nt!==-1&&(p===-1||nt<p)&&(p=nt);if(p===-1&&(p=r.length),this.host=r.slice(0,p),r=r.slice(p),this.parseHost(),this.hostname=this.hostname||"",ht=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]",!ht)for(ut=this.hostname.split(/\./),e=0,ct=ut.length;e<ct;e++)if((tt=ut[e],tt)&&!tt.match(a)){for(wt="",ft=0,ti=tt.length;ft<ti;ft++)wt+=tt.charCodeAt(ft)>127?"x":tt[ft];if(!wt.match(a)){var ii=ut.slice(0,e),bt=ut.slice(e+1),kt=tt.match(d);kt&&(ii.push(kt[1]),bt.unshift(kt[2]));bt.length&&(r="/"+bt.join(".")+r);this.hostname=ii.join(".");break}}this.hostname=this.hostname.length>k?"":this.hostname.toLowerCase();ht||(this.hostname=v.toASCII(this.hostname));lt=this.port?":"+this.port:"";ri=this.hostname||"";this.host=ri+lt;this.href+=this.host;ht&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),r[0]!=="/"&&(r="/"+r))}if(!g[ot])for(e=0,ct=o.length;e<ct;e++)(it=o[e],r.indexOf(it)!==-1)&&(at=encodeURIComponent(it),at===it&&(at=escape(it)),r=r.split(it).join(at));return vt=r.indexOf("#"),vt!==-1&&(this.hash=r.substr(vt),r=r.slice(0,vt)),et=r.indexOf("?"),et!==-1?(this.search=r.substr(et),this.query=r.substr(et+1),t&&(this.query=h.parse(this.query)),r=r.slice(0,et)):t&&(this.search="",this.query={}),r&&(this.pathname=r),f[ot]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(lt=this.pathname||"",ui=this.search||"",this.path=lt+ui),this.href=this.format(),this};r.prototype.format=function(){var i=this.auth||"",t;i&&(i=encodeURIComponent(i),i=i.replace(/%3A/i,":")+"@");var e=this.protocol||"",r=this.pathname||"",o=this.hash||"",n=!1,s="";return this.host?n=i+this.host:this.hostname&&(n=i+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(s=h.stringify(this.query)),t=this.search||s&&"?"+s||"",e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||f[e])&&n!==!1?(n="//"+(n||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):n||(n=""),o&&o.charAt(0)!=="#"&&(o="#"+o),t&&t.charAt(0)!=="?"&&(t="?"+t),r=r.replace(/[?#]/g,function(n){return encodeURIComponent(n)}),t=t.replace("#","%23"),e+n+r+t+o};r.prototype.resolve=function(n){return this.resolveObject(e(n,!1,!0)).format()};r.prototype.resolveObject=function(n){var b,t,k,v,d,g,y,p,nt,w,tt,e,ut,ft,c,rt,h;for(u.isString(n)&&(b=new r,b.parse(n,!1,!0),n=b),t=new r,k=Object.keys(this),v=0;v<k.length;v++)d=k[v],t[d]=this[d];if(t.hash=n.hash,n.href==="")return t.href=t.format(),t;if(n.slashes&&!n.protocol){for(g=Object.keys(n),y=0;y<g.length;y++)p=g[y],p!=="protocol"&&(t[p]=n[p]);return f[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(n.protocol&&n.protocol!==t.protocol){if(!f[n.protocol]){for(nt=Object.keys(n),w=0;w<nt.length;w++)tt=nt[w],t[tt]=n[tt];return t.href=t.format(),t}if(t.protocol=n.protocol,n.host||s[n.protocol])t.pathname=n.pathname;else{for(e=(n.pathname||"").split("/");e.length&&!(n.host=e.shift()););n.host||(n.host="");n.hostname||(n.hostname="");e[0]!==""&&e.unshift("");e.length<2&&e.unshift("");t.pathname=e.join("/")}return t.search=n.search,t.query=n.query,t.host=n.host||"",t.auth=n.auth,t.hostname=n.hostname||n.host,t.port=n.port,(t.pathname||t.search)&&(ut=t.pathname||"",ft=t.search||"",t.path=ut+ft),t.slashes=t.slashes||n.slashes,t.href=t.format(),t}var ot=t.pathname&&t.pathname.charAt(0)==="/",et=n.host||n.pathname&&n.pathname.charAt(0)==="/",o=et||ot||t.host&&n.pathname,st=o,i=t.pathname&&t.pathname.split("/")||[],e=n.pathname&&n.pathname.split("/")||[],it=t.protocol&&!f[t.protocol];if(it&&(t.hostname="",t.port=null,t.host&&(i[0]===""?i[0]=t.host:i.unshift(t.host)),t.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(e[0]===""?e[0]=n.host:e.unshift(n.host)),n.host=null),o=o&&(e[0]===""||i[0]==="")),et)t.host=n.host||n.host===""?n.host:t.host,t.hostname=n.hostname||n.hostname===""?n.hostname:t.hostname,t.search=n.search,t.query=n.query,i=e;else if(e.length)i||(i=[]),i.pop(),i=i.concat(e),t.search=n.search,t.query=n.query;else if(!u.isNullOrUndefined(n.search))return it&&(t.hostname=t.host=i.shift(),h=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1,h&&(t.auth=h.shift(),t.host=t.hostname=h.shift())),t.search=n.search,t.query=n.query,u.isNull(t.pathname)&&u.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t;if(!i.length)return t.pathname=null,t.path=t.search?"/"+t.search:null,t.href=t.format(),t;var l=i.slice(-1)[0],ht=(t.host||n.host||i.length>1)&&(l==="."||l==="..")||l==="",a=0;for(c=i.length;c>=0;c--)l=i[c],l==="."?i.splice(c,1):l===".."?(i.splice(c,1),a++):a&&(i.splice(c,1),a--);if(!o&&!st)for(;a--;a)i.unshift("..");return o&&i[0]!==""&&(!i[0]||i[0].charAt(0)!=="/")&&i.unshift(""),ht&&i.join("/").substr(-1)!=="/"&&i.push(""),rt=i[0]===""||i[0]&&i[0].charAt(0)==="/",it&&(t.hostname=t.host=rt?"":i.length?i.shift():"",h=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1,h&&(t.auth=h.shift(),t.host=t.hostname=h.shift())),o=o||t.host&&i.length,o&&!rt&&i.unshift(""),i.length?t.pathname=i.join("/"):(t.pathname=null,t.path=null),u.isNull(t.pathname)&&u.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=n.auth||t.auth,t.slashes=t.slashes||n.slashes,t.href=t.format(),t};r.prototype.parseHost=function(){var n=this.host,t=p.exec(n);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),n=n.substr(0,n.length-t.length));n&&(this.hostname=n)}},function(n){"use strict";n.exports={isString:function(n){return typeof n=="string"},isObject:function(n){return typeof n=="object"&&n!==null},isNull:function(n){return n===null},isNullOrUndefined:function(n){return n==null}}},function(n){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children=[],Object.defineProperty(n,"loaded",{enumerable:!0,configurable:!1,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,configurable:!1,get:function(){return n.i}}),n.webpackPolyfill=1),n}}])})